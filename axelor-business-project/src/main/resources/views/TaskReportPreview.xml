<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views
                                  http://axelor.com/xml/ns/object-views/object-views_7.4.xsd">

  <!-- preview form -->
  <form name="task-report-preview-form" title="MGM Task Report Preview"
    model="com.axelor.apps.businessproject.db.TaskReport" width="large" canAttach="true">
    <toolbar>
      <button name="printTaskReportbtn" title="Print Task Report" icon="fa-print"
        readonlyIf="!id" onClick="action-task-report-method-print"/>
    </toolbar>
    <panel colSpan="12" name="mainPanel">
      <panel colSpan="12" showTitle="false" style="text-align:center;" showFrame="false">
        <label value="MGM TASK REPORT" style="font-size:18px; font-weight:bold;"/>
      </panel>
      <panel-include view="incl-header-form"/>
      <panel-include view="incl-task-report-general-info-panel-preview"/>
      <panel-include view="incl-task-report-team-member-report-panel-preview"/>
      <panel-include view="incl-task-report-additional-services-panel-preview"/>
      <panel-include view="incl-task-report-sign-off-form-panel-preview"/>
    </panel>
  </form>
  <form name="incl-header-form" title="Company Header"
    model="com.axelor.apps.businessproject.db.TaskReport">
    <panel name="companyHeaderPanel" colSpan="12" showFrame="false" style="text-align:center;">
      <panel showFrame="false" colSpan="6">
        <field name="logoDisplay" showTitle="false" widget="Image" readonly="true"
          colSpan="12">
          <viewer>
            <![CDATA[
            <>
              <Image src="ws/public/app/logo" alt="Company Logo" style={{ width: "80%" }} />
            </>
          ]]>
          </viewer>
        </field>
        <label value="{project?.company?.name ?: __user__?.company?.name}" colSpan="12"
          style="font-size:16px; font-weight:bold; color:#333;"/>
      </panel>
      <panel name="titlePanel" colSpan="6" style="text-align:left;">
        <label title="MGM TASK REPORT" colSpan="12"
          style="font-size:16px; font-weight:bold; color:#333;"/>
      </panel>
    </panel>
  </form>
  <form title="General Info" name="incl-task-report-general-info-panel-preview"
    readonlyIf="_previewReadonly" model="com.axelor.apps.businessproject.db.TaskReport">
    <panel title="General Information" showFrame="false" readonlyIf="_previewReadonly"
      colSpan="12">
      <field name="project" hidden="true" colSpan="6"/>
      <field name="project" title="Order Number" colSpan="6" canView="false"/>
      <field name="customer" colSpan="6" canView="false"/>
      <field name="location" colSpan="6" canView="false"/>
    </panel>
  </form>
  <form title="Team Member Reports" name="incl-task-report-team-member-report-panel-preview"
    readonlyIf="_previewReadonly" model="com.axelor.apps.businessproject.db.TaskReport">
    <panel title="Team Members Reports" showTitle="false" canCollapse="false"
      collapseIf="false" colSpan="12" readonlyIf="_previewReadonly">
      <field name="taskMemberReports" widget="list" form-view="task-member-report-form"
        x-show-bars="true" colSpan="12" readonly="true" showTitle="false"/>
      <field name="totalWorkHours" colSpan="12" readonly="true"/>
    </panel>
  </form>
  <form title="Additional services" name="incl-task-report-additional-services-panel-preview"
    width="large" readonlyIf="_previewReadonly"
    model="com.axelor.apps.businessproject.db.TaskReport">
    <panel colSpan="12" title="Additional Services Details" readonly="true">
      <panel colSpan="12" showFrame="false">
        <panel title="Extra charges" colSpan="6" showFrame="false" showTitle="true">
          <field name="travelExpenses" colSpan="6" widget="checkbox" readonly="true"/>
          <field name="toolsUsage" colSpan="6" widget="checkbox" readonly="true"/>
        </panel>
        <panel title="Additional Services" colSpan="6" showFrame="false" showTitle="true">
          <field name="dirtAllowance" colSpan="6" widget="checkbox" readonly="true"/>
        </panel>
        <panel title="Activity Details" colSpan="12" showTitle="false" showFrame="false"
          readonly="true">
          <field name="material" colSpan="12" widget="textarea"/>
          <field name="otherServices" colSpan="12" widget="textarea"/>
          <field name="comments" title="Comments" colSpan="12" widget="textarea"/>
        </panel>
      </panel>
    </panel>
  </form>
  <form title="Sign Off" name="incl-task-report-sign-off-form-panel-preview"
    model="com.axelor.apps.businessproject.db.TaskReport">
    <panel title="Sign-Off" colSpan="12" readonly="true">
      <panel colSpan="12">
        <field name="taskDate" colSpan="4" readonly="true"/>
      </panel>
      <panel colSpan="12">
        <field name="employee" title="Employee Name" readonly="true"/>
        <field name="customerName" title="Customer Name" colSpan="6"
          hideIf="customerNotAvailable" readonly="true"/>
        <field name="employeeSignature" title="Employee Signature" widget="drawing"
          readonly="true"/>
        <field name="customerSignature" title="Customer Signature" widget="drawing"
          hideIf="customerNotAvailable" hidden="true"/>
      </panel>
      <panel colSpan="12" hidden="true">
        <field name="customerNotAvailable" widget="checkbox" title="Customer Available"
          onChange="action-customer-available-attrs"/>
      </panel>
    </panel>
  </form>

</object-views>