<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models http://axelor.com/xml/ns/domain-models/domain-models_5.4.xsd">
  <module name="sale" package="com.axelor.apps.sale.db"/>

  <entity name="ConfiguratorFormula" lang="java">

    <many-to-one name="metaField" ref="com.axelor.meta.db.MetaField"/>
    <string name="formula" title="Formula" large="true"/>
    <boolean name="showOnConfigurator" title="Show on configurator"/>
    <many-to-one name="creator" ref="com.axelor.apps.sale.db.ConfiguratorCreator"/>
    <integer name="typeSelect" selection="configurator.formula.type.select" title="Type"/>
    <string name="freeIndicatorName" title="Field name"/>
    <string name="freeIndicatorTitle" title="Field title"/>
    <integer name="updateFromSelect" title="Update from" default="0"
      selection="configurator.update.sale.order.line"/>

    <many-to-one ref="com.axelor.meta.db.MetaJsonField" name="metaJsonField"
      title="Meta json"/>


    <string name="fieldName" title="Field"><![CDATA[
      return ConfiguratorFormulaTool.computeFieldName(this);
          ]]></string>

    <extra-imports>import com.axelor.apps.sale.service.configurator.tool.ConfiguratorFormulaTool;
    </extra-imports>
    <extra-code><![CDATA[
            public static final int TYPE_PRODUCT = 1;
            public static final int TYPE_SALE_ORDER_LINE = 2;
            public static final int TYPE_INFO = 3;
        ]]></extra-code>
  </entity>
</domain-models>
