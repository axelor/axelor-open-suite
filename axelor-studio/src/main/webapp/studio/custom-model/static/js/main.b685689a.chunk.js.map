{"version":3,"sources":["Properties/widgetList.js","Properties/propertyFields.js","Properties/properties.helper.js","components/TabPanel.js","constants.js","Toolbar/api.js","components/FieldComponent.js","Panels/Tabs/Field.js","Panels/Tabs/AddPanelView.js","common.func.js","components/SearchView.js","components/SelectComponent.js","components/TranslationGrid.js","Toolbar/DeleteConfirmation.js","Properties/index.js","Panels/Tabs/PropertiesView.js","Panels/SidePanel.js","Editor/index.js","Panels/MainPanel.js","Toolbar/Select.js","Toolbar/customModelSearch.js","Toolbar/ViewSelection.js","Toolbar/Toolbar.js","store/optimizeExtension.js","Toolbar/ToolbarContainer.js","App.js","index.js","services/http.js","services/axelor.rest.js","store/context.js","store/xpathGenerator.js","utils.js","components/Grid.js","Properties/fa-icons.js","Properties/list.js","Properties/fieldTypes.js","components/Panel.js","store/computeXML.js","store/validation.js","fields.js","store/extensionGenerator.js","components/Menu.js","components/Registery.js","components/Widget.js","components/Form.js","components/RelationalFieldGridView.js","components/Field.js"],"names":["selectWidget","data","boolean","integer","string","text","binary","date","datetime","time","button","decimal","Name","props","StringField","name","title","required","readOnly","regex","regexErrorMessage","unique","isDisabled","properties","editWidgetType","metaFieldStore","modelType","MODEL_TYPE","BASE","CUSTOM","id","type","requiredFor","Type","column","selection","formatter","value","tab","entityIndex","indexOf","substring","SelectableType","StaticSelectField","defaultOption","disableClearable","DummyType","DataTypes","Title","translationView","DefaultValue","dependModelType","AppBuilder","ObjectSelectionField","ref","Help","Sequence","IntegerField","Roles","multiple","ValueExpression","UpdateSelection","BooleanField","uncheckDialog","Selection","SelectField","valueField","requiredWhen","requiredNegation","property","updateSelection","SelectionText","depends","dependValue","Widget","widgetList","OnChange","canAddNew","commaSeparated","OnNew","Min","Max","Precision","Scale","JsonRelationalField","getValue","change","_type","serverType","length","Domain","Prompt","parentField","SelectionIn","showInCustomField","Value","ValueAdd","ValueDel","Refresh","Active","shouldRender","list","xPath","includes","TargetJsonModel","displayField","TargetModel","GridView","needsTargetModel","relationalFields","OneToMany","ManyToMany","ManyToOne","FormView","Required","defaultValue","ColumnSequence","ReadOnly","Hidden","VisibleInGrid","ShowIf","HideIf","If","RequiredIf","ReadOnlyIf","IncludeIf","ValidIf","Css","Editable","ColSpan","Array","fill","map","_","i","toString","getOptionLabel","option","parentPanel","TYPE","toolbar","menubar","ItemSpan","IsGenerateMenu","MenuBuilderTitle","MenuBuilderParent","shouldFetchInStart","limit","getMenuBuilderTitle","parent","find","item","parentText","filter","f","ShowTitle","CanSearch","IfModule","Height","Action","Field","CanMove","OrderBy","IncludeView","IncludeFrom","Sidebar","Translatable","Column","MassUpdate","HashKey","Transient","TZ","Encrypted","Password","Multiline","Large","Search","Formula","InitParam","Index","Default","Unique","Image","Ref","MappedBy","OrphanRemoval","Sequential","Cachable","Repository","LogUpdates","Lang","Table","Implements","Persistable","Extends","HashAll","Strategy","PackageName","EntitySelection","Model","Color","Background","Strong","panelAttrs","cols","TabPanelComponent","WidgetComponent","useGridWidget","attrs","isDragging","isTab","rest","items","current","tabs","slice","reduce","all","concat","getTabAttributes","index","key","meta","horizontal","panelId","panelColumns","tabId","activeTabIndex","Fragment","className","classNames","inline","panel","field","dumpField","form","panelStack","panelDashlet","panelRelated","panelInclude","menu","menuItem","divider","ItemTypes","CONTAINER","ROOTCONTAINER","ITEM","DUMMY","entityFieldTypes","long","manyToMany","oneToMany","manyToOne","oneToOne","FIELD_TYPE","number","spacer","separator","hilite","PANEL_TYPE","stack","flow","grid","custom","GRID_SIZE","max","IDS","createWidgets","Symbol","customForm","OneToOne","typeReplacer","include","MANY_TO_MANY","MANY_TO_ONE","ONE_TO_ONE","ONE_TO_MANY","ENTITY","ENTITY_TYPE","META","DEFAULT_VALUE","showTitle","readonly","hidden","sidebar","canCollapse","stacked","canMove","canSearch","multiline","conditionProperties","readonlyIf","requiredIf","hideIf","collapseIf","otherNoQuoteProps","metaJsonFieldService","AxelorService","model","metaModelService","entityModelService","appBpmService","appUserService","metaViewService","modelService","metaAttrsService","metaSelectService","selectionBuilderService","metaTranslationService","fetchCustomFields","modelField","_domain","fullName","search","sortBy","saveCustomModel","a","save","res","status","fields","getFields","$version","version","e","Promise","updatedField","response","updatedFields","fetchJSONFields","ids","update","record","criteria","push","fieldName","operator","then","schema","generateCustomModelSchema","draft","l","widgets","getMenuBuilder","menuBuilder","undefined","0","loader","removeCustomModel","removeAll","getEnableAppBuilder","payload","_domainContext","code","offset","bpmResult","isArray","enableAppBuilder","generateMenuChange","customModel","_context","_model","_id","action","context","fetchCustomModel","modelId","fetch","result","fetchEntityModel","removeEntityModel","fetchEntityFields","packageName","_data","Utils","getEntityModelFields","entityXml","fetchViews","view","viewCriteria","viewList","views","getViews","fetchModelFields","related","metaFields","modelData","fetchAttrsList","conditionPropertiesKeys","Object","keys","conditionPropertiesValues","values","startsWith","endsWith","replace","saveAttrsList","saveAll","deleteAttrsList","fetchLanguages","d","getTranslationList","keyList","saveTranslationList","deleteTranslationList","fetchUserPreferences","info","userInfo","userResponse","getSelectionText","metaSelect","selectionText","payloadData","actionResponse","_properties","useStyles","makeStyles","fieldsContainer","display","justifyContent","alignItems","background","borderRadius","fieldImage","padding","fieldLabel","fontWeight","icon","width","height","backgroundRepeat","backgroundSize","backgroundPosition","position","gridContainer","flexWrap","labelContainer","whiteSpace","overflow","textOverflow","getImageURL","widget","image","FieldComponent","classes","targetName","Tooltip","arrow","translate","placement","Grid","container","xs","style","backgroundImage","Typography","variant","camleCaseString","theme","breakpoints","down","fieldGroupTitle","color","React","memo","state","useStore","entityFields","fieldTypes","modelFields","fieldType","editorType","findIndex","w","showField","design","component","isCoreField","isPalleteField","useDebounceEffect","handler","interval","isMounted","useRef","useEffect","timer","setTimeout","clearTimeout","root","backgroundColor","palette","paper","maxHeight","input","marginRight","titleHeader","borderBottom","listItem","paddingTop","paddingBottom","closeText","textTransform","ResponsiveDialog","onChange","handleClose","total","useTheme","fullScreen","useMediaQuery","handleItemClick","useCallback","canNext","canPrev","getLabel","Dialog","maxWidth","fullWidth","open","onClose","aria-labelledby","DialogTitle","DialogContent","Input","searchText","setSearchText","target","IconButton","onClick","onPrevious","disabled","onNext","List","ListItem","role","dense","ListItemText","primary","DialogActions","Button","autoFocus","createFilterOptions","autoComplete","marginTop","label","fontSize","popperAutoComplete","error","marginBottom","SelectComponent","_props","preData","propertyList","setPropertyList","split","val","useState","setData","setsearchText","moreDialog","setMoreDialog","setOffset","setTotal","initialFetch","setInitialFetch","targetModel","handleInputChange","reason","getSelectValue","join","fetchOptions","uniqueData","uniqBy","optionDebounceHandler","getInputAsOption","handleSearch","handleNext","newOffset","handlePrevious","handleChange","_value","fromDialog","v","inputValue","updatedValue","gridView","getDefaultGridFormName","formView","inputFocused","clearIndicator","popupIndicator","popper","noOptions","options","forcePopupIcon","freeSolo","size","onInputChange","filterOptions","params","filtered","splice","showMore","o","renderInput","TextField","InputLabelProps","row","languageText","textAlign","TranslationGrid","keyValue","translationList","translations","setTranslations","handleTranslationChange","message","language","_translations","newList","translationIndex","handleTranslationUpdate","languageList","lang","onBlur","minWidth","DeleteConfirmation","onOk","aria-describedby","DialogContentText","translationInput","translationInputView","top","outlinedRoot","borderColor","borderWidth","notchedOutline","focused","switchBase","checked","track","iconOutlined","panelTitle","panelMargin","margin","disableInput","translateButton","staticSelectMenuItem","autoCompleteInput","autoCompleteOption","textFieldInput","booleanInputLabel","PropertiesContext","createContext","isValueGenerated","StringInput","onTranslationRemove","clearable","confirm","setConfirm","min","useContext","Label","placeholder","JSON","parse","Boolean","handleTranslationClick","newValue","generateFieldUniqueTitle","getProperty","handleTranslationRemove","removeTranslation","helperText","InputProps","endAdornment","flag","inputProps","minRows","isNaN","Number","trim","openAlert","setAlertOpen","getPropertyValue","fieldValue","handleOnChange","FormControlLabel","control","Switch","StaticSelection","helper","toLowerCase","ColorTag","groupLabel","autoHighlight","colSpan","renderOption","RenderPropertyField","elements","errors","entityType","actualType","checkDepend","checkModel","PropertiesProvider","children","Provider","Properties","onWidgetChange","editWidget","customFieldWidgets","errorList","isSelectionField","selectedType","tz","typeFieldIndex","overview","fieldOptions","widgetAttributes","inputLabel","labelWidth","setLabelWidth","changedPropertyName","newProperties","obj","offsetWidth","hasPropertyToShow","capitalizeFirst","flexDirection","boxShadow","borderTop","minHeight","borderTopRightRadius","scrollbarWidth","borderBottomRightRadius","activeTab","ListAlt","PlaylistAdd","TabPanel","tabIndex","Paper","square","Tabs","event","TabIndicatorProps","Tab","uiContainer","loaderContainer","zIndex","border","bottom","left","right","emptyFormInfo","FormViewUI","store","formInfo","CircularProgress","onSelect","dragWidget","hoverWidget","onMove","onDrag","onHover","setHoverAttr","Form","customFieldItems","Editor","autoCompleteRoot","marginLeft","inputView","popperView","searchFilter","filterData","onSearch","loading","setLoading","setList","searchMore","setSearchMore","models","uniqueList","service","debounceHandler","handleTextChange","clearOnEscape","getOptionSelected","modelSearch","modelResult","modelIndex","m","modelTypes","startLoader","entityModel","clearHistory","modelName","handleEntityModelSelect","initialItems","attrsList","initialTranslationList","removedTranslationList","originalModelFields","metaModelFields","stringify","relationship","typeName","generateEntityModelSchema","handleModelSelect","exView","initialWidgets","customFields","extensionXML","extensionView","originalXML","selectedView","extensionMoves","_fields","modelRecord","handleViewSelect","generateXMLToViewSchema","translationNames","originalViewData","convert","xml2json","xml","compact","fullTagEmptyElement","_viewSearch","fieldList","generateXpath","viewFilter","getEntityModel","modelFilter","metaFieldFilter","handleMetaFieldSelect","handleTypeSelect","handleViewFilterData","computed","extension","filterSelectedOptions","toolbarContainer","toolItemView","crudIcon","cursor","selectionContainer","flex","toolbarActions","disableBtn","ToolbarButton","saveView","saveCustomFieldView","removeView","onNew","isRemoveDisabled","xmlId","isNewDisabled","isSaveDisabled","onSidePanelToggle","Menu","Add","Save","undo","pastLength","Undo","redo","futureLength","Redo","hasIndex","path","isSameAsOriginal","originalWidgets","attributes","itemExplore","exploreTarget","widgetExplore","self","attributeName","dashToCamelCase","widgetValue","maskedValue","maskName","getUpdatedAttrsList","newAttrsList","removedAttrsList","moves","movesMap","Map","currentWidgets","forEach","widgetId","eGeneratePath","getWidgets","move","convertConditionName","newMove","assign","set","moveExplore","pathText","endIndex","getName","fieldIndex","attr","isOriginal","isCurrent","newAttrsIndex","changedAttrsList","optimizeExtension","processed","explore","p","_list","_item","lastItem","k","filterListForAttribute","canRemoveReplace","insertIndex","source","moveIndex","removeIndex","filterListForRemove","customFieldService","getChangedTranslationList","initialList","deletedTranslationList","changedTranslationList","initialItem","deleteConfirmationDialog","setDeleteConfirmationDialog","closeLoader","clearView","dialog","getCustomModelFields","propertyValues","Set","formProperties","getFormProperties","isGenerateMenu","menuBuilderTitle","parentMenu","menuBuilderParent","reload","removedCustomFields","errorMessage","patch","generateView","processXML","json2xml","exemptAttributes","isCreatedFromStudio","viewSearch","fetchResult","metaView","originalSchema","generateViewFromJson","getXML","isAttrsChanged","conditionalValues","isTranslationChanged","getExistingExtension","json","handleNew","getDefaultProperties","extraProps","failedRes","r","handleConfirmationClose","deleteView","handleRemoveConfirmation","handleSidePanelToggle","sidePanel","dangerouslySetInnerHTML","__html","renderDialog","past","future","toolbarWrapper","panelContainer","mainPanel","createTheme","typography","fontFamily","AppContent","isResponsive","document","body","App","DndProvider","backend","Backend","ThemeProvider","ReactDOM","render","getElementById","lastCookieString","headers","Accept","lastCookies","readCookie","cookieString","cookie","parts","joinURL","subURL","services","this","baseURL","url","method","axios","request","credential","localStorage","getItem","username","password","login","interceptor","resolve","catch","relogin","setItem","removeItem","post","_subURL","records","logout","get","StoreContext","StoreProvider","setState","updater","produce","useMutableState","hoverAttr","getAllChildrenIds","widgetType","collectIds","onExtension","moveIds","oldWidgets","oldItems","generateExtension","setPresent","object","original","generateHistory","reset","isCustomField","extendList","setErrorList","test","caseConverter","isExtensionView","keyReplacer","valueConverter","parentId","x","Math","widgetAttrs","itemSpan","child","destination","resolver","isMoved","_widgets","isNew","checkExclusive","isDrop","_extendList","_attrs","mappedBy","dragWidgetProps","extraAttr","_eWidgetAttr","_attrsWidgetAttr","hoverPanel","reorderGrid","checkGridEmptyCells","validateParentPanelItems","onRemove","window","widgetItems","unshift","isPanel","childrenIds","layout","arrangeItems","arrangeGrid","validateOnRemove","getItemType","itemId","isFirstLevel","hasSameNameInParentItems","originalName","getSameItemIndex","getTypeWiseItemIndex","getWidgetType","isUniquePanel","canStopParentLink","findRoot","widgetIds","_widget","itemPath","itemIndex","word","str","toUpperCase","isCamelCase","convertedText","camelCase","textToConvert","charAt","_t","getSpacer","other","isDummy","isDummyWidget","getGrid","trackElement","ind","span","fillRow","start","indices","modelFieldType","removeIds","emptyColumns","cell","every","removeWidget","isLastItemRemove","columnCells","rowCells","gridRow","findCol","deleteItem","isDummyItem","$id","newId","uniqueId","otherProps","targetWidget","validate","dragWidgetItems","_items","destinationItems","hoverCellRowIndex","relatedColSpan","hoverType","existingColspan","newIds","widgetIndex","beforeWidgets","afterWidgets","cellIndex","rowIndex","isSpacer","lastItemIndex","collectWidgets","isRemovedFromSameList","sourcePanel","sourceItems","sourceItemIndex","isLastItem","isLastItemInSamePanel","hoverParent","isPanelTab","ceil","hoverPath","newWidgetIds","hoverWidgetParentItems","hoverWidgetId","actualHoverWidget","shouldInsertInParent","hoverPathInfo","targetInfo","isCreateWidget","shouldAdd","processMoves","exclusive","getColSpan","defaultColspan","getCols","_panelId","typeLateral","formType","formItems","tabItems","_ID","replacer","minSize","maxSize","camelToDashCase","editorKeyReplacer","_keyIndex","isDummyField","types","getCustomWidget","exempt","exemptedAttrs","isAttrHasDefaultValue","parentValue","shouldCheckParent","_obj","caseString","g","isDefaultValue","targetSplit","getElementToWidget","element","itemList","fieldTarget","itemTarget","_key","elementType","getElementName","TYPE_REPLACER","getElementTypes","autoTitle","getTitle","getSpecialType","getXMLToViewItems","exclude","getExtensionElements","chars","floor","random","randomString","isForm","isJson","modelString","viewName","dasherize","xmlString","indent","format","getWidgetAttrs","isModelField","squareIndex","additionalProps","countSequence","sequence","except","getEntityField","localdatetime","localdate","formWidth","getPatchList","xmlJson","filterFormPatch","patchList","getCurrentFormAttributes","mergeFormAttributes","formPatch","targetIndex","remove","isSamePositionInOriginal","hoverItemIndex","defaultType","getReferenceProperty","formData","getEntityItems","getEntityViewItems","checkTarget","checkString","which","getChangeList","extensionXml","elems","moveElement","col","parentItemSpan","DEFAULTS","GridContainer","setWidgetComponent","module","default","gridSize","columns","isStackLayout","spacerWidth","colWidth","rows","useMemo","cellIndice","isStack","getItemColspan","$cell","dummy","dummyPanel","addRow","fillColspan","addItem","occupiedSpan","remainSpan","fullGrid","draggable","upRow","midRow","addCell","$row","j","getFullGrid","c","columnIndex","gridRows","arr","cellPadding","cellSpacing","indice","isSeparator","colIndex","canRemove","fontAwesome","stringOption","existsCheck","uiOptions","conditions","valueExpr","roles","integerOption","decimalOption","booleanOption","datetimeOption","panelOption","panelStackOption","panelTabOption","buttonOption","fontAwesomeList","seperatorOption","spacerOption","labelOption","viewerOption","manyToOneOption","manyToManyAndOneToManyOption","customRelationOption","formOption","actions","commonOption","dummyOption","viewOption","gridOption","panelDashletOption","menuItemOption","dividerOption","menuOption","panelRelatedOption","panelIncludeOption","commonEntityOption","stringEntity","decimalEntity","integerEntity","dateEntity","timeEntity","datetimeEntity","longEntity","booleanEntity","binaryEntity","oneToManyEntity","manyToManyEntity","manyToOneEntity","oneToOneEntity","entityOption","hiliteOption","setAttributeOnNewWidget","inserted","_inserted","exemptedAttributes","attrIndex","cleatVirtualAction","generateNestedView","_subItems","getWidgetObject","getExtendJson2","insertOnNewPanel","lst","addErrorMessage","RegExp","entityTypes","getWidgetAttrsObject","itemSource","uiFields","subViews","openMenu","setOpenMenu","handleToggleMenu","stopPropagation","Registery","dump_field","Panel","CardSource","canDrag","WIDGET_TYPE","beginDrag","endDrag","monitor","didDrop","newProps","CardTarget","hover","dragIndex","dragPanelId","dragId","dragAttrs","hoverIndex","hoverPanelId","hoverId","hoverAttrs","panelSet","maxIndex","gridTab","rowCount","stateItems","widgetKey","isOver","shallow","parentWidgetAttrs","dragAttrsWidgetAttrs","connectDragSource","connectDropTarget","highlighted","hovered","DefaultWidgetComponent","visible","registryField","Registry","componentProps","isFormField","isEdit","isTabWidget","isTabWidgetContent","showRemove","isExist","edit","active","SimpleWidget","DraggableWidget","compose","DropTarget","connect","dropTarget","DragSource","dragSource","FormComponent","rootPanel","mainItems","excludedUITypes","showInGrid","visibleInGrid","RelationalFieldGridView","targetJsonModel","gridItems","setGridItems","gridTitle","setGridTitle","actionResult","jsonFields","jsonAttrs","displayFields","allFields","TextInput","MultiTextInput","Spacer","Separator","MenuItem","Hilite","strong","DefaultWidget","alt","src"],"mappings":"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QACYwmB,EAMT,EANHzB,WACAoB,EAKG,EALHA,YACAzhC,EAIG,EAJHA,UACA43B,EAGG,EAHHA,eAID,OACC,wBACCx5B,UAAW4B,EAAY,YAAc,GACrCpC,IAAKkkC,EACLxmB,QAASA,EAAU,EAAc,EAAVA,EAAc,EAAIA,GAExCze,GACA,kBAACA,EAAD,CACC6Q,OAAQA,EACR7P,KAAM,CACLkkC,YAAavoB,QAAQxZ,GACrBsb,UACAzF,IAAKuiB,EACLmH,IAAKlnC,EACL2pC,SAAUP,EACVphC,KAAMqhC,EACNlyB,MAAOuwB,EACPnI,eAAgBA,GAEjB75B,QAASA,EACTH,IAAKkkC,EACLjwC,GAAIA,EACJ8L,MAAOmkC,EACP9jC,aAAcjB,EAAMJ,KACpBrH,MAAO1E,EAAM0E,MACbgnB,UAAW1rB,EAAM0rB,UACjB2lB,UAAWrxC,EAAMqxC,yB,2CC+ffC,EArxBK,CACnB,WACA,kBACA,oBACA,kBACA,oBACA,YACA,SACA,kBACA,mBACA,gBACA,iBACA,YACA,eACA,yCACA,YACA,aACA,eACA,uBACA,uBACA,wBACA,qBACA,gBACA,gBACA,iBACA,cACA,WACA,aACA,gBACA,uBACA,uBACA,yBACA,yBACA,0BACA,uBACA,wBACA,qBACA,gBACA,gBACA,iBACA,cACA,YACA,gBACA,cACA,cACA,sBACA,iCACA,cACA,QACA,uBACA,gBACA,cACA,mBACA,SACA,cACA,UACA,eACA,iBACA,aACA,UACA,UACA,aACA,aACA,eACA,eACA,eACA,eACA,eACA,mBACA,kBACA,kBACA,qBACA,4BACA,SACA,UACA,aACA,oBACA,UACA,YACA,gBACA,kBACA,aACA,gBACA,mBACA,eACA,sBACA,aACA,eACA,WACA,eACA,iBACA,UACA,UACA,UACA,UACA,cACA,gBACA,aACA,eACA,SACA,SACA,cACA,gBACA,cACA,cACA,SACA,gBACA,SACA,gBACA,cACA,sBACA,sBACA,gBACA,qBACA,sBACA,YACA,kBACA,SACA,gBACA,gBACA,iBACA,yBACA,yBACA,0BACA,uBACA,cACA,qBACA,eACA,QACA,aACA,oBACA,iBACA,YACA,mBACA,eACA,eACA,aACA,iBACA,WACA,kBACA,WACA,kBACA,oBACA,kBACA,oBACA,yBACA,yBACA,0BACA,uBACA,kBACA,kBACA,mBACA,gBACA,WACA,YACA,YACA,cACA,oBACA,iBACA,eACA,aACA,WACA,WACA,WACA,oBACA,kBACA,SACA,UACA,eACA,aACA,cACA,YACA,SACA,UACA,aACA,aACA,eACA,gBACA,kBACA,cACA,gBACA,aACA,cACA,oBACA,YACA,UACA,eACA,sBACA,iBACA,qBACA,UACA,gBACA,UACA,UACA,WACA,SACA,aACA,eACA,cACA,cACA,UACA,cACA,YACA,eACA,aACA,gBACA,aACA,UACA,YACA,kBACA,cACA,cACA,qBACA,uBACA,aACA,YACA,UACA,UACA,aACA,WACA,gBACA,gBACA,YACA,cACA,gBACA,mBACA,qBACA,qBACA,YACA,YACA,UACA,SACA,UACA,cACA,iBACA,wBACA,0BACA,YACA,kBACA,mBACA,0BACA,SACA,eACA,gBACA,QACA,cACA,gBACA,uBACA,qBACA,mBACA,kBACA,SACA,UACA,YACA,iBACA,UACA,oBACA,kBACA,iBACA,kBACA,kBACA,kBACA,YACA,gBACA,kBACA,oBACA,uBACA,kBACA,eACA,iBACA,kBACA,iBACA,gBACA,aACA,UACA,YACA,UACA,uBACA,aACA,iBACA,UACA,oBACA,YACA,WACA,WACA,YACA,cACA,YACA,cACA,iBACA,mBACA,UACA,kBACA,eACA,kBACA,cACA,aACA,gBACA,oBACA,aACA,cACA,aACA,WACA,SACA,QACA,UACA,WACA,gBACA,gBACA,QACA,eACA,UACA,SACA,gBACA,YACA,gBACA,mBACA,YACA,YACA,WACA,WACA,aACA,WACA,YACA,iBACA,wBACA,0BACA,wBACA,mBACA,oBACA,cACA,UACA,WACA,cACA,iBACA,iBACA,mBACA,iBACA,iBACA,kBACA,eACA,kBACA,kBACA,oBACA,iBACA,qBACA,kBACA,iBACA,iBACA,qBACA,aACA,WACA,YACA,gBACA,WACA,aACA,eACA,aACA,UACA,gBACA,WACA,eACA,iBACA,iBACA,iBACA,mBACA,oBACA,iBACA,qBACA,WACA,WACA,cACA,cACA,aACA,eACA,SACA,WACA,UACA,WACA,YACA,cACA,UACA,iBACA,SACA,eACA,iBACA,uBACA,cACA,aACA,YACA,YACA,SACA,cACA,SACA,gBACA,SACA,cACA,YACA,YACA,mBACA,UACA,aACA,WACA,aACA,gBACA,cACA,eACA,eACA,eACA,gBACA,iBACA,gBACA,UACA,cACA,qBACA,YACA,WACA,UACA,cACA,aACA,aACA,oBACA,UACA,qBACA,qBACA,sBACA,mBACA,gBACA,WACA,YACA,kBACA,gBACA,oBACA,UACA,SACA,gBACA,WACA,aACA,eACA,UACA,iBACA,iBACA,mBACA,mBACA,YACA,cACA,YACA,YACA,YACA,WACA,aACA,eACA,gBACA,sBACA,WACA,kBACA,kBACA,oBACA,cACA,YACA,kBACA,UACA,WACA,YACA,kBACA,gBACA,mBACA,WACA,aACA,YACA,iBACA,kBACA,oBACA,mBACA,0BACA,cACA,YACA,WACA,mBACA,aACA,eACA,iBACA,iBACA,mBACA,eACA,eACA,WACA,WACA,kBACA,oBACA,SACA,YACA,YACA,mBACA,qBACA,aACA,WACA,kBACA,WACA,eACA,eACA,gBACA,oBACA,mBACA,eACA,iBACA,sBACA,WACA,UACA,iBACA,mBACA,UACA,UACA,iBACA,iBACA,mBACA,aACA,eACA,WACA,kBACA,kBACA,QACA,YACA,cACA,qBACA,uBACA,WACA,gBACA,iBACA,QACA,YACA,aACA,WACA,aACA,YACA,kBACA,mBACA,aACA,gBACA,YACA,YACA,aACA,YACA,WACA,eACA,gBACA,aACA,SACA,UACA,YACA,iBACA,kBACA,YACA,SACA,gBACA,SACA,WACA,WACA,SACA,YACA,UACA,cACA,YACA,YACA,kBACA,iBACA,YACA,UACA,YACA,YACA,WACA,eACA,sBACA,kBACA,oBACA,YACA,YACA,YACA,UACA,kBACA,kBACA,qBACA,mBACA,YACA,aACA,mBACA,cACA,YACA,aACA,iBACA,aACA,cACA,WACA,WACA,aACA,gBACA,aACA,cACA,oBACA,qBACA,iBACA,mBACA,UACA,oBACA,qBACA,qBACA,sBACA,cACA,eACA,eACA,sBACA,uBACA,aACA,gBACA,mBACA,aACA,WACA,aACA,YACA,cACA,oBACA,oBACA,UACA,eACA,qBACA,oBACA,iBACA,YACA,WACA,kBACA,mBACA,kBACA,iBACA,iBACA,mBACA,UACA,iBACA,mBACA,iBACA,mBACA,iBACA,wBACA,eACA,YACA,cACA,WACA,iBACA,iBACA,aACA,WACA,YACA,gBACA,SACA,UACA,WACA,UACA,cACA,gBACA,mBACA,cACA,iBACA,gBACA,QACA,cACA,aACA,eACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,uBACA,sBACA,sBACA,yBACA,gCACA,gBACA,iBACA,mBACA,iBACA,eACA,YACA,WACA,kBACA,oBACA,qBACA,uBACA,UACA,iBACA,iBACA,gBACA,eACA,kBACA,eACA,eACA,WACA,iBACA,qBACA,WACA,aACA,UACA,YACA,iBACA,YACA,WACA,SACA,SACA,YACA,mBACA,kBACA,QACA,YACA,aACA,oBACA,cACA,eACA,UACA,sBACA,gBACA,YACA,YACA,gBACA,cACA,YACA,SACA,SACA,UACA,iBACA,mBACA,aACA,YACA,eACA,iBACA,gBACA,WACA,WACA,aACA,WACA,kBACA,gBACA,aACA,YACA,mBACA,kBACA,WACA,kBACA,UACA,QACA,0BACA,iBACA,gBACA,eACA,aACA,YACA,WACA,YACA,cACA,gBACA,oBACA,UACA,iBACA,kBACA,oBACA,qBACA,qBACA,oBACA,aACA,SACA,eACA,gBACA,gBACA,aACA,YACA,UACA,iBACA,kBACA,yBACA,WACA,QACA,eACA,UACA,SACA,WACA,aACA,kBACA,qB,uDCjqB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","file":"static/js/main.b685689a.chunk.js","sourcesContent":["const selectWidget = [\n\t\"NavSelect\",\n\t\"CheckboxSelect\",\n\t\"RadioSelect\",\n\t\"MultiSelect\",\n\t\"ImageSelect\",\n];\nconst data = {\n\tboolean: [\n\t\t\"InlineCheckbox\",\n\t\t\"Toggle\",\n\t\t\"BooleanSelect\",\n\t\t\"BooleanRadio\",\n\t\t\"BooleanSwitch\",\n\t\t...selectWidget,\n\t],\n\tinteger: [\n\t\t\"RelativeTime\",\n\t\t\"Duration\",\n\t\t\"Progress\",\n\t\t\"SelectProgress\",\n\t\t...selectWidget,\n\t],\n\tstring: [\n\t\t\"Email\",\n\t\t\"Url\",\n\t\t\"Password\",\n\t\t\"Html\",\n\t\t\"CodeEditor\",\n\t\t\"ImageLine\",\n\t\t...selectWidget,\n\t],\n\ttext: [\"Html\", \"CodeEditor\", ...selectWidget],\n\t\"many-to-one\": [\"SuggestBox\", \"Image\", \"binary-link\"],\n\t\"json-many-to-one\": [\"SuggestBox\", \"Image\", \"binary-link\"],\n\t\"one-to-one\": [\"SuggestBox\", \"Image\"],\n\t\"json-one-to-one\": [\"SuggestBox\", \"Image\"],\n\t\"many-to-many\": [\"TagSelect\"],\n\t\"json-many-to-many\": [\"TagSelect\"],\n\tbinary: [\"Image\", \"BinaryLink\", ...selectWidget],\n\tdate: [...selectWidget],\n\tdatetime: [...selectWidget],\n\ttime: [...selectWidget],\n\tbutton: [\"Button\", \"InfoButton\", \"ToolButton\"],\n\tdecimal: [\n\t\t\"RelativeTime\",\n\t\t\"Duration\",\n\t\t\"Progress\",\n\t\t\"SelectProgress\",\n\t\t...selectWidget,\n\t],\n};\n\nexport default data;\n","import {\n\tStringField,\n\tObjectSelectionField,\n\tIntegerField,\n\tSelectField,\n\tStaticSelectField,\n\tBooleanField,\n} from \"./fieldTypes\";\nimport widgetList from \"./widgetList\";\nimport { MODEL_TYPE, DataTypes, relationalFields, TYPE } from \"../constants\";\nimport { getMenuBuilderTitle } from \"./properties.helper\";\n\n/** Overview Fields */\nexport const Name = ({ ...props } = {}) =>\n\tStringField({\n\t\tname: \"name\",\n\t\ttitle: \"Name\",\n\t\trequired: true,\n\t\treadOnly: true,\n\t\tregex: /^[a-z]/i,\n\t\tregexErrorMessage: \"First Letter of the name should always be alphabet\",\n\t\tunique: true,\n\t\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\t\t// const name = properties['name'];\n\t\t\t\t// const index = metaFieldStore.findIndex(field => field.name === name);\n\t\t\t\t// return index !== -1 ? true : false;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tmodelType === MODEL_TYPE.CUSTOM &&\n\t\t\t\tproperties &&\n\t\t\t\tproperties.id &&\n\t\t\t\tproperties.type === \"form\"\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\trequiredFor: [\n\t\t\t\"button\",\n\t\t\t\"label\",\n\t\t\t\"panel\",\n\t\t\t\"string\",\n\t\t\t\"panel-dashlet\",\n\t\t\t\"separator\",\n\t\t\t\"panel-stack\",\n\t\t\t\"integer\",\n\t\t\t\"date\",\n\t\t\t\"time\",\n\t\t\t\"datetime\",\n\t\t\t\"decimal\",\n\t\t\t\"one-to-many\",\n\t\t\t\"many-to-many\",\n\t\t\t\"boolean\",\n\t\t\t\"label\",\n\t\t\t\"viewer\",\n\t\t\t\"editor\",\n\t\t\t\"one-to-one\",\n\t\t\t\"spacer\",\n\t\t\t\"long\",\n\t\t\t\"hilite\",\n\t\t],\n\t\t...props,\n\t});\n\nexport const Type = StringField({\n\tname: \"type\",\n\tcolumn: \"type_name\",\n\ttitle: \"Type\",\n\trequired: true,\n\tselection: \"json.field.type\",\n\treadOnly: \"true\",\n\tformatter: (value, properties) => {\n\t\tif (properties.tab) {\n\t\t\treturn \"panel-tabs\";\n\t\t}\n\t\tconst entityIndex = value.indexOf(\"entity\");\n\t\tif (entityIndex !== -1) {\n\t\t\treturn value.substring(0, entityIndex);\n\t\t}\n\t\treturn value;\n\t},\n});\n\nexport const SelectableType = StaticSelectField({\n\tname: \"type\",\n\ttitle: \"Type\",\n\tcolumn: \"type_name\",\n\trequired: true,\n\tdata: [\"string\", \"integer\"],\n\tdefaultOption: false,\n\tdisableClearable: true,\n\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\treturn true;\n\t\t}\n\t},\n});\n\nexport const DummyType = StaticSelectField({\n\tname: \"dummyType\",\n\ttitle: \"Type\",\n\tdata: [...DataTypes],\n});\n\nexport const Title = StringField({\n\tname: \"title\",\n\ttitle: \"Title\",\n\ttranslationView: false,\n});\n\nexport const DefaultValue = StringField({\n\tname: \"defaultValue\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Default value\",\n});\n\nexport const AppBuilder = ObjectSelectionField({\n\tname: \"appBuilder\",\n\ttitle: \"App name\",\n\tref: \"com.axelor.studio.db.AppBuilder\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Help = StringField({\n\tname: \"help\",\n\ttitle: \"Help\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Sequence = IntegerField({\n\tname: \"sequence\",\n\ttitle: \"Sequence\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\n/** Roles Fields */\nexport const Roles = ObjectSelectionField({\n\tname: \"roles\",\n\ttitle: \"Roles\",\n\tref: \"com.axelor.auth.db.Role\",\n\tmultiple: true,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\n/** ValueExpr Fields */\nexport const ValueExpression = {\n\tname: \"valueExpr\",\n\ttitle: \"Value expr\",\n\ttype: \"text\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n};\n\n/** Field Options Fields */\nexport const UpdateSelection = BooleanField({\n\tname: \"updateSelection\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"New selection\",\n\tuncheckDialog: true,\n});\n\nexport const Selection = SelectField({\n\tname: \"selection\",\n\ttitle: \"Selection\",\n\tref: \"com.axelor.meta.db.MetaSelect\",\n\tvalueField: \"name\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\trequiredWhen: UpdateSelection.name,\n\trequiredNegation: true,\n\tisDisabled: (property, editWidgetType, modelType) => {\n\t\treturn property.updateSelection;\n\t},\n});\n\nexport const SelectionText = StringField({\n\tname: \"selectionText\",\n\ttype: \"text\",\n\tdepends: \"updateSelection\",\n\tdependValue: true,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\trequiredWhen: UpdateSelection.name,\n\ttitle: \"Select options\",\n});\n\nexport const Widget = StaticSelectField({\n\tname: \"widget\",\n\tdata: widgetList,\n\ttitle: \"Widget\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const OnChange = SelectField({\n\tname: \"onChange\",\n\tref: \"com.axelor.meta.db.MetaAction\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"On change\",\n\tmultiple: true,\n\tcanAddNew: true,\n\tcommaSeparated: true,\n});\n\nexport const OnNew = SelectField({\n\ttitle: \"On new\",\n\tname: \"onNew\",\n\tref: \"com.axelor.meta.db.MetaAction\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tmultiple: true,\n\tcommaSeparated: true,\n\tcanAddNew: true,\n});\n\nexport const OnLoad = SelectField({\n\ttitle: \"On load\",\n\tname: \"onLoad\",\n\tref: \"com.axelor.meta.db.MetaAction\",\n\tmultiple: true,\n\tcommaSeparated: true,\n\tcanAddNew: true,\n});\n\nexport const OnSave = SelectField({\n\tname: \"onSave\",\n\tref: \"com.axelor.meta.db.MetaAction\",\n\tmultiple: true,\n\tcommaSeparated: true,\n\ttitle: \"On save\",\n\tcanAddNew: true,\n});\n\nexport const Min = IntegerField({\n\tname: \"minSize\",\n\ttitle: \"Min\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Max = IntegerField({\n\tname: \"maxSize\",\n\ttitle: \"Max\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const EntityMax = IntegerField({\n\tname: \"max\",\n\ttitle: \"Max\",\n});\n\nexport const EntityMin = IntegerField({\n\tname: \"min\",\n\ttitle: \"Min\",\n});\n\nexport const Precision = IntegerField({\n\tname: \"precision\",\n\ttitle: \"Precision\",\n});\n\nexport const Scale = IntegerField({\n\tname: \"scale\",\n\ttitle: \"Scale\",\n});\n\nexport const JsonRelationalField = BooleanField({\n\tname: \"isJsonRelationalField\",\n\ttitle: \"Is json relational field\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tgetValue: (properties) => {\n\t\tconst type = properties[\"type\"];\n\t\tif (type) {\n\t\t\tconst hasJSONField = type.indexOf(\"json\") === 0;\n\t\t\tif (hasJSONField) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tchange: (value, properties) => {\n\t\tconst type = properties[\"type\"];\n\t\tif (value === true) {\n\t\t\tconst has = type.indexOf(\"json\") === 0;\n\t\t\tif (!has) {\n\t\t\t\tconst _type = `json-${type}`;\n\t\t\t\treturn {\n\t\t\t\t\ttype: _type,\n\t\t\t\t\tserverType: _type,\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (value === false) {\n\t\t\tconst has = type.indexOf(\"json\") === 0;\n\t\t\tif (has) {\n\t\t\t\tconst _type = type.substring(\"json-\".length);\n\t\t\t\treturn {\n\t\t\t\t\ttype: _type,\n\t\t\t\t\tserverType: _type,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {};\n\t},\n});\n\nexport const Domain = StringField({\n\tname: \"domain\",\n\ttitle: \"Domain\",\n});\n\nexport const Prompt = StringField({\n\tname: \"prompt\",\n\ttitle: \"Prompt\",\n\tparentField: \"widgetAttrs\",\n});\n\nexport const SelectionIn = StringField({\n\tname: \"selection-in\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n\ttitle: \"Selection in\",\n});\n\nexport const Value = StringField({\n\tname: \"value\",\n\ttitle: \"Value\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n});\n\nexport const ValueAdd = StringField({\n\tname: \"value:add\",\n\ttitle: \"Value:add\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n});\n\nexport const ValueDel = StringField({\n\tname: \"value:del\",\n\ttitle: \"Value:del\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n});\n\nexport const Refresh = BooleanField({\n\tname: \"refresh\",\n\ttitle: \"Refresh\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n});\n\nexport const Active = BooleanField({\n\tname: \"active\",\n\ttitle: \"Active\",\n\tdependModelType: MODEL_TYPE.BASE,\n\tshowInCustomField: false,\n\tshouldRender: (list) => {\n\t\treturn list.xPath && list.xPath.includes(\"panel-tabs\");\n\t},\n});\n\nexport const TargetJsonModel = ObjectSelectionField({\n\tname: \"targetJsonModel\",\n\trequired: true,\n\tref: \"com.axelor.meta.db.MetaJsonModel\",\n\tdisplayField: \"title\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Target json model\",\n});\n\nexport const TargetModel = SelectField({\n\tname: \"targetModel\",\n\ttitle: \"Target model\",\n\trequired: true,\n\tref: \"com.axelor.meta.db.MetaModel\",\n\tvalueField: \"fullName\",\n\tcanAddNew: false,\n\tisDisabled: (property, editWidgetType, modelType) => {\n\t\treturn (\n\t\t\teditWidgetType !== \"customField\" &&\n\t\t\tproperty.serverType !== \"field\" &&\n\t\t\tmodelType !== MODEL_TYPE.CUSTOM\n\t\t);\n\t},\n});\n\nexport const GridView = SelectField({\n\tname: \"gridView\",\n\ttitle: \"Grid view\",\n\tref: \"com.axelor.meta.db.MetaView\",\n\tvalueField: \"name\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tneedsTargetModel: [\n\t\trelationalFields.OneToMany,\n\t\trelationalFields.ManyToMany,\n\t\trelationalFields.ManyToOne,\n\t],\n});\n\nexport const FormView = SelectField({\n\tname: \"formView\",\n\ttitle: \"Form view\",\n\tref: \"com.axelor.meta.db.MetaView\",\n\tvalueField: \"name\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tneedsTargetModel: [\n\t\trelationalFields.OneToMany,\n\t\trelationalFields.ManyToMany,\n\t\trelationalFields.ManyToOne,\n\t],\n});\n\n/** Ui options fields */\nexport const Required = BooleanField({\n\tname: \"required\",\n\ttitle: \"Required\",\n\tdefaultValue: \"false\",\n\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\tif (properties[\"requiredIf\"] && properties[\"requiredIf\"].length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const ColumnSequence = IntegerField({\n\tname: \"columnSequence\",\n\ttitle: \"Column sequence\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const ReadOnly = BooleanField({\n\tname: \"readonly\",\n\ttitle: \"Readonly\",\n\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\tif (properties[\"readonlyIf\"] && properties[\"readonlyIf\"].length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const Hidden = BooleanField({\n\tname: \"hidden\",\n\ttitle: \"Hidden\",\n\tisDisabled: ({ properties }) => {\n\t\tif (properties[\"hideIf\"] && properties[\"hideIf\"].length) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const VisibleInGrid = BooleanField({\n\tname: \"visibleInGrid\",\n\ttitle: \"Visible in grid\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\n/** Conditions Fields*/\nexport const ShowIf = StringField({\n\tname: \"showIf\",\n\ttitle: \"Show if\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const HideIf = StringField({\n\tname: \"hideIf\",\n\ttitle: \"Hide if\",\n\tisDisabled: ({ properties }) => {\n\t\tif (properties[\"hidden\"]) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const If = StringField({\n\tname: \"if\",\n\ttitle: \"If\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const RequiredIf = StringField({\n\tname: \"requiredIf\",\n\ttitle: \"Required if\",\n\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\tif (properties[\"required\"]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const ReadOnlyIf = StringField({\n\tname: \"readonlyIf\",\n\ttitle: \"Readonly if\",\n\tisDisabled: ({ properties, metaFieldStore, editWidgetType, modelType }) => {\n\t\tif (modelType === MODEL_TYPE.BASE && editWidgetType !== \"customField\") {\n\t\t\tif (properties[\"readonly\"]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const IncludeIf = StringField({\n\tname: \"includeIf\",\n\ttitle: \"Include if\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const ValidIf = StringField({\n\tname: \"validIf\",\n\ttitle: \"Valid if\",\n\tparentField: \"widgetAttrs\",\n\tmodelType: MODEL_TYPE.CUSTOM,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const CanSave = StringField({\n\tname: \"canSave\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Can save\",\n});\n\nexport const Css = StringField({\n\tname: \"css\",\n\ttitle: \"Css\",\n\tparentField: \"widgetAttrs\",\n\tmodelType: MODEL_TYPE.CUSTOM,\n\t// dependModelType: MODEL_TYPE.BASE,\n});\n\nexport const CanEdit = StringField({\n\tname: \"canEdit\",\n\ttitle: \"Can edit\",\n});\n\nexport const CanDelete = StringField({\n\tname: \"canDelete\",\n\ttitle: \"Can delete\",\n});\n\nexport const CanCopy = StringField({\n\tname: \"canCopy\",\n\ttitle: \"Can copy\",\n});\n\nexport const CanNew = StringField({\n\tname: \"canNew\",\n\ttitle: \"Can new\",\n});\n\nexport const CanAttach = StringField({\n\tname: \"canAttach\",\n\ttitle: \"Can attach\",\n});\n\nexport const FormWidth = StaticSelectField({\n\tname: \"width\",\n\tdata: [\"mini\", \"mid\", \"large\"],\n\ttitle: \"Width\",\n});\n\nexport const Editable = BooleanField({\n\tname: \"editable\",\n\ttitle: \"Editable\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\n/** Widget Fields*/\nexport const ColSpan = StaticSelectField({\n\tname: \"colSpan\",\n\ttitle: \"Colspan\",\n\tparentField: \"widgetAttrs\",\n\tdata: [\n\t\t\"\",\n\t\t...Array(12)\n\t\t\t.fill()\n\t\t\t.map((_, i) => (i + 1).toString()),\n\t],\n\tmodelType: MODEL_TYPE.CUSTOM,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tgetOptionLabel: (option) => {\n\t\treturn option ? option.toString() : \"\";\n\t},\n\tisDisabled: ({ properties, parentPanel }) => {\n\t\tif (parentPanel) {\n\t\t\tif ([TYPE.toolbar, TYPE.menubar].includes(parentPanel.serverType)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const ItemSpan = StaticSelectField({\n\tname: \"itemSpan\",\n\ttitle: \"Itemspan\",\n\tparentField: \"widgetAttrs\",\n\tdata: [\n\t\t\"\",\n\t\t...Array(12)\n\t\t\t.fill()\n\t\t\t.map((_, i) => (i + 1).toString()),\n\t],\n\tmodelType: MODEL_TYPE.CUSTOM,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tgetOptionLabel: (option) => {\n\t\treturn option ? option.toString() : \"\";\n\t},\n\tisDisabled: ({ properties, parentPanel }) => {\n\t\tif (\n\t\t\tparentPanel &&\n\t\t\t[TYPE.toolbar, TYPE.menubar].includes(parentPanel.serverType)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n});\n\nexport const IsGenerateMenu = BooleanField({\n\tname: \"isGenerateMenu\",\n\ttitle: \"Generate menu\",\n});\n\nexport const MenuBuilderTitle = StringField({\n\tname: \"menuBuilderTitle\",\n\ttitle: \"Menu title\",\n\tdepends: \"isGenerateMenu\",\n\tdependValue: true,\n\trequiredWhen: IsGenerateMenu.name,\n});\n\nexport const MenuBuilderParent = ObjectSelectionField({\n\tname: \"menuBuilderParent\",\n\tref: \"com.axelor.meta.db.MetaMenu\",\n\ttitle: \"Parent\",\n\tdepends: \"isGenerateMenu\",\n\tdependValue: true,\n\tvalueField: \"id\",\n\tdisplayField: \"title\",\n\tshouldFetchInStart: true,\n\tlimit: null,\n\tgetOptionLabel: (option, data) => {\n\t\treturn getMenuBuilderTitle(option, data);\n\t},\n});\n\nexport const ShowTitle = BooleanField({\n\tname: \"showTitle\",\n\tparentField: \"widgetAttrs\",\n\tdefaultValue: true,\n\tmodelType: MODEL_TYPE.CUSTOM,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Show title\",\n});\n\nexport const CanSearch = BooleanField({\n\tname: \"canSearch\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Can search\",\n});\n\nexport const IfModule = StringField({\n\tname: \"if-module\",\n\ttitle: \"If-module\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Height = StringField({\n\tname: \"height\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Action = SelectField({\n\tname: \"action\",\n\ttitle: \"Action\",\n\tref: \"com.axelor.meta.db.MetaAction\",\n\trequiredFor: [\"panel-dashlet\", \"item\"],\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tmultiple: true,\n\tcommaSeparated: true,\n\tcanAddNew: true,\n});\n\nexport const Field = StringField({\n\tname: \"field\",\n\ttitle: \"Field\",\n\trequired: true,\n\trequiredFor: [\"panel-related\"],\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const CanMove = BooleanField({\n\tname: \"canMove\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Can move\",\n});\n\nexport const OrderBy = StringField({\n\tname: \"orderBy\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\ttitle: \"Order by\",\n});\n\nexport const IncludeView = SelectField({\n\tname: \"view\",\n\ttitle: \"View\",\n\tref: \"com.axelor.meta.db.MetaView\",\n\tvalueField: \"name\",\n\trequiredFor: [\"panel-include\"],\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const IncludeFrom = StringField({\n\tname: \"from\",\n\ttitle: \"From\",\n});\n\nexport const Sidebar = BooleanField({\n\tname: \"sidebar\",\n\ttitle: \"Sidebar\",\n\tparentField: \"widgetAttrs\",\n\tmodelType: MODEL_TYPE.CUSTOM,\n\tdependModelType: MODEL_TYPE.CUSTOM,\n\tshowInCustomField: false,\n});\n\nexport const Translatable = BooleanField({\n\tname: \"translatable\",\n\ttitle: \"Translatable\",\n});\n\nexport const Column = StringField({\n\tname: \"column\",\n\ttitle: \"Column\",\n});\n\nexport const MassUpdate = BooleanField({\n\tname: \"massUpdate\",\n\ttitle: \"Mass update\",\n});\n\nexport const HashKey = BooleanField({\n\tname: \"hashKey\",\n\ttitle: \"Hash key\",\n});\n\nexport const Transient = BooleanField({\n\tname: \"transient\",\n\ttitle: \"Transient\",\n});\n\nexport const TZ = BooleanField({\n\tname: \"tz\",\n\ttitle: \"Tz\",\n});\n\nexport const Encrypted = BooleanField({\n\tname: \"encrypted\",\n\ttitle: \"Encrypted\",\n});\n\nexport const Password = BooleanField({\n\tname: \"password\",\n\ttitle: \"Password\",\n});\n\nexport const Multiline = BooleanField({\n\tname: \"multiline\",\n\ttitle: \"Multiline\",\n\tdependModelType: MODEL_TYPE.CUSTOM,\n});\n\nexport const Large = BooleanField({\n\tname: \"large\",\n\ttitle: \"Large\",\n});\n\nexport const Search = StringField({\n\tname: \"search\",\n\ttitle: \"Search\",\n});\n\nexport const Formula = BooleanField({\n\tname: \"formula\",\n\ttitle: \"Formula\",\n});\n\nexport const InitParam = BooleanField({\n\tname: \"initParam\",\n\ttitle: \"Init param\",\n});\n\nexport const Index = StringField({\n\tname: \"index\",\n\ttitle: \"Index\",\n});\n\nexport const Default = StringField({\n\tname: \"default\",\n\ttitle: \"Default\",\n});\n\nexport const Unique = BooleanField({\n\tname: \"unique\",\n\ttitle: \"Unique\",\n});\n\nexport const Image = BooleanField({\n\tname: \"image\",\n\ttitle: \"Image\",\n});\n\nexport const Ref = StringField({\n\tname: \"ref\",\n\ttitle: \"Ref\",\n});\n\nexport const MappedBy = StringField({\n\tname: \"mappedBy\",\n\ttitle: \"Mapped by\",\n});\n\nexport const OrphanRemoval = BooleanField({\n\tname: \"orphanRemoval\",\n\ttitle: \"Orphan removal\",\n});\n\nexport const Sequential = BooleanField({\n\tname: \"sequential\",\n\ttitle: \"Sequential\",\n});\n\nexport const Cachable = BooleanField({\n\tname: \"cachable\",\n\ttitle: \"Cachable\",\n});\n\nexport const Repository = StaticSelectField({\n\tname: \"repository\",\n\ttitle: \"Repository\",\n\tdata: [\"none\", \"default\", \"abstract\"],\n});\n\nexport const LogUpdates = BooleanField({\n\tname: \"logUpdates\",\n\ttitle: \"Log updates\",\n});\n\nexport const Lang = StringField({\n\tname: \"lang\",\n\ttitle: \"Lang\",\n});\n\nexport const Table = StringField({\n\tname: \"table\",\n\ttitle: \"Table\",\n});\n\nexport const Implements = StringField({\n\tname: \"implements\",\n\ttitle: \"Implements\",\n});\n\nexport const Persistable = StringField({\n\tname: \"persistable\",\n\ttitle: \"Persistable\",\n});\n\nexport const Extends = StringField({\n\tname: \"extends\",\n\ttitle: \"Extends\",\n});\n\nexport const HashAll = BooleanField({\n\tname: \"hashAll\",\n\ttitle: \"Hash all\",\n});\n\nexport const Strategy = StaticSelectField({\n\tname: \"strategy\",\n\ttitle: \"Strategy\",\n\tdata: [\"SINGLE\", \"JOINED\", \"CLASS\"],\n});\n\nexport const Stacked = BooleanField({\n\tname: \"stacked\",\n\ttitle: \"Stacked\",\n\tdependModelType: MODEL_TYPE.BASE,\n});\n\nexport const PackageName = StringField({\n\tname: \"packageName\",\n\ttitle: \"Package name\",\n});\n\nexport const EntitySelection = StringField({\n\tname: \"selection\",\n\ttitle: \"Selection\",\n});\n\nexport const Model = SelectField({\n\tname: \"model\",\n\ttitle: \"Model\",\n\trequired: true,\n\tref: \"com.axelor.meta.db.MetaModel\",\n\tvalueField: \"fullName\",\n});\n\nexport const Color = StaticSelectField({\n\tname: \"color\",\n\ttitle: \"Color\",\n\tdata: [\"default\", \"primary\", \"warning\", \"success\", \"danger\", \"info\"],\n});\n\nexport const Background = StaticSelectField({\n\tname: \"background\",\n\ttitle: \"Background\",\n\tdata: [\"default\", \"primary\", \"warning\", \"success\", \"danger\", \"info\"],\n});\n\nexport const Strong = BooleanField({\n\tname: \"strong\",\n\ttitle: \"Strong\",\n\tdependModelType: MODEL_TYPE.BASE,\n});\n\nexport default {\n\tName,\n\tType,\n\tTitle,\n\tDefaultValue,\n\tAppBuilder,\n\tHelp,\n\tSequence,\n\tRoles,\n\tValueExpression,\n\tSelection,\n\tWidget,\n\tOnChange,\n\tMin,\n\tMax,\n\tJsonRelationalField,\n\tDomain,\n\tTargetJsonModel,\n\tTargetModel,\n\tGridView,\n\tFormView,\n\tRequired,\n\tColumnSequence,\n\tReadOnly,\n\tHidden,\n\tVisibleInGrid,\n\tShowIf,\n\tHideIf,\n\tRequiredIf,\n\tReadOnlyIf,\n\tIncludeIf,\n\tValidIf,\n\tColSpan,\n\tShowTitle,\n\tOnNew,\n\tOnLoad,\n\tOnSave,\n\tFormWidth,\n\tEditable,\n\tDummyType,\n\tIfModule,\n\tAction,\n\tHeight,\n\tCanSearch,\n\tField,\n\tCanMove,\n\tOrderBy,\n\tIncludeFrom,\n\tIncludeView,\n\tTranslatable,\n\tMassUpdate,\n\tEntityMax,\n\tEntityMin,\n\tPrecision,\n\tScale,\n\tTZ,\n\tEncrypted,\n\tPassword,\n\tMultiline,\n\tColumn,\n\tHashKey,\n\tTransient,\n\tLarge,\n\tSearch,\n\tFormula,\n\tInitParam,\n\tImage,\n\tRef,\n\tMappedBy,\n\tOrphanRemoval,\n\tCachable,\n\tRepository,\n\tSequential,\n\tImplements,\n\tPersistable,\n\tTable,\n\tLang,\n\tLogUpdates,\n\tHashAll,\n\tExtends,\n\tStrategy,\n\tIsGenerateMenu,\n\tMenuBuilderParent,\n\tMenuBuilderTitle,\n\tStacked,\n\tPackageName,\n\tEntitySelection,\n\tModel,\n\tColor,\n\tStrong,\n\tBackground,\n\tItemSpan,\n\tCss,\n};\n","export const getMenuBuilderTitle = (option, data) => {\n\tlet text = option.title || \"\";\n\tif (option.parent) {\n\t\tconst parent = data.find((item) => item.id === option.parent.id);\n\t\tif (parent) {\n\t\t\tconst parentText = getMenuBuilderTitle(\n\t\t\t\tparent,\n\t\t\t\t(data && data.filter((f) => f.id !== parent.id)) || []\n\t\t\t);\n\t\t\tif (parentText) {\n\t\t\t\ttext = `${parentText} > ${text}`;\n\t\t\t}\n\t\t}\n\t}\n\treturn text;\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { GridContainer, useGridWidget } from \"./Grid\";\n\nconst panelAttrs = { cols: 1 };\n\n/**\n * Panel Component\n * Used As Container to group Field Component like form group\n */\nfunction TabPanelComponent(props) {\n\tconst WidgetComponent = useGridWidget();\n\tconst { id, attrs, isDragging, isTab = false, ...rest } = props;\n\tconst { title, items = [] } = attrs;\n\tlet { current } = attrs;\n\tconst tabs = [...items.slice()].reduce(\n\t\t(all, tab) => all.concat([tab, 0]),\n\t\t[0]\n\t);\n\t// reuse common tab attributes\n\tconst getTabAttributes = (id, index) => ({\n\t\tkey: !id ? `${id}${index}` : id,\n\t\tid,\n\t\tmeta: {\n\t\t\thorizontal: true,\n\t\t},\n\t\tindex,\n\t\tpanelId: props.id,\n\t\tpanelColumns: attrs.cols,\n\t\ttabId: props.id,\n\t});\n\tlet activeTabIndex = items.indexOf(current);\n\t// if active tab index not found, take first element as active one\n\tif (activeTabIndex === -1) {\n\t\tactiveTabIndex = 0;\n\t\tcurrent = items.length ? items[0] : 0;\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{title && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\"panel-header panel-tab-header\", {\n\t\t\t\t\t\tinline: isTab,\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{!isTab && (\n\t\t\t\t<GridContainer className={\"panel-body\"} attrs={panelAttrs}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\"tabs\", { \"empty-tabs\": tabs.length === 1 })}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tabs.map(\n\t\t\t\t\t\t\t(tab, i) =>\n\t\t\t\t\t\t\t\tWidgetComponent && (\n\t\t\t\t\t\t\t\t\t<WidgetComponent\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t\t{...getTabAttributes(tab, i)}\n\t\t\t\t\t\t\t\t\t\tisTab={true}\n\t\t\t\t\t\t\t\t\t\tclassName={current === tab ? \"active-tab\" : \"\"}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{items.length > 0 && WidgetComponent && (\n\t\t\t\t\t\t<WidgetComponent\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t{...getTabAttributes(current, activeTabIndex)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</GridContainer>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\n//panel tabs-panel\nexport default TabPanelComponent;\n","// TYPE define all elements\nexport const TYPE = {\n\tpanel: \"panel\",\n\ttabs: \"panel-tabs\",\n\tfield: \"field\",\n\tdumpField: \"dump_field\",\n\tform: \"form\",\n\tpanelStack: \"panel-stack\",\n\tpanelDashlet: \"panel-dashlet\",\n\tpanelRelated: \"panel-related\",\n\tpanelInclude: \"panel-include\",\n\tmenu: \"menu\",\n\tmenuItem: \"item\",\n\tdivider: \"divider\",\n\tmenubar: \"menubar\",\n\ttoolbar: \"toolbar\",\n};\n\nexport const ItemTypes = {\n\tCONTAINER: \"panel\",\n\tROOTCONTAINER: \"root-container\",\n\tITEM: \"item\",\n\tDUMMY: \"dummy\",\n};\n\nexport const entityFieldTypes = {\n\tstring: \"stringEntity\",\n\tboolean: \"booleanEntity\",\n\tinteger: \"integerEntity\",\n\tlong: \"longEntity\",\n\tdecimal: \"decimalEntity\",\n\tdate: \"dateEntity\",\n\ttime: \"timeEntity\",\n\tdatetime: \"datetimeEntity\",\n\tbinary: \"binaryEntity\",\n\tmanyToMany: \"many-to-manyEntity\",\n\toneToMany: \"one-to-manyEntity\",\n\tmanyToOne: \"many-to-oneEntity\",\n\toneToOne: \"one-to-oneEntity\",\n};\n\n// FIELD_TYPE define all field types(manage on server end)\nexport const FIELD_TYPE = {\n\tstring: \"string\",\n\tnumber: \"number\",\n\tbutton: \"button\",\n\tspacer: \"spacer\",\n\tboolean: \"boolean\",\n\tseparator: \"separator\",\n\thilite: \"hilite\",\n};\n\n// Panel Container Types\nexport const PANEL_TYPE = {\n\tstack: \"stack\",\n\tflow: \"flow\",\n\tgrid: \"grid\",\n\tcustom: \"custom\",\n};\n\n// define Grid Size constants\nexport const GRID_SIZE = {\n\tmax: 12,\n};\n\n// contains all unique ids for special widgets\nexport const IDS = {\n\tcreateWidgets: {\n\t\ttabs: Symbol(),\n\t\tpanel: Symbol(),\n\t\tfield: Symbol(),\n\t},\n\tform: -1,\n\tcustomForm: -2,\n\tdumpField: 0,\n};\n\nexport const relationalFields = {\n\tOneToMany: \"one-to-many\",\n\tManyToMany: \"many-to-many\",\n\tManyToOne: \"many-to-one\",\n\tOneToOne: \"one-to-one\",\n};\n\nexport const typeReplacer = {\n\tinclude: TYPE.panelInclude,\n\tMANY_TO_MANY: \"many-to-many\",\n\tMANY_TO_ONE: \"many-to-one\",\n\tONE_TO_ONE: \"one-to-one\",\n\tONE_TO_MANY: \"one-to-many\",\n};\n\nexport const MODEL_TYPE = {\n\tBASE: \"BASE\",\n\tCUSTOM: \"CUSTOM\",\n\tENTITY: \"ENTITY\",\n};\n\nexport const ENTITY_TYPE = {\n\tMETA: \"META\",\n\tENTITY: \"ENTITY\",\n};\n\nexport const DEFAULT_VALUE = {\n\tshowTitle: true,\n\treadonly: false,\n\trequired: false,\n\thidden: false,\n\tsidebar: false,\n\tcanCollapse: false,\n\tstacked: false,\n\tcanMove: false,\n\tcanSearch: false,\n\tmultiline: false,\n};\n\nexport const DataTypes = [\n\t\"string\",\n\t\"integer\",\n\t\"decimal\",\n\t\"boolean\",\n\t\"datetime\",\n\t\"date\",\n\t\"time\",\n\t\"many-to-one\",\n\t\"one-to-many\",\n\t\"many-to-many\",\n];\n\nexport const conditionProperties = {\n\treadonlyIf: \"readonly\",\n\trequiredIf: \"required\",\n\thideIf: \"hidden\",\n\tcollapseIf: \"canCollapse\",\n};\n\nexport const otherNoQuoteProps = [\n\t\"value:add\",\n\t\"value:del\",\n\t\"refresh\",\n\t\"active\",\n];\n","import { conditionProperties } from \"../constants\";\nimport AxelorService from \"./../services/axelor.rest\";\nimport Utils, { generateCustomModelSchema, getMenuBuilder } from \"./../utils\";\n\nexport const metaJsonFieldService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaJsonField\",\n});\nexport const metaModelService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaJsonModel\",\n});\nexport const entityModelService = new AxelorService({\n\tmodel: \"com.axelor.studio.db.EntityModel\",\n});\nconst appBpmService = new AxelorService({\n\tmodel: \"com.axelor.apps.base.db.AppBpm\",\n});\nconst appUserService = new AxelorService({ model: \"com.axelor.auth.db.User\" });\n\nconst metaViewService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaView\",\n});\nexport const modelService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaModel\",\n});\n\nexport const metaAttrsService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaAttrs\",\n});\n\nexport const metaSelectService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaSelect\",\n});\n\nexport const selectionBuilderService = new AxelorService({\n\tmodel: \"com.axelor.studio.db.SelectionBuilder\",\n});\n\nexport const metaTranslationService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaTranslation\",\n});\n\nexport function fetchCustomFields(modelField, model) {\n\tconst _domain = `self.jsonModel = null and self.modelField='${modelField.name}' and self.model='${model.fullName}'`;\n\treturn metaJsonFieldService.search({\n\t\tdata: { _domain },\n\t\tsortBy: [\"sequence\"],\n\t});\n}\n\n/**\n * selection fields are needs to be save seperately to save selections\n */\nexport async function saveCustomModel(model) {\n\tif (!model) return;\n\tconst res = await metaModelService.save(model);\n\tconst { data, status } = res || {};\n\tif (status === -1) {\n\t\treturn res;\n\t}\n\tconst { fields } = (data && data[0]) || {};\n\tconst getFields = (all) => {\n\t\tconst fields = all\n\t\t\t.map((res) => {\n\t\t\t\tconst { data = [] } = res;\n\t\t\t\tif (data[0]) {\n\t\t\t\t\treturn { id: data[0].id, $version: data[0].version };\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t})\n\t\t\t.filter((e) => e);\n\t\treturn fields;\n\t};\n\tconst response = await Promise.all(\n\t\tmodel.fields.map((field) => {\n\t\t\tconst updatedField = fields && fields.find((f) => f.name === field.name);\n\t\t\treturn metaJsonFieldService.save({\n\t\t\t\t...field,\n\t\t\t\tid: updatedField.id,\n\t\t\t\tversion: updatedField.version,\n\t\t\t});\n\t\t})\n\t);\n\tconst updatedFields = getFields(response);\n\treturn {\n\t\tdata: [\n\t\t\t{\n\t\t\t\t...((data && data[0]) || {}),\n\t\t\t\tfields: updatedFields,\n\t\t\t},\n\t\t],\n\t};\n}\n\nexport function fetchJSONFields(ids, update, record = {}) {\n\tconst criteria = [];\n\tif (ids.length) {\n\t\tcriteria.push({ fieldName: \"id\", operator: \"in\", value: ids });\n\n\t\tconst data = {\n\t\t\tcriteria,\n\t\t};\n\t\tmetaJsonFieldService.search({ data, sortBy: [\"sequence\"] }).then((res) => {\n\t\t\tif (res.data) {\n\t\t\t\tconst list = res.data || [];\n\t\t\t\tconst schema = generateCustomModelSchema(list, record);\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.items = list.filter((l) => l.type === \"panel\").map((e) => e.id);\n\t\t\t\t\tdraft.widgets = {\n\t\t\t\t\t\t...schema.widgets,\n\t\t\t\t\t};\n\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else {\n\t\tupdate((draft) => {\n\t\t\tdraft.widgets = {\n\t\t\t\t\"-1\": {\n\t\t\t\t\ttype: \"form\",\n\t\t\t\t\t...record,\n\t\t\t\t\t...getMenuBuilder(record ? record.menuBuilder : undefined),\n\t\t\t\t},\n\t\t\t\t0: { type: \"dump_field\", name: \"\" },\n\t\t\t};\n\t\t\tdraft.items = [];\n\t\t\tdraft.loader = false;\n\t\t});\n\t}\n}\n\nexport function removeCustomModel(model) {\n\treturn metaModelService.removeAll([model]);\n}\n\nexport async function getEnableAppBuilder() {\n\tconst payload = {\n\t\tdata: {\n\t\t\t_domain: \"self.app.code = :code\",\n\t\t\t_domainContext: { code: \"bpm\" },\n\t\t},\n\t\tfields: [\"enableAppBuilder\"],\n\t\tlimit: 1,\n\t\toffset: 0,\n\t};\n\tconst bpmResult = await appBpmService.search({ ...payload });\n\tif (Array.isArray(bpmResult && bpmResult.data) && bpmResult.data[0]) {\n\t\treturn bpmResult.data[0].enableAppBuilder;\n\t}\n\treturn false;\n}\n\nexport async function generateMenuChange(customModel) {\n\tconst _context = {\n\t\t_model: \"com.axelor.meta.db.MetaJsonModel\",\n\t\t_id: null,\n\t\t...customModel,\n\t};\n\tconst changeAction =\n\t\t\"action-studio-json-model-method-isgeneratemenu-onchange\";\n\tconst data = {\n\t\taction: changeAction,\n\t\tmodel: \"com.axelor.meta.db.MetaJsonModel\",\n\t\tdata: {\n\t\t\tcontext: _context,\n\t\t},\n\t};\n\treturn await metaModelService.action(data);\n}\n\nexport async function fetchCustomModel(modelId) {\n\tconst result = await metaModelService.fetch(modelId);\n\tconst { data = [] } = result;\n\treturn data[0];\n}\n\nexport async function fetchEntityModel(model) {\n\tconst result = await entityModelService.fetch(model.id);\n\tconst { data = [] } = result;\n\treturn data[0];\n}\n\nexport async function removeEntityModel(model) {\n\treturn entityModelService.removeAll([model]);\n}\n\nexport async function fetchEntityFields(model) {\n\tif (!model || (model && (!model.packageName || !model.name))) return [];\n\tconst _data = {\n\t\t_domain: `self.packageName = '${model.packageName}' and self.name = '${model.name}'`,\n\t};\n\tconst result = await entityModelService.search({ data: _data });\n\tconst { data = [] } = result;\n\tconst record = data[0];\n\n\tlet fields = [];\n\tif (record) {\n\t\tfields = Utils.getEntityModelFields(record.entityXml);\n\t}\n\treturn fields;\n}\n\nexport async function fetchViews(view) {\n\tconst viewCriteria = {\n\t\toperator: \"and\",\n\t\tcriteria: [{ fieldName: \"name\", operator: \"=\", value: `${view.name}` }],\n\t};\n\tconst viewList = await metaViewService.search({ data: viewCriteria });\n\tlet views;\n\tif (viewList.data) {\n\t\tviews = Utils.getViews(viewList.data, view.name);\n\t}\n\treturn views;\n}\n\nexport async function fetchModelFields(model) {\n\tif (!model || (model && (!model.packageName || !model.name))) return [];\n\tlet fields = [];\n\tconst _data = {\n\t\t_domain: `self.packageName = '${model.packageName}' and self.name = '${model.name}'`,\n\t};\n\tconst result = await modelService.search({ data: _data });\n\tif (result.data && result.data[0]) {\n\t\tconst record = result.data[0];\n\t\tconst data = {\n\t\t\tfields: [\"metaFields\"],\n\t\t\trelated: {\n\t\t\t\tmetaFields: [\n\t\t\t\t\t\"typeName\",\n\t\t\t\t\t\"label\",\n\t\t\t\t\t\"mappedBy\",\n\t\t\t\t\t\"relationship\",\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"packageName\",\n\t\t\t\t\t\"typeName\",\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t\tconst modelData = await modelService.fetch(record.id, data);\n\n\t\tif (modelData && modelData.data[0]) {\n\t\t\tfields = modelData.data[0].metaFields;\n\t\t\treturn fields;\n\t\t}\n\t}\n\treturn fields;\n}\n\nexport async function fetchAttrsList({ model, view }) {\n\tconst criteria = [\n\t\t{ fieldName: \"model\", operator: \"=\", value: model },\n\t\t{ fieldName: \"view\", operator: \"=\", value: view },\n\t];\n\tconst result = await metaAttrsService.search({\n\t\tdata: { criteria },\n\t\tlimit: null,\n\t});\n\tif (result.data && Array.isArray(result.data)) {\n\t\tconst conditionPropertiesKeys = Object.keys(conditionProperties);\n\t\tconst conditionPropertiesValues = Object.values(conditionProperties);\n\n\t\tconst data = [...result.data].map((item) => {\n\t\t\tif (conditionPropertiesValues.includes(item.name)) {\n\t\t\t\tif (item.value.startsWith('\"') && item.value.endsWith('\"')) {\n\t\t\t\t\titem.value = item.value.replace(`\"`, \"\");\n\t\t\t\t\titem.value = item.value.replace(`\"`, \"\");\n\t\t\t\t} else {\n\t\t\t\t\tif (![\"true\", \"false\"].includes(item.value)) {\n\t\t\t\t\t\titem.name =\n\t\t\t\t\t\t\tconditionPropertiesKeys[\n\t\t\t\t\t\t\t\tconditionPropertiesValues.indexOf(item.name)\n\t\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titem.value = item.value.replace(`\"`, \"\");\n\t\t\t\titem.value = item.value.replace(`\"`, \"\");\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\treturn data;\n\t}\n\treturn [];\n}\n\nexport async function saveAttrsList(list) {\n\tconst result = await metaAttrsService.saveAll([...list]);\n\tif (result.data && Array.isArray(result.data)) {\n\t\treturn result.data;\n\t}\n\treturn [];\n}\n\nexport async function deleteAttrsList(list) {\n\tconst result = await metaAttrsService.removeAll(list);\n\tif (result.data && Array.isArray(result.data)) {\n\t\treturn result.data;\n\t}\n\treturn [];\n}\n\nexport async function fetchLanguages() {\n\tconst criteria = [\n\t\t{ fieldName: \"name\", operator: \"=\", value: \"select.language\" },\n\t];\n\tconst result = await metaSelectService.search({\n\t\tdata: { criteria },\n\t\tfields: [\"items.value\", \"items.title\"],\n\t});\n\tif (result && result.data && Array.isArray(result.data)) {\n\t\treturn result.data.map((d) => {\n\t\t\treturn { title: d[\"items.title\"], value: d[\"items.value\"] };\n\t\t});\n\t}\n\treturn [];\n}\n\nexport async function getTranslationList(keyList) {\n\tconst criteria = [{ fieldName: \"key\", operator: \"in\", value: keyList }];\n\tconst result = await metaTranslationService.search({ data: { criteria } });\n\tif (result.data && Array.isArray(result.data)) {\n\t\treturn result.data;\n\t}\n\treturn [];\n}\n\nexport async function saveTranslationList(list) {\n\tconst result = await metaTranslationService.saveAll([...list]);\n\tif (result.data && Array.isArray(result.data)) {\n\t\treturn result.data;\n\t}\n\treturn [];\n}\n\nexport async function deleteTranslationList(list) {\n\tconst result = await metaTranslationService.removeAll(list);\n\tif (result.data && Array.isArray(result.data)) {\n\t\treturn result.data;\n\t}\n\treturn [];\n}\n\nexport async function fetchUserPreferences() {\n\tconst userInfo = await appUserService.info();\n\tif (userInfo && userInfo[\"user.id\"]) {\n\t\tconst userResponse = await appUserService.fetch(userInfo[\"user.id\"]);\n\t\tif (userResponse && userResponse.data && userResponse.data[0]) {\n\t\t\treturn userResponse.data[0];\n\t\t}\n\t}\n\treturn null;\n}\n\nexport async function getSelectionText(metaSelect) {\n\tlet selectionText = \"\";\n\tif (metaSelect) {\n\t\tconst context = {\n\t\t\tmetaSelect: {\n\t\t\t\t...metaSelect,\n\t\t\t},\n\t\t};\n\t\tconst payloadData = {\n\t\t\tdata: { context },\n\t\t\taction: \"action-selection-builder-method-fill-selection-text\",\n\t\t\tmodel: \"com.axelor.studio.db.SelectionBuilder\",\n\t\t};\n\t\tconst actionResponse = await selectionBuilderService.action(payloadData);\n\t\tconst { data = [] } = actionResponse;\n\t\tif (data[0]) {\n\t\t\tconst _properties = data[0].values || {};\n\t\t\tif (_properties.selectionText) {\n\t\t\t\tselectionText = _properties.selectionText;\n\t\t\t}\n\t\t}\n\t}\n\treturn selectionText;\n}\n","import React from \"react\";\nimport { Grid, Typography, Tooltip } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { translate, camleCaseString } from \"../utils\";\n\nconst useStyles = makeStyles({\n\tfieldsContainer: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: \"#e7eaec\",\n\t\tborderRadius: 5,\n\t},\n\tfieldImage: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tpadding: 15,\n\t},\n\tfieldLabel: {\n\t\tfontWeight: \"600\",\n\t},\n\ticon: {\n\t\twidth: 20,\n\t\theight: 20,\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundSize: \"contain\",\n\t\tbackgroundPosition: \"center\",\n\t\tposition: \"absolute\",\n\t},\n\tgridContainer: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n    flexWrap: 'nowrap',\n\t},\n\tlabelContainer: {\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n});\n\nconst getImageURL = (widget) => {\n\tconst type = widget.serverType || widget.type;\n\tif (type && type.indexOf(\"datetime\") !== -1) {\n\t\treturn \"datetime.png\";\n\t}\n\tif (type && type.indexOf(\"date\") !== -1) {\n\t\treturn \"date.png\";\n\t}\n\tif (type && type.indexOf(\"time\") !== -1) {\n\t\treturn \"time.png\";\n\t}\n\tif (type && type.indexOf(\"decimal\") !== -1) {\n\t\treturn \"decimal.png\";\n\t}\n\tif (widget.image) {\n\t\treturn widget.image;\n\t}\n\treturn `${type}.png`;\n};\n\nexport function FieldComponent(props) {\n\tconst classes = useStyles();\n\tconst { attrs, targetName } = props;\n\treturn (\n\t\t<div className={classes.fieldsContainer}>\n\t\t\t<Tooltip\n\t\t\t\tarrow\n\t\t\t\ttitle={translate(attrs.title || attrs[targetName] || attrs[\"name\"])}\n\t\t\t\tplacement=\"top\"\n\t\t\t>\n\t\t\t\t<Grid container className={classes.gridContainer}>\n\t\t\t\t\t<Grid xs={4} item className={classes.fieldImage}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classes.icon}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundImage: `url(./images/${getImageURL(attrs)})`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid xs={8} item className={classes.labelContainer}>\n\t\t\t\t\t\t<Typography variant=\"caption\" className={classes.fieldLabel}>\n\t\t\t\t\t\t\t{translate(camleCaseString(attrs.title || attrs[targetName] || attrs[\"name\"]))}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Tooltip>\n\t\t</div>\n\t);\n}\n\nexport default FieldComponent;\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport classNames from 'classnames'\n\nconst useStyles = makeStyles((theme) => ({\n  field: {\n    width: 'calc(50% - 10px)',\n    padding: 5,\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n    },\n  },\n}))\n\nexport default function Field(props) {\n  const classes = useStyles()\n  return (\n    <div {...props} className={classNames(classes.field, props.className)} />\n  )\n}\n","import React from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { fieldTypes, modelFields, entityFields } from \"../../fields\";\nimport FieldComponent from \"../../components/FieldComponent\";\nimport Widget from \"./../../components/Widget\";\nimport Field from './Field';\nimport { useStore } from \"../../store/context\";\nimport { MODEL_TYPE, TYPE } from \"../../constants\";\nimport { translate } from \"../../utils\";\n\nconst useStyles = makeStyles({\n\tcontainer: {\n\t\tpadding: '0 10px',\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\tfieldGroupTitle: {\n\t\tpadding: \"25px 25px 0px 25px\",\n\t\tcolor: \"white\",\n\t},\n});\n\nexport default React.memo(function AddPanelView() {\n\tconst classes = useStyles();\n\tconst { state } = useStore();\n\tconst fields =\n\t\tstate.modelType === MODEL_TYPE.ENTITY\n\t\t\t? entityFields\n\t\t\t: [...fieldTypes, ...modelFields].filter((e) => {\n\t\t\t\t\tif (e.name === \"Menu\" && state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t  });\n\n\tconst showField = (field) => {\n\t\tif ([TYPE.menubar, TYPE.toolbar].includes(field.type) && state.widgets) {\n\t\t\tconst index = Object.values(state.widgets).findIndex(\n\t\t\t\t(w) => w.type === field.type\n\t\t\t);\n\t\t\treturn index === -1;\n\t\t}\n\t\treturn true;\n\t};\n\treturn (\n\t\t<>\n\t\t\t{fields.map((fieldType, index) => (\n\t\t\t\t<React.Fragment key={index}>\n\t\t\t\t\t<Typography variant=\"body1\" className={classes.fieldGroupTitle}>\n\t\t\t\t\t\t{translate(fieldType.name)}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Grid className={classes.container}>\n\t\t\t\t\t\t{fieldType.value &&\n\t\t\t\t\t\t\tfieldType.value.map((field, i) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tfield.editorType &&\n\t\t\t\t\t\t\t\t\t!field.editorType.includes(state.modelType)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!showField(field)) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Field key={i}>\n\t\t\t\t\t\t\t\t\t\t<Widget\n\t\t\t\t\t\t\t\t\t\t\tid={field.id}\n\t\t\t\t\t\t\t\t\t\t\tattrs={field}\n\t\t\t\t\t\t\t\t\t\t\tdesign={true}\n\t\t\t\t\t\t\t\t\t\t\tcomponent={FieldComponent}\n\t\t\t\t\t\t\t\t\t\t\tisCoreField={true}\n\t\t\t\t\t\t\t\t\t\t\tisPalleteField={true}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t\t</React.Fragment>\n\t\t\t))}\n\t\t\t{/* {state.metaFields && state.metaFields.length > 0 && (\n\t\t\t\t<Grid>\n\t\t\t\t\t<Typography variant=\"body1\" className={classes.fieldGroupTitle}>\n\t\t\t\t\t\tExisting Fields\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<ExistingFieldsView />\n\t\t\t\t</Grid>\n\t\t\t)} */}\n\t\t</>\n\t);\n});\n","import React from \"react\";\n\nexport function useDebounceEffect(handler, interval) {\n\tconst isMounted = React.useRef(false);\n\tReact.useEffect(() => {\n\t\tif (isMounted.current) {\n\t\t\tconst timer = setTimeout(() => handler(), interval);\n\t\t\treturn () => clearTimeout(timer);\n\t\t}\n\t\tisMounted.current = true;\n\t}, [handler, interval]);\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Input from \"@material-ui/core/Input\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tmaxHeight: 300,\n\t\toverflow: \"auto\",\n\t},\n\tinput: {\n\t\twidth: \"80%\",\n\t\tmarginRight: 10,\n\t},\n\ttitleHeader: {\n\t\tborderBottom: \"0.5px solid #ddd\",\n\t},\n\tlistItem: {\n\t\tborderBottom: \"1px solid #ddd\",\n\t\tpaddingTop: 10,\n\t\tpaddingBottom: 10,\n\t},\n\tcloseText: {\n\t\ttextTransform: \"capitalize\",\n\t},\n}));\n\nexport default function ResponsiveDialog(props) {\n\tconst {\n\t\tlist = [],\n\t\tonChange,\n\t\thandleClose,\n\t\toffset,\n\t\ttotal,\n\t\tdisplayField,\n\t\tgetOptionLabel,\n\t} = props;\n\tconst theme = useTheme();\n\tconst classes = useStyles();\n\tconst fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n\tconst handleItemClick = React.useCallback(\n\t\t(item) => {\n\t\t\tonChange(item);\n\t\t\thandleClose();\n\t\t},\n\t\t[onChange, handleClose]\n\t);\n\n\tconst canNext = offset + list.length < total;\n\tconst canPrev = offset > 0;\n\n\tconst getLabel = (item) => {\n\t\treturn getOptionLabel ? getOptionLabel(item) : item[displayField || \"name\"];\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Dialog\n\t\t\t\tfullScreen={fullScreen}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth={true}\n\t\t\t\topen={props.open}\n\t\t\t\tonClose={props.handleClose}\n\t\t\t\taria-labelledby=\"responsive-dialog-title\"\n\t\t\t>\n\t\t\t\t<DialogTitle\n\t\t\t\t\tid=\"responsive-dialog-title\"\n\t\t\t\t\tclassName={classes.titleHeader}\n\t\t\t\t>{`Search ${props.title || \"item\"}`}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\tvalue={props.searchText}\n\t\t\t\t\t\t\tonChange={(e) => props.setSearchText(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<IconButton onClick={props.onPrevious} disabled={!canPrev}>\n\t\t\t\t\t\t\t<ChevronLeft />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={props.onNext} disabled={!canNext}>\n\t\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<List className={classes.root}>\n\t\t\t\t\t\t{list.map((item, i) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclassName={classes.listItem}\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\trole={undefined}\n\t\t\t\t\t\t\t\tdense\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tonClick={() => handleItemClick(item)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText id={i} primary={getLabel(item)} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button autoFocus onClick={props.handleClose} color=\"primary\">\n\t\t\t\t\t\t<Typography className={classes.closeText}>Close</Typography>\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport AutoComplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport _ from \"lodash\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AxelorService from \"../services/axelor.rest\";\nimport { camleCaseString, getDefaultGridFormName, translate } from \"../utils\";\nimport { useDebounceEffect } from \"./../common.func\";\nimport SearchView from \"./SearchView\";\nconst filter = createFilterOptions();\nconst useStyles = makeStyles({\n\tautoComplete: {\n\t\tbackgroundColor: \"#293846\",\n\t\tmarginTop: 15,\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\tlabel: {\n\t\tcolor: \"#e7eaec !important\",\n\t\tfontSize: 12,\n\t},\n\tpopperAutoComplete: {\n\t\t\"& ul, .MuiAutocomplete-noOptions\": {\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#e7eaec !important\",\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li:hover, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#e7eaec !important\",\n\t\t\tbackgroundColor: \"#2f4050 !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#323232 !important\",\n\t\t\t},\n\t\t},\n\t},\n\tinput: {\n\t\tcolor: \"#e7eaec\",\n\t\tfontSize: 13,\n\t},\n\troot: {\n\t\tcolor: \"#e7eaec\",\n\t},\n\terror: {\n\t\tcolor: \"red\",\n\t\tmarginBottom: 5,\n\t\tfontSize: 13,\n\t},\n\toption: {\n\t\tfontSize: 13,\n\t},\n\tdisabled: {\n\t\tcolor: \"#a3a3a3 !important\",\n\t\tfontSize: 12,\n\t},\n});\n\nexport default function SelectComponent(_props) {\n\tconst {\n\t\tname,\n\t\tref,\n\t\ttitle,\n\t\tvalueField = \"id\",\n\t\ttype,\n\t\tmultiple = false,\n\t\tcommaSeparated,\n\t\tdisplayField = \"name\",\n\t\tlimit = 10,\n\t\tdata: preData = [],\n\t\tisDisabled,\n\t\tneedsTargetModel,\n\t\tcanAddNew = false,\n\t\tgetOptionLabel,\n\t\tshouldFetchInStart = false,\n\t} = _props.field;\n\tconst { props, error } = _props;\n\tconst { propertyList, setPropertyList, onChange, editWidgetType, modelType } =\n\t\tprops;\n\tlet value = propertyList[name] || \"\";\n\tif (commaSeparated && type === \"select\") {\n\t\tconst values = value ? value.split(\",\") : [];\n\t\tvalue = values.map((val) => {\n\t\t\treturn { [valueField]: val };\n\t\t});\n\t}\n\tconst [data, setData] = useState([...preData]);\n\tconst [searchText, setsearchText] = useState(\"\");\n\tconst isMounted = React.useRef(true);\n\tconst [moreDialog, setMoreDialog] = useState(false);\n\tconst [offset, setOffset] = useState(0);\n\tconst [total, setTotal] = useState(0);\n\tconst [initialFetch, setInitialFetch] = useState(false);\n\tconst { targetModel } = propertyList;\n\tconst classes = useStyles();\n\tconst disabled = isDisabled\n\t\t? isDisabled(propertyList, editWidgetType, modelType)\n\t\t: false;\n\n\tconst handleInputChange = useCallback(\n\t\t(e, value, reason) => {\n\t\t\tif (reason !== \"reset\") {\n\t\t\t\tif (type === \"objectSelection\" && typeof value === \"object\") {\n\t\t\t\t\tsetsearchText(value[displayField]);\n\t\t\t\t} else {\n\t\t\t\t\tsetsearchText(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[type, displayField]\n\t);\n\n\tconst getSelectValue = useCallback(\n\t\t(value = []) => {\n\t\t\tif (commaSeparated) {\n\t\t\t\treturn value ? value.map((e) => e.name).join(\",\") : \"\";\n\t\t\t}\n\t\t\treturn ref ? value[valueField] : value;\n\t\t},\n\t\t[valueField, commaSeparated, ref]\n\t);\n\n\tconst fetchOptions = useCallback(\n\t\t(searchText = \"\", offset = 0) => {\n\t\t\tconst criteria = [];\n\t\t\tif (searchText) {\n\t\t\t\tcriteria.push({\n\t\t\t\t\tfieldName: \"name\",\n\t\t\t\t\toperator: \"like\",\n\t\t\t\t\tvalue: searchText,\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(name === \"gridView\" || name === \"formView\") &&\n\t\t\t\tneedsTargetModel.includes(props.type)\n\t\t\t) {\n\t\t\t\tif (!targetModel) return;\n\t\t\t}\n\t\t\tif (name === \"gridView\") {\n\t\t\t\tneedsTargetModel.includes(props.type) &&\n\t\t\t\t\tcriteria.push({\n\t\t\t\t\t\tfieldName: \"model\",\n\t\t\t\t\t\toperator: \"=\",\n\t\t\t\t\t\tvalue: targetModel,\n\t\t\t\t\t});\n\t\t\t\tcriteria.push({ fieldName: \"type\", operator: \"=\", value: \"grid\" });\n\t\t\t}\n\t\t\tif (name === \"formView\") {\n\t\t\t\tneedsTargetModel.includes(props.type) &&\n\t\t\t\t\tcriteria.push({\n\t\t\t\t\t\tfieldName: \"model\",\n\t\t\t\t\t\toperator: \"=\",\n\t\t\t\t\t\tvalue: targetModel,\n\t\t\t\t\t});\n\t\t\t\tcriteria.push({ fieldName: \"type\", operator: \"=\", value: \"form\" });\n\t\t\t}\n\t\t\tconst data = {\n\t\t\t\tcriteria,\n\t\t\t\toperator: \"and\",\n\t\t\t};\n\t\t\tconst fields = [\n\t\t\t\t\"name\",\n\t\t\t\t\"fullName\",\n\t\t\t\tvalueField,\n\t\t\t\tdisplayField,\n\t\t\t\t\"parent\",\n\t\t\t].filter((e) => e);\n\t\t\tif (shouldFetchInStart && initialFetch) {\n\t\t\t\t// setData(data);\n\t\t\t} else {\n\t\t\t\treturn new AxelorService({ model: ref })\n\t\t\t\t\t.search({ fields, data, limit, offset })\n\t\t\t\t\t.then(({ data, total }) => {\n\t\t\t\t\t\tsetInitialFetch(true);\n\t\t\t\t\t\tif (data && data.length) {\n\t\t\t\t\t\t\tif (isMounted.current) {\n\t\t\t\t\t\t\t\t!moreDialog &&\n\t\t\t\t\t\t\t\t\ttotal > limit &&\n\t\t\t\t\t\t\t\t\tdata.push({\n\t\t\t\t\t\t\t\t\t\tname: translate(\"Show more...\"),\n\t\t\t\t\t\t\t\t\t\tid: \"studio_show_More_View\",\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsetTotal(total);\n\t\t\t\t\t\t\t\tconst uniqueData = _.uniqBy(data, displayField);\n\t\t\t\t\t\t\t\tsetData(uniqueData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tname,\n\t\t\tref,\n\t\t\ttargetModel,\n\t\t\tvalueField,\n\t\t\tdisplayField,\n\t\t\tlimit,\n\t\t\tneedsTargetModel,\n\t\t\tprops.type,\n\t\t\tmoreDialog,\n\t\t\tinitialFetch,\n\t\t\tshouldFetchInStart,\n\t\t]\n\t);\n\n\tconst optionDebounceHandler = React.useCallback(() => {\n\t\tref && fetchOptions(searchText);\n\t}, [fetchOptions, searchText, ref]);\n\n\tconst getValue = (value) => {\n\t\treturn typeof value === \"string\" && ref ? { [valueField]: value } : value;\n\t};\n\n\tconst getInputAsOption = React.useCallback(\n\t\t(value) => {\n\t\t\tif (value && typeof value === \"string\" && ref) {\n\t\t\t\tvalue = { [valueField]: value };\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\t[ref, valueField]\n\t);\n\n\tconst handleSearch = React.useCallback((value) => {\n\t\tsetsearchText(value);\n\t\tsetOffset(0);\n\t}, []);\n\n\tconst handleNext = React.useCallback(() => {\n\t\tconst newOffset = offset + limit;\n\t\tif (newOffset <= total) {\n\t\t\tsetOffset(newOffset);\n\t\t\tfetchOptions(searchText, newOffset);\n\t\t}\n\t}, [limit, total, offset, fetchOptions, searchText]);\n\n\tconst handlePrevious = React.useCallback(() => {\n\t\tlet newOffset = offset - limit;\n\t\tnewOffset = newOffset > 0 ? newOffset : 0;\n\t\tsetOffset(newOffset);\n\t\tfetchOptions(searchText, newOffset);\n\t}, [offset, limit, searchText, fetchOptions]);\n\n\tconst handleClose = React.useCallback(() => {\n\t\tsetMoreDialog(false);\n\t\tsetOffset(0);\n\t}, []);\n\n\tconst handleChange = React.useCallback(\n\t\t(e, _value) => {\n\t\t\tif (_value?.id === \"studio_show_More_View\") {\n\t\t\t\tsetMoreDialog(true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (multiple) {\n\t\t\t\thandleSearch(\"\");\n\t\t\t\tif (e.fromDialog) {\n\t\t\t\t\t_value = [...value, _value];\n\t\t\t\t} else {\n\t\t\t\t\tconst hasMoreView =\n\t\t\t\t\t\t_value.findIndex((v) => v?.id === \"studio_show_More_View\") !== -1;\n\t\t\t\t\tif (hasMoreView) {\n\t\t\t\t\t\tsetMoreDialog(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_value = _value\n\t\t\t\t\t.map((val) => {\n\t\t\t\t\t\tif (val?.id !== \"studio_show_More_View\") {\n\t\t\t\t\t\t\treturn getInputAsOption(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t})\n\t\t\t\t\t.filter((e) => e);\n\t\t\t} else {\n\t\t\t\tif (_value && _value.inputValue && _value.inputValue.length && ref) {\n\t\t\t\t\t_value[valueField] = _value.inputValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst updatedValue = {\n\t\t\t\t...propertyList,\n\t\t\t\t[name]:\n\t\t\t\t\ttype === \"objectSelection\"\n\t\t\t\t\t\t? _value\n\t\t\t\t\t\t: _value && getSelectValue(_value),\n\t\t\t};\n\t\t\tlet payload = {};\n\t\t\tif (name === \"targetModel\") {\n\t\t\t\tconst { targetModel } = updatedValue || {};\n\t\t\t\tpayload = {\n\t\t\t\t\tgridView: _value ? getDefaultGridFormName(targetModel) : null,\n\t\t\t\t\tformView: _value ? getDefaultGridFormName(targetModel, true) : null,\n\t\t\t\t};\n\t\t\t}\n\t\t\tsetPropertyList({ ...(updatedValue || {}), ...payload });\n\t\t\tonChange(\n\t\t\t\t{ ...(updatedValue || {}), ...payload },\n\t\t\t\tname !== \"selection\" ? name : undefined\n\t\t\t);\n\t\t},\n\t\t[\n\t\t\tgetSelectValue,\n\t\t\tmultiple,\n\t\t\tname,\n\t\t\tonChange,\n\t\t\tsetPropertyList,\n\t\t\tpropertyList,\n\t\t\tvalue,\n\t\t\ttype,\n\t\t\tref,\n\t\t\tgetInputAsOption,\n\t\t\tvalueField,\n\t\t\thandleSearch,\n\t\t]\n\t);\n\n\tuseDebounceEffect(optionDebounceHandler, 500);\n\n\tuseEffect(() => {\n\t\tisMounted.current = true;\n\t\tfetchOptions();\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, [fetchOptions]);\n\n\tuseEffect(() => {\n\t\tif (!multiple) {\n\t\t\tif (typeof value === \"object\") {\n\t\t\t\tsetsearchText(value[displayField]);\n\t\t\t} else {\n\t\t\t\tsetsearchText(value);\n\t\t\t}\n\t\t}\n\t}, [multiple, value, displayField, type]);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AutoComplete\n\t\t\t\tclasses={{\n\t\t\t\t\tinputFocused: disabled ? classes.disabled : classes.input,\n\t\t\t\t\tclearIndicator: classes.input,\n\t\t\t\t\tpopupIndicator: disabled ? classes.disabled : classes.input,\n\t\t\t\t\tpopper: classes.popperAutoComplete,\n\t\t\t\t\toption: classes.option,\n\t\t\t\t\tnoOptions: classes.option,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.autoComplete}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tmultiple={multiple}\n\t\t\t\toptions={data}\n\t\t\t\tforcePopupIcon={true}\n\t\t\t\tfreeSolo={type !== \"objectSelection\"}\n\t\t\t\tvalue={multiple ? value || [] : getValue(value)}\n\t\t\t\tinputValue={searchText || \"\"}\n\t\t\t\tsize=\"small\"\n\t\t\t\tonInputChange={handleInputChange}\n\t\t\t\t{...{\n\t\t\t\t\tfilterOptions: (options, params) => {\n\t\t\t\t\t\tconst filtered = filter(options, params);\n\t\t\t\t\t\t// Suggest the creation of a new value\n\t\t\t\t\t\tif (searchText !== \"\" && canAddNew) {\n\t\t\t\t\t\t\tfiltered.splice(0, 0, {\n\t\t\t\t\t\t\t\tinputValue: searchText,\n\t\t\t\t\t\t\t\tname: searchText,\n\t\t\t\t\t\t\t\ttitle: `Add \"${searchText}\"`,\n\t\t\t\t\t\t\t\ttype: \"canAddNew\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst showMore = options.find(\n\t\t\t\t\t\t\t(o) => o.id === \"studio_show_More_View\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tshowMore &&\n\t\t\t\t\t\t\t![\"\", null, undefined].includes(params.inputValue)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst hasShowMore =\n\t\t\t\t\t\t\t\tfiltered.findIndex((o) => o.id === \"studio_show_More_View\") !==\n\t\t\t\t\t\t\t\t-1;\n\n\t\t\t\t\t\t\t!hasShowMore && filtered.push({ ...showMore });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn filtered;\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tonChange={handleChange}\n\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t{...params}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel={translate(camleCaseString(title || name))}\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\tclassName: disabled ? classes.disabled : classes.label,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\tgetOptionLabel={(option) => {\n\t\t\t\t\tif (getOptionLabel) {\n\t\t\t\t\t\treturn getOptionLabel(option, data);\n\t\t\t\t\t}\n\t\t\t\t\treturn option.type === \"canAddNew\"\n\t\t\t\t\t\t? option[\"title\"]\n\t\t\t\t\t\t: typeof option === \"string\"\n\t\t\t\t\t\t? option\n\t\t\t\t\t\t: option[displayField] || \"\";\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{error && <Typography className={classes.error}>{error}</Typography>}\n\t\t\t{moreDialog && (\n\t\t\t\t<SearchView\n\t\t\t\t\tsearchText={searchText}\n\t\t\t\t\tlist={data}\n\t\t\t\t\ttotal={total}\n\t\t\t\t\toffset={offset}\n\t\t\t\t\tdisplayField={displayField}\n\t\t\t\t\topen={moreDialog}\n\t\t\t\t\tonNext={handleNext}\n\t\t\t\t\tonPrevious={handlePrevious}\n\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\tsetSearchText={handleSearch}\n\t\t\t\t\ttitle={translate(camleCaseString(title || name))}\n\t\t\t\t\tonChange={(value) => handleChange({ fromDialog: true }, value)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n","import React from \"react\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useStore } from \"../store/context\";\nconst useStyles = makeStyles({\n\tcontainer: {\n\t\tmarginBottom: 15,\n\t},\n\trow: {\n\t\tdisplay: \"flex\",\n\t},\n\tlanguageText: {\n\t\twidth: \"15%\",\n\t\tmarginTop: 8,\n\t\ttextTransform: \"capitalize\",\n\t\ttextAlign: \"center\",\n\t},\n});\n\nfunction TranslationGrid(props) {\n\tconst classes = useStyles();\n\tconst { state, update } = useStore();\n\tconst { keyValue, ...rest } = props;\n\tconst { translationList } = state;\n\tconst [translations, setTranslations] = React.useState([]);\n\n\tconst handleTranslationChange = React.useCallback(\n\t\t({ key, message, language }) => {\n\t\t\tsetTranslations((_translations) => {\n\t\t\t\tlet newList = [..._translations];\n\t\t\t\tconst translationIndex = newList.findIndex(\n\t\t\t\t\t(e) => e.key === key && e.language === language\n\t\t\t\t);\n\n\t\t\t\tif (translationIndex !== -1) {\n\t\t\t\t\tnewList[translationIndex] = { ...newList[translationIndex], message };\n\t\t\t\t} else {\n\t\t\t\t\tnewList.push({ key, message, language });\n\t\t\t\t}\n\t\t\t\treturn [...newList];\n\t\t\t});\n\t\t},\n\t\t[]\n\t);\n\n\tconst handleTranslationUpdate = React.useCallback(\n\t\t({ key, message, language }) => {\n\t\t\tupdate((draft) => {\n\t\t\t\tconst translationIndex = draft.translationList.findIndex(\n\t\t\t\t\t(e) => e.key === key && e.language === language\n\t\t\t\t);\n\n\t\t\t\tif (translationIndex !== -1) {\n\t\t\t\t\tdraft.translationList[translationIndex].message = message;\n\t\t\t\t} else {\n\t\t\t\t\tdraft.translationList.push({ key, message, language });\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[update]\n\t);\n\n\tReact.useEffect(() => {\n\t\tsetTranslations([...translationList]);\n\t}, [translationList]);\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t{state.languageList.map((lang, i) => (\n\t\t\t\t<div key={i} className={classes.row}>\n\t\t\t\t\t<Typography classes={{ root: classes.languageText }}>\n\t\t\t\t\t\t{lang.value}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\ttranslations.find(\n\t\t\t\t\t\t\t\t(e) => e.key === keyValue && e.language === lang.value\n\t\t\t\t\t\t\t)?.message || \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\thandleTranslationChange({\n\t\t\t\t\t\t\t\tkey: keyValue,\n\t\t\t\t\t\t\t\tmessage: e.target.value,\n\t\t\t\t\t\t\t\tlanguage: lang.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBlur={(e) =>\n\t\t\t\t\t\t\te.target.value &&\n\t\t\t\t\t\t\thandleTranslationUpdate({\n\t\t\t\t\t\t\t\tkey: keyValue,\n\t\t\t\t\t\t\t\tmessage: e.target.value,\n\t\t\t\t\t\t\t\tlanguage: lang.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default TranslationGrid;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { translate } from \"../utils\";\n\nconst useStyles = makeStyles({\n\tpaper: {\n\t\tminWidth: 300,\n\t},\n});\n\nexport default function DeleteConfirmation({\n\tonOk,\n\tonClose,\n\topen,\n\tmessage,\n\ttitle = \"Delete Confirmation\",\n}) {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={onClose}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.paper,\n\t\t\t}}\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">{translate(title)}</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t{translate(message)}\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={onOk} color=\"primary\">\n\t\t\t\t\t{translate(\"Yes\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={onClose} color=\"primary\" autoFocus>\n\t\t\t\t\t{translate(\"No\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}\n","import React, { useState } from \"react\";\nimport {\n\tTextField,\n\tGrid,\n\tTypography,\n\tFormControlLabel,\n\tSwitch,\n\tIconButton,\n} from \"@material-ui/core\";\nimport AutoComplete from \"@material-ui/lab/Autocomplete\";\nimport classNames from \"classnames\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { options } from \"./list\";\nimport {\n\tcamleCaseString,\n\ttranslate,\n\tgetProperty,\n\tgetPropertyValue,\n\tgenerateFieldUniqueTitle,\n\tcapitalizeFirst,\n} from \"../utils\";\nimport SelectComponent from \"../components/SelectComponent\";\nimport { MODEL_TYPE, TYPE, typeReplacer, ENTITY_TYPE } from \"../constants\";\nimport { useStore } from \"../store/context\";\nimport {\n\tFormView,\n\tGridView,\n\tJsonRelationalField,\n\tSelectableType,\n\tTargetJsonModel,\n\tTargetModel,\n} from \"./propertyFields\";\nimport TranslationGrid from \"../components/TranslationGrid\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport CloseIcon from \"@material-ui/icons/Delete\";\nimport ClearIcon from \"@material-ui/icons/Close\";\nimport { getSelectionText } from \"../Toolbar/api\";\n\nimport DialogConfirmation from \"../Toolbar/DeleteConfirmation\";\n\nconst useStyles = makeStyles({\n\tinput: {\n\t\tbackgroundColor: \"#293846\",\n\t\tmarginTop: 15,\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\ttranslationInput: {\n\t\tpaddingTop: 10,\n\t\tpaddingBottom: 10,\n\t},\n\ttranslationInputView: {\n\t\tbackgroundColor: \"#293846\",\n\t\tmarginBottom: 5,\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\tlabel: {\n\t\tcolor: \"#f7f7f7\",\n\t\tfontSize: 12,\n\t\t\"&#outlined-basic-label\": {\n\t\t\tcolor: \"#f7f7f7\",\n\t\t},\n\t\t\"&.MuiInputLabel-shrink\": {\n\t\t\ttop: \"1px !important\",\n\t\t},\n\t},\n\toutlinedRoot: {\n\t\tcolor: \"#ffffff\",\n\t\t\"&:hover $notchedOutline\": {\n\t\t\tborderColor: \"#ffffff\",\n\t\t},\n\t\t\"&$focused $notchedOutline\": {\n\t\t\tborderColor: \"white\",\n\t\t\tborderWidth: 1,\n\t\t},\n\t},\n\tnotchedOutline: {},\n\tfocused: {\n\t\tcolor: \"#ffffff\",\n\t},\n\tswitchBase: {\n\t\t\"&$checked\": {\n\t\t\tcolor: \"#ffffff\",\n\t\t},\n\t\t\"&$checked + $track\": {\n\t\t\tbackgroundColor: \"#ffffff\",\n\t\t},\n\t},\n\tchecked: {},\n\ttrack: {},\n\tselection: {\n\t\tcolor: \"#ffffff\",\n\t\tbackgroundColor: \"#293846\",\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\ticonOutlined: {\n\t\tcolor: \"#ffffff\",\n\t},\n\tpanelTitle: {\n\t\tcolor: \"peachpuff\",\n\t\tfontWeight: \"600\",\n\t},\n\tpanelMargin: {\n\t\tmargin: \"25px 0px 0px 0px\",\n\t},\n\tdisableInput: {\n\t\tcolor: \"#a3a3a3 !important\",\n\t},\n\tunique: {\n\t\tcolor: \"#0275d8\",\n\t},\n\trequired: {\n\t\tcolor: \"red\",\n\t},\n\ttranslateButton: {\n\t\tcolor: \"#ffffff\",\n\t\tpadding: \"10px 12px\",\n\t\t\"& > span > svg\": {\n\t\t\tfontSize: \"1.1rem\",\n\t\t},\n\t},\n\tstaticSelectMenuItem: {\n\t\tcolor: \"#ffffff\",\n\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: \"#293846 !important\",\n\t\t},\n\t},\n\tautoComplete: {\n\t\twidth: \"100%\",\n\t\tmarginTop: 15,\n\t\tbackgroundColor: \"#293846\",\n\t\t\"& > div > label\": {\n\t\t\tcolor: \"#ffffff !important\",\n\t\t\tfontSize: 13,\n\t\t},\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\tautoCompleteInput: {\n\t\tcolor: \"#ffffff\",\n\t\tfontSize: 13,\n\t},\n\tautoCompleteOption: {\n\t\tfontSize: 13,\n\t\t\"& ul, .MuiAutocomplete-noOptions\": {\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#ffffff !important\",\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li:hover, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#ffffff !important\",\n\t\t\tbackgroundColor: \"#2f4050 !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#323232 !important\",\n\t\t\t},\n\t\t},\n\t},\n\ttextFieldInput: {\n\t\t// padding: \"10px 14px !important\",\n\t\tfontSize: 13,\n\t},\n\tbooleanInputLabel: {\n\t\tfontSize: 12,\n\t},\n\tdisabled: {\n\t\tcolor: \"#a3a3a3 !important\",\n\t\tfontSize: 12,\n\t},\n});\n\nconst PropertiesContext = React.createContext();\n\nfunction Label(text, field) {\n\tconst classes = useStyles();\n\treturn (\n\t\t<span>\n\t\t\t<span>{text}</span>\n\t\t\t{field.unique && <span className={classes.unique}> (unique) </span>}\n\t\t\t{field.required && <span className={classes.required}> * </span>}\n\t\t</span>\n\t);\n}\n\nconst isValueGenerated = (value) => {\n\treturn value.includes(\"studio:\");\n};\n\nconst hasPropertyToShow = (list, type) => {\n\treturn (\n\t\tlist.filter(\n\t\t\t(item) => !item.dependModelType || item.dependModelType === type\n\t\t).length > 0\n\t);\n};\n\nfunction StringInput(_props) {\n\tconst {\n\t\tindex,\n\t\tmultiline = false,\n\t\terror,\n\t\tparentPanel,\n\t\tonTranslationRemove,\n\t\tclearable = false,\n\t} = _props;\n\tconst classes = useStyles();\n\tconst [confirm, setConfirm] = React.useState(false);\n\tconst {\n\t\ttitle,\n\t\tname,\n\t\ttype,\n\t\trequired,\n\t\treadOnly,\n\t\tmax,\n\t\tmin,\n\t\tparentField,\n\t\ttranslationView,\n\t\t...rest\n\t} = _props.field;\n\tconst props = React.useContext(PropertiesContext);\n\tconst {\n\t\tpropertyList,\n\t\tsetPropertyList,\n\t\tonChange,\n\t\tmodelType,\n\t\tmetaFieldStore,\n\t\teditWidgetType,\n\t} = props;\n\tlet label = Label(translate(camleCaseString(title || name)), _props.field);\n\tlet placeholder = translate(camleCaseString(title || name));\n\tif (name === \"showIf\" || name === \"requiredIf\") {\n\t\tplaceholder = \"id == 1\";\n\t} else if (name === \"hideIf\") {\n\t\tplaceholder = \"id == null\";\n\t} else if (name === \"readOnlyIf\") {\n\t\tplaceholder = \"id != null\";\n\t}\n\tlet value = propertyList[name] || \"\";\n\tif (\n\t\t(modelType === rest.modelType || props.editWidgetType === \"customField\") &&\n\t\tparentField\n\t) {\n\t\tconst field = propertyList[parentField]\n\t\t\t? JSON.parse(propertyList[parentField])\n\t\t\t: {};\n\t\tvalue = field[name] || \"\";\n\t}\n\tif (rest.formatter) {\n\t\tvalue = rest.formatter(value, propertyList);\n\t}\n\tlet disabled = Boolean(readOnly);\n\tif (rest.isDisabled) {\n\t\tdisabled = rest.isDisabled({\n\t\t\tproperties: propertyList,\n\t\t\tmetaFieldStore,\n\t\t\teditWidgetType,\n\t\t\tmodelType,\n\t\t\tparentPanel,\n\t\t});\n\t}\n\n\tconst handleTranslationClick = React.useCallback(() => {\n\t\tif (isValueGenerated(value)) {\n\t\t\treturn;\n\t\t}\n\t\tconst newValue = generateFieldUniqueTitle({\n\t\t\tname,\n\t\t\tfieldName: propertyList[name] || type,\n\t\t});\n\t\tonChange(\n\t\t\t{\n\t\t\t\t...(propertyList || {}),\n\t\t\t\t...getProperty(\n\t\t\t\t\tname,\n\t\t\t\t\tnewValue,\n\t\t\t\t\tparentField,\n\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t!(modelType === rest.modelType) || editWidgetType === \"customField\"\n\t\t\t\t),\n\t\t\t},\n\t\t\tname\n\t\t);\n\t}, [\n\t\tpropertyList,\n\t\tname,\n\t\ttype,\n\t\tvalue,\n\t\tonChange,\n\t\trest.modelType,\n\t\tmodelType,\n\t\tparentField,\n\t\teditWidgetType,\n\t]);\n\n\tconst handleTranslationRemove = React.useCallback(() => {\n\t\tsetConfirm(false);\n\t\tonChange(\n\t\t\t{\n\t\t\t\t...(propertyList || {}),\n\t\t\t\t...getProperty(\n\t\t\t\t\tname,\n\t\t\t\t\t\"\",\n\t\t\t\t\tparentField,\n\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t!(modelType === rest.modelType)\n\t\t\t\t),\n\t\t\t},\n\t\t\tname\n\t\t);\n\t\tonTranslationRemove(value);\n\t}, [\n\t\tonTranslationRemove,\n\t\tvalue,\n\t\tname,\n\t\tparentField,\n\t\tmodelType,\n\t\tonChange,\n\t\tpropertyList,\n\t\trest.modelType,\n\t]);\n\n\tconst removeTranslation = React.useCallback(() => {\n\t\tsetConfirm(true);\n\t}, []);\n\n\tconst onClose = React.useCallback(() => {\n\t\tsetConfirm(false);\n\t}, []);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<TextField\n\t\t\t\terror={Boolean(error)}\n\t\t\t\thelperText={error}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tclassName: disabled ? classes.disabled : classes.label,\n\t\t\t\t}}\n\t\t\t\tsize=\"small\"\n\t\t\t\tInputProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes && disabled ? \"\" : classes.outlinedRoot,\n\t\t\t\t\t\tnotchedOutline: classes && classes.notchedOutline,\n\t\t\t\t\t\tfocused: classes && classes.focused,\n\t\t\t\t\t\tdisabled: classes && classes.disableInput,\n\t\t\t\t\t\tinput: classes && classes.textFieldInput,\n\t\t\t\t\t},\n\t\t\t\t\tendAdornment: translationView ? (\n\t\t\t\t\t\tisValueGenerated(value) ? (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName={classes.translateButton}\n\t\t\t\t\t\t\t\tonClick={removeTranslation}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName={classes.translateButton}\n\t\t\t\t\t\t\t\tonClick={handleTranslationClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TranslateIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : clearable ? (\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName={classes.translateButton}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tlet value = \"\";\n\t\t\t\t\t\t\t\tlet flag = true;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trest.modelType === MODEL_TYPE.BASE &&\n\t\t\t\t\t\t\t\t\tprops.editWidgetType !== \"customField\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tflag =\n\t\t\t\t\t\t\t\t\t\tvalue === \"\"\n\t\t\t\t\t\t\t\t\t\t\t? propertyList[name] !== undefined\n\t\t\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t\t\t: true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\trest.modelType === MODEL_TYPE.CUSTOM &&\n\t\t\t\t\t\t\t\t\tprops.editWidgetType === \"customField\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// set null value when value is negative for custom view & custom fields\n\t\t\t\t\t\t\t\t\tvalue = value || null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (flag) {\n\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t...(propertyList || {}),\n\t\t\t\t\t\t\t\t\t\t\t...getProperty(\n\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\tparentField,\n\t\t\t\t\t\t\t\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t\t\t\t\t\t\t\t!(modelType === rest.modelType) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\teditWidgetType === \"customField\"\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\tinputProps={{ min: min, max: max }}\n\t\t\t\tkey={index}\n\t\t\t\tclassName={classes && classes.input}\n\t\t\t\tid=\"outlined-basic\"\n\t\t\t\tmultiline={multiline}\n\t\t\t\ttype={type === \"integer\" ? \"number\" : type}\n\t\t\t\tlabel={label}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tdisabled={disabled || (translationView && isValueGenerated(value))}\n\t\t\t\tvalue={value}\n\t\t\t\tminRows={3}\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tif (type === \"integer\" && isNaN(Number(e.target.value))) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (min && max) {\n\t\t\t\t\t\tconst value = Number(e.target.value);\n\t\t\t\t\t\tif (value < min || value > max) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet value = e.target.value;\n\t\t\t\t\tsetPropertyList({\n\t\t\t\t\t\t...(propertyList || {}),\n\t\t\t\t\t\t...getProperty(\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\tparentField,\n\t\t\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t\t\t!(modelType !== rest.modelType) ||\n\t\t\t\t\t\t\t\teditWidgetType === \"customField\"\n\t\t\t\t\t\t),\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tonBlur={(e) => {\n\t\t\t\t\tif (type === \"integer\" && isNaN(Number(e.target.value))) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (min && max) {\n\t\t\t\t\t\tconst value = Number(e.target.value);\n\t\t\t\t\t\tif (value < min || value > max) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet value = e.target.value;\n\t\t\t\t\tlet flag = true;\n\t\t\t\t\tif (\n\t\t\t\t\t\trest.modelType === MODEL_TYPE.BASE &&\n\t\t\t\t\t\tprops.editWidgetType !== \"customField\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tflag =\n\t\t\t\t\t\t\tvalue === \"\"\n\t\t\t\t\t\t\t\t? propertyList[name] !== undefined\n\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t: true;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\trest.modelType === MODEL_TYPE.CUSTOM &&\n\t\t\t\t\t\tprops.editWidgetType === \"customField\"\n\t\t\t\t\t) {\n\t\t\t\t\t\t// set null value when value is negative for custom view & custom fields\n\t\t\t\t\t\tvalue = value || null;\n\t\t\t\t\t}\n\t\t\t\t\tif (flag) {\n\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...(propertyList || {}),\n\t\t\t\t\t\t\t\t...getProperty(\n\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\tvalue && name === \"name\" ? value.trim() : value,\n\t\t\t\t\t\t\t\t\tparentField,\n\t\t\t\t\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t\t\t\t\t!(modelType === rest.modelType) ||\n\t\t\t\t\t\t\t\t\t\teditWidgetType === \"customField\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{translationView && isValueGenerated(value) && (\n\t\t\t\t<TranslationGrid\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\troot: classes && classes.outlinedRoot,\n\t\t\t\t\t\t\tnotchedOutline: classes && classes.notchedOutline,\n\t\t\t\t\t\t\tfocused: classes && classes.focused,\n\t\t\t\t\t\t\tdisabled: classes && classes.disableInput,\n\t\t\t\t\t\t\tinput: classes && classes.translationInput,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tclassName: disabled ? classes.disabled : classes.label,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={classes && classes.translationInputView}\n\t\t\t\t\tkeyValue={value}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{confirm && (\n\t\t\t\t<DialogConfirmation\n\t\t\t\t\topen={confirm}\n\t\t\t\t\tmessage=\"Are you sure, do you want to delete translations?\"\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tonOk={handleTranslationRemove}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nfunction BooleanField(_props) {\n\tconst [openAlert, setAlertOpen] = useState(false);\n\tconst { index } = _props;\n\tlet { name, title, parentField, defaultValue, uncheckDialog, ...rest } =\n\t\t_props.field;\n\tconst props = React.useContext(PropertiesContext);\n\tconst {\n\t\tpropertyList,\n\t\tsetPropertyList,\n\t\tonChange,\n\t\tmodelType,\n\t\teditWidgetType,\n\t\tmetaFieldStore,\n\t} = props;\n\tlet _value = getPropertyValue(\n\t\tpropertyList,\n\t\tname,\n\t\tparentField,\n\t\tdefaultValue,\n\t\t!(modelType !== rest.modelType) || editWidgetType === \"customField\"\n\t);\n\tlet fieldValue = Boolean(_value ? !(_value === \"false\") : _value);\n\tconst classes = useStyles();\n\tif (rest.getValue) {\n\t\tfieldValue = rest.getValue(propertyList);\n\t}\n\tlet disabled = false;\n\tif (rest.isDisabled) {\n\t\tdisabled = rest.isDisabled({\n\t\t\tproperties: propertyList,\n\t\t\tmetaFieldStore,\n\t\t\teditWidgetType,\n\t\t\tmodelType,\n\t\t});\n\t}\n\ttitle = translate(camleCaseString(title || name));\n\n\tconst handleOnChange = () => {\n\t\tif (uncheckDialog) {\n\t\t\tsetAlertOpen(false);\n\t\t}\n\t\tsetPropertyList({\n\t\t\t...propertyList,\n\t\t\t...(rest.change ? rest.change(!fieldValue, propertyList) : {}),\n\t\t\t...getProperty(\n\t\t\t\tname,\n\t\t\t\t!fieldValue,\n\t\t\t\tparentField,\n\t\t\t\tpropertyList[parentField],\n\t\t\t\t!(modelType !== rest.modelType) || editWidgetType === \"customField\"\n\t\t\t),\n\t\t});\n\t\tonChange(\n\t\t\t{\n\t\t\t\t...propertyList,\n\t\t\t\t...(rest.change ? rest.change(!fieldValue, propertyList) : {}),\n\t\t\t\t...getProperty(\n\t\t\t\t\tname,\n\t\t\t\t\t!fieldValue,\n\t\t\t\t\tparentField,\n\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t!(modelType !== rest.modelType) || editWidgetType === \"customField\"\n\t\t\t\t),\n\t\t\t},\n\t\t\tname\n\t\t);\n\t};\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<FormControlLabel\n\t\t\t\tstyle={{ marginTop: 15 }}\n\t\t\t\tkey={index}\n\t\t\t\tclasses={{\n\t\t\t\t\tlabel: classes && classes.booleanInputLabel,\n\t\t\t\t\tdisabled: classes.disabled,\n\t\t\t\t}}\n\t\t\t\tcontrol={\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\tswitchBase: classes && classes.switchBase,\n\t\t\t\t\t\t\ttrack: classes && classes.track,\n\t\t\t\t\t\t\tchecked: classes && classes.checked,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tchecked={fieldValue}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tuncheckDialog &&\n\t\t\t\t\t\t\t\tfieldValue &&\n\t\t\t\t\t\t\t\tpropertyList &&\n\t\t\t\t\t\t\t\tpropertyList.selectionText\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsetAlertOpen(true);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thandleOnChange();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={propertyList[name]}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tlabel={translate(camleCaseString(title || name))}\n\t\t\t/>\n\t\t\t{openAlert && (\n\t\t\t\t<DialogConfirmation\n\t\t\t\t\topen={openAlert}\n\t\t\t\t\tmessage=\"Are you sure?\"\n\t\t\t\t\tonClose={() => setAlertOpen(false)}\n\t\t\t\t\tonOk={handleOnChange}\n\t\t\t\t\ttitle=\"Confirm\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nfunction StaticSelection(_props) {\n\tconst { index } = _props;\n\tlet {\n\t\tname,\n\t\trequired,\n\t\tdata,\n\t\thelper,\n\t\ttitle,\n\t\tcolor,\n\t\tdisableClearable = false,\n\t\tparentField,\n\t\tparentPanel,\n\t\tgetOptionLabel,\n\t\t...rest\n\t} = _props.field;\n\tconst props = React.useContext(PropertiesContext);\n\tconst {\n\t\tpropertyList,\n\t\tsetPropertyList,\n\t\ttype,\n\t\tonChange,\n\t\tmodelType,\n\t\tmetaFieldStore,\n\t\teditWidgetType,\n\t} = props;\n\tconst classes = useStyles();\n\n\tif (typeof data === \"object\" && !Array.isArray(data)) {\n\t\tdata = data[(typeReplacer[type] || type).toLowerCase()] || [];\n\t}\n\ttitle = translate(camleCaseString(title || name));\n\n\tconst ColorTag = ({ color }) => (\n\t\t<div style={{ width: 15, height: 15, backgroundColor: color }}></div>\n\t);\n\tlet value = propertyList[name] || \"\";\n\tif (\n\t\t(modelType === rest.modelType || props.editWidgetType === \"customField\") &&\n\t\tparentField\n\t) {\n\t\tconst field = propertyList[parentField]\n\t\t\t? JSON.parse(propertyList[parentField])\n\t\t\t: {};\n\t\tvalue = field[name] || \"\";\n\t}\n\tlet disabled = false;\n\tif (rest.isDisabled) {\n\t\tdisabled = rest.isDisabled({\n\t\t\tproperties: propertyList,\n\t\t\tmetaFieldStore,\n\t\t\teditWidgetType,\n\t\t\tmodelType,\n\t\t});\n\t}\n\treturn (\n\t\t<AutoComplete\n\t\t\toptions={data}\n\t\t\tclasses={{\n\t\t\t\troot: classes.selection,\n\t\t\t\tinputFocused: disabled ? classes.disabled : classes.autoCompleteInput,\n\t\t\t\tclearIndicator: classes.autoCompleteInput,\n\t\t\t\tpopupIndicator: disabled ? classes.disabled : classes.autoCompleteInput,\n\t\t\t\toption: classes.autoCompleteOption,\n\t\t\t\tgroupLabel: classes.autoCompleteOption,\n\t\t\t\tpopper: classes.autoCompleteOption,\n\t\t\t\tnoOptions: classes.autoCompleteOption,\n\t\t\t}}\n\t\t\tdisableClearable={disableClearable}\n\t\t\tsize=\"small\"\n\t\t\tclassName={classes.autoComplete}\n\t\t\tautoHighlight\n\t\t\tdisabled={disabled}\n\t\t\tonChange={(e, _value) => {\n\t\t\t\tconst value = {\n\t\t\t\t\t...propertyList,\n\t\t\t\t\t...getProperty(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t_value,\n\t\t\t\t\t\tparentField,\n\t\t\t\t\t\tpropertyList[parentField],\n\t\t\t\t\t\tmodelType === rest.modelType ||\n\t\t\t\t\t\t\tprops.editWidgetType === \"customField\"\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t\tif(name === \"colSpan\"){\n\t\t\t\t\tvalue.colSpan = _value\n\t\t\t\t}\n\t\t\t\tsetPropertyList(value);\n\t\t\t\tonChange(value, name);\n\t\t\t}}\n\t\t\tgetOptionLabel={(option) =>\n\t\t\t\tgetOptionLabel\n\t\t\t\t\t? getOptionLabel(option)\n\t\t\t\t\t: typeof option === \"object\"\n\t\t\t\t\t? option.text\n\t\t\t\t\t: option\n\t\t\t}\n\t\t\trenderOption={(option) =>\n\t\t\t\ttypeof option === \"object\" ? (\n\t\t\t\t\t<div key={index} value={option.value}>\n\t\t\t\t\t\t<i className={`fa ${option}`} style={{ marginRight: 4 }} />\n\t\t\t\t\t\t{translate(option.text)}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div key={index} value={option}>\n\t\t\t\t\t\t{color && <ColorTag color={option} />}\n\t\t\t\t\t\t<i className={`fa ${option}`} style={{ marginRight: 4 }} />\n\t\t\t\t\t\t<span>{translate(option)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\tvalue={value}\n\t\t\trenderInput={(params) => (\n\t\t\t\t<TextField\n\t\t\t\t\t{...params}\n\t\t\t\t\tlabel={translate(camleCaseString(title || name))}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.selection,\n\t\t\t\t\t}}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t...params.inputProps,\n\t\t\t\t\t\tautoComplete: \"new-password\", // disable autocomplete and autofill\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t);\n}\n\nfunction checkDepend(field, propertyList) {\n\tif (field.depends) {\n\t\tconst value = propertyList[field.depends];\n\t\tif (field.dependValue !== value) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn;\n}\n\nfunction checkModel(field, modelType, editWidgetType, propertyList) {\n\tif (field.dependModelType && field.dependModelType !== modelType) {\n\t\tif (editWidgetType !== \"customField\") {\n\t\t\treturn false;\n\t\t}\n\t}\n\tif (editWidgetType === \"customField\" && field.showInCustomField === false) {\n\t\treturn false;\n\t}\n\tif (field.shouldRender && !field.shouldRender(propertyList)) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction RenderPropertyField() {\n\tconst props = React.useContext(PropertiesContext);\n\tconst {\n\t\telements,\n\t\tid,\n\t\tpropertyList,\n\t\tenableAppBuilder,\n\t\tmodelType,\n\t\teditWidgetType,\n\t\terrors,\n\t\tentityType,\n\t\tactualType,\n\t\tparentPanel,\n\t\tonTranslationRemove,\n\t} = props;\n\treturn (\n\t\t<>\n\t\t\t{elements.map((field, index) => {\n\t\t\t\tconst depend = checkDepend(field, propertyList);\n\t\t\t\tif (depend === false) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (!checkModel(field, modelType, editWidgetType, propertyList)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (field.name === \"appBuilder\" && !enableAppBuilder) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t[actualType, entityType].includes(ENTITY_TYPE.META) &&\n\t\t\t\t\tfield.name === \"packageName\"\n\t\t\t\t) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst key = `${index}_${id}`;\n\t\t\t\tswitch (field.type) {\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<StringInput\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\tmultiline={false}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t\tonTranslationRemove={onTranslationRemove}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tcase \"integer\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<StringInput\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\tmultiline={false}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t\tparentPanel={parentPanel}\n\t\t\t\t\t\t\t\tclearable={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<BooleanField\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tcase \"select\":\n\t\t\t\t\tcase \"objectSelection\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<SelectComponent\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\tprops={props}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tcase \"staticSelect\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<StaticSelection\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t\tparentPanel={parentPanel}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<StringInput\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<StringInput\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\tindex={key}\n\t\t\t\t\t\t\t\terror={errors[field.name]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})}\n\t\t</>\n\t);\n}\n\nfunction PropertiesProvider({ children, ...value }) {\n\treturn (\n\t\t<PropertiesContext.Provider value={value}>\n\t\t\t{children}\n\t\t</PropertiesContext.Provider>\n\t);\n}\n\nexport default function Properties(props) {\n\tconst { state, onWidgetChange, onTranslationRemove } = useStore();\n\tconst {\n\t\twidgets,\n\t\teditWidget,\n\t\teditWidgetType,\n\t\tcustomFieldWidgets,\n\t\tmodelType,\n\t\tenableAppBuilder,\n\t\tmetaFieldStore,\n\t\terrorList = {},\n\t\tentityType,\n\t\tactualType,\n\t} = state;\n\tlet widget = null;\n\tif (editWidget) {\n\t\tif (editWidgetType === \"customField\" && customFieldWidgets) {\n\t\t\twidget = customFieldWidgets[editWidget];\n\t\t} else if (editWidgetType !== \"customField\" && widgets) {\n\t\t\twidget = widgets[editWidget];\n\t\t}\n\t}\n\tconst { serverType, isSelectionField } = widget || {};\n\tlet { type } = widget || {};\n\tlet selectedType =\n\t\tserverType === \"field\" ? type || \"string\" : serverType || type;\n\tselectedType = selectedType && selectedType.toLowerCase().replace(/_/g, \"-\");\n\tif (selectedType === \"datetime\") {\n\t\tconst field = metaFieldStore.find((f) => f.name === widget.name);\n\t\tif (field && `${field.tz}` === \"true\") {\n\t\t\tselectedType = \"zoneddatetime\";\n\t\t}\n\t}\n\tconst [propertyList, setPropertyList] = useState({});\n\tlet property = options.find((option) => option.type === selectedType);\n\tif (selectedType === \"form\") {\n\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\tproperty = options.find((option) => option.type === \"modelForm\");\n\t\t} else if (state.modelType === MODEL_TYPE.ENTITY) {\n\t\t\tproperty = options.find((option) => option.type === \"entityForm\");\n\t\t}\n\t} else if (\n\t\tselectedType &&\n\t\tmodelType === MODEL_TYPE.ENTITY &&\n\t\t(selectedType || \"\").toLowerCase().indexOf(\"entity\") === -1\n\t) {\n\t\tselectedType = `${selectedType}entity`;\n\t\tproperty = options.find((option) => option.type === selectedType);\n\t}\n\tif (isSelectionField) {\n\t\tselectedType = [\"string\", \"integer\"].includes(widget && widget.type)\n\t\t\t? widget.type\n\t\t\t: selectedType;\n\t\tif (property && property.value) {\n\t\t\tconst typeFieldIndex = property.value.overview.findIndex(\n\t\t\t\t(item) => item.name === \"type\"\n\t\t\t);\n\t\t\tproperty.value.overview.splice(typeFieldIndex, 1, SelectableType);\n\t\t\tconst { fieldOptions, widgetAttributes } =\n\t\t\t\t(property && property.value) || {};\n\t\t\tproperty = {\n\t\t\t\t...(property || {}),\n\t\t\t\tvalue: {\n\t\t\t\t\t...(property.value || {}),\n\t\t\t\t\tfieldOptions: (fieldOptions || []).filter(\n\t\t\t\t\t\t(f) => ![\"minSize\", \"maxSize\", \"regex\"].includes(f.name)\n\t\t\t\t\t),\n\t\t\t\t\twidgetAttributes: (widgetAttributes || []).filter(\n\t\t\t\t\t\t(f) => ![\"multiline\"].includes(f.name)\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\tconst classes = useStyles();\n\tconst inputLabel = React.useRef(null);\n\tconst [labelWidth, setLabelWidth] = React.useState(0);\n\tReact.useEffect(() => {\n\t\tsetPropertyList({\n\t\t\t...(widget || {}),\n\t\t\ttype: selectedType,\n\t\t});\n\t\tsetLabelWidth(\n\t\t\tinputLabel && inputLabel.current && inputLabel.current.offsetWidth\n\t\t);\n\t}, [widget, selectedType]);\n\n\tasync function onChange(props, changedPropertyName) {\n\t\tconst newProperties = { ...props };\n\t\tif (changedPropertyName === JsonRelationalField.name) {\n\t\t\t// when isJsonRelationalField changes\n\t\t\tnewProperties[TargetJsonModel.name] = null;\n\t\t\tnewProperties[TargetModel.name] = null;\n\t\t\tnewProperties[GridView.name] = null;\n\t\t\tnewProperties[FormView.name] = null;\n\t\t}\n\t\tif (\n\t\t\tchangedPropertyName !== JsonRelationalField.name &&\n\t\t\tchangedPropertyName !== \"type\"\n\t\t) {\n\t\t\tnewProperties.type = widget.type;\n\t\t}\n\t\t/* selectionText implementation starts here */\n\t\tif (\n\t\t\tchangedPropertyName === \"updateSelection\" &&\n\t\t\t!newProperties.updateSelection\n\t\t) {\n\t\t\tnewProperties.selection = null;\n\t\t}\n\t\tif (!newProperties.updateSelection) {\n\t\t\tnewProperties.selectionText = \"\";\n\t\t} else {\n\t\t\tconst obj = { name: newProperties.selection };\n\t\t\tconst text = await getSelectionText(obj);\n\t\t\tnewProperties.selectionText = newProperties.selectionText || text;\n\t\t}\n\t\tif (\n\t\t\tnewProperties.selection &&\n\t\t\tnewProperties.updateSelection &&\n\t\t\t!changedPropertyName\n\t\t) {\n\t\t\tconst obj = { name: newProperties.selection };\n\t\t\tconst text = await getSelectionText(obj);\n\t\t\tnewProperties.selectionText = newProperties.selectionText || text;\n\t\t}\n\t\tif (\n\t\t\tnewProperties.selection &&\n\t\t\ttypeof newProperties.selection === \"object\"\n\t\t) {\n\t\t\tnewProperties.selection = newProperties.selection.name;\n\t\t}\n\t\t/* selectionText implementation ends here */\n\t\tonWidgetChange(editWidget, { ...newProperties });\n\t}\n\n\ttype = selectedType;\n\tlet errors = {};\n\tif (editWidget && errorList) {\n\t\terrors = errorList[editWidget] || {};\n\t}\n\tconst parentPanel = Object.values(widgets || {}).find(\n\t\t(w) => w.items && w.items.indexOf(editWidget) !== -1\n\t);\n\tif (widget?.type === \"panel-tabs\" && editWidgetType === \"customField\") {\n\t\treturn null;\n\t}\n\tif (\n\t\tproperty?.dependModelType &&\n\t\t`${widget?.tab}` === \"true\" &&\n\t\tproperty?.dependModelType !== modelType\n\t) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Grid style={{ padding: 20 }}>\n\t\t\t{type &&\n\t\t\t\tproperty &&\n\t\t\t\t!(\n\t\t\t\t\tstate.modelType === MODEL_TYPE.CUSTOM && property.type === TYPE.tabs\n\t\t\t\t) &&\n\t\t\t\tObject.keys(property.value).map((panel, i) => (\n\t\t\t\t\t<Grid key={i}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\tclasses.panelTitle,\n\t\t\t\t\t\t\t\ti !== 0 && classes.panelMargin\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{hasPropertyToShow(property.value[panel], modelType) &&\n\t\t\t\t\t\t\t\ttranslate(capitalizeFirst(panel))}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", flexDirection: \"column\", width: \"90%\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PropertiesProvider\n\t\t\t\t\t\t\t\tkey={editWidget}\n\t\t\t\t\t\t\t\telements={property.value[panel]}\n\t\t\t\t\t\t\t\tpropertyList={propertyList}\n\t\t\t\t\t\t\t\tsetPropertyList={setPropertyList}\n\t\t\t\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\t\t\t\tinputLabel={inputLabel}\n\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\tonWidgetChange={onWidgetChange}\n\t\t\t\t\t\t\t\tid={editWidget}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\tmodelType={modelType}\n\t\t\t\t\t\t\t\tenableAppBuilder={enableAppBuilder}\n\t\t\t\t\t\t\t\teditWidgetType={editWidgetType}\n\t\t\t\t\t\t\t\tmetaFieldStore={metaFieldStore}\n\t\t\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\t\t\tentityType={entityType}\n\t\t\t\t\t\t\t\tactualType={actualType}\n\t\t\t\t\t\t\t\tparentPanel={parentPanel}\n\t\t\t\t\t\t\t\tonTranslationRemove={onTranslationRemove}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<RenderPropertyField />\n\t\t\t\t\t\t\t</PropertiesProvider>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t))}\n\t\t</Grid>\n\t);\n}\n","import React from \"react\";\nimport Properties from \"../../Properties\";\n\nexport default React.memo(function PropertiesView() {\n\treturn (\n\t\t<div style={{ color: \"#fff\" }}>\n\t\t\t<Properties />\n\t\t</div>\n\t);\n});\n","import React from \"react\";\nimport { Tabs, Tab, Paper, Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ListAlt, PlaylistAdd } from \"@material-ui/icons\";\nimport classNames from \"classnames\";\n\nimport AddPanelView from \"./Tabs/AddPanelView\";\nimport PropertiesView from \"./Tabs/PropertiesView\";\nimport { useStore } from \"../store/context\";\nimport { translate } from \"../utils\";\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tboxShadow: \"1px 2px 8px 0px rgb(1 1 1 / 75%) !important\",\n\t\tbackgroundColor: \"#2f4050\",\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#1b1b1b\",\n\t\t},\n\t\theight: '100%',\n\t\twidth: '100%',\n    borderTop: '1px solid #2f4050',\n\t},\n\ttab: {\n\t\tminHeight: \"fit-content\",\n\t\tminWidth: \"fit-content\",\n\t\ttextTransform: \"none\",\n\t\tcolor: \"#fff\",\n\t\tfontWeight: \"600\",\n\t\tbackgroundColor: \"#293846\",\n\t\t\".modern-dark &\": {\n\t\t\tcolor: \"#fff\",\n\t\t\tbackgroundColor: \"#1b1b1b\",\n\t\t},\n\t\t\"&>span\": {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > svg\": {\n\t\t\t\tmarginBottom: \"0px !important\",\n\t\t\t\tmarginRight: 5,\n\t\t\t},\n\t\t},\n\t},\n\ttabs: {\n\t\tbackgroundColor: \"#293846\",\n\t\tminHeight: \"42px !important\",\n\t\tborderTopRightRadius: 5,\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#1b1b1b\",\n\t\t},\n\t},\n\tcontainer: {\n\t\tbackgroundColor: \"#2f4050\",\n\t\theight: `calc(100% - 42px)`,\n\t\toverflow: \"auto\",\n\t\tscrollbarWidth: \"thin\",\n\t\tborderBottomRightRadius: 5,\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#1b1b1b\",\n\t\t},\n\t},\n\tactiveTab: {\n\t\tbackgroundColor: \"#2f4050\",\n\t\tborderBottom: \"2px solid #fff\",\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n});\n\nconst tabs = [\n\t{ label: \"Properties\", icon: <ListAlt />, view: <PropertiesView /> },\n\t{ label: \"Fields\", icon: <PlaylistAdd />, view: <AddPanelView /> },\n];\n\nconst TabPanel = React.memo(function TabPanel(props) {\n\tconst { children } = props;\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Grid className={classes.container}>\n\t\t\t<Grid style={{ color: \"#000\", height: \"100%\" }}>{children}</Grid>\n\t\t</Grid>\n\t);\n});\n\nexport default React.memo(function SidePanel() {\n\tconst classes = useStyles();\n\tconst { state, update } = useStore();\n\tconst { tabIndex, editWidget } = state;\n\n\tconst onTabChange = (event, newValue) => {\n\t\tif (newValue === 0 && !editWidget) {\n\t\t\treturn;\n\t\t}\n\t\tupdate((draft) => {\n\t\t\tdraft.tabIndex = newValue;\n\t\t});\n\t};\n\n\treturn (\n\t\t<Paper square className={classes.root}>\n\t\t\t<Tabs\n\t\t\t\tvalue={tabIndex}\n\t\t\t\tonChange={onTabChange}\n\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\tclassName={classes.tabs}\n\t\t\t\tTabIndicatorProps={{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tdisplay: \"none\",\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{tabs.map((tab, i) => (\n\t\t\t\t\t<Tab\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tclassName={classNames(classes.tab, {\n\t\t\t\t\t\t\t[classes.activeTab]: tabIndex === i,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\ticon={tab.icon}\n\t\t\t\t\t\tlabel={translate(tab.label)}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: i === 1 && !editWidget ? \"#a6a6a6\" : \"#fff\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Tabs>\n\t\t\t{tabs.map(\n\t\t\t\t(tab, i) => tabIndex === i && <TabPanel key={i}>{tab.view}</TabPanel>\n\t\t\t)}\n\t\t</Paper>\n\t);\n});\n","import React from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport classNames from \"classnames\";\n\nimport { Widget, Form } from \"../components\";\nimport { IDS, MODEL_TYPE } from \"../constants\";\nimport { useStore } from \"../store/context\";\n\nconst useStyles = makeStyles({\n\tuiContainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"fit-content\",\n\t\tposition: \"relative\",\n\t},\n\tloaderContainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\tzIndex: 1000,\n\t\tborder: \"0px\",\n\t\tbackgroundColor: \"rgba(0,0,0,0.05)\",\n\t\tbottom: 0,\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\talignItems: \"center\",\n\t},\n\temptyFormInfo: {\n\t\tminHeight: \"24vh !important\",\n\t},\n});\n// Render Main Form UI View\nfunction FormViewUI({ design }) {\n\tconst store = useStore();\n\tconst classes = useStyles();\n\tconst {\n\t\twidgets,\n\t\tcustomFieldWidgets,\n\t\tloader,\n\t\terrorList,\n\t\tmodelField,\n\t\tmodelType,\n\t} = store.state;\n\tconst formInfo = (store.state.widgets || [])[-1];\n\treturn (\n\t\t<div className={classNames(classes.uiContainer)}>\n\t\t\t<div\n\t\t\t\tid=\"form-view\"\n\t\t\t\tclassName={classNames(classes.container, {\n\t\t\t\t\t[classes.emptyFormInfo]: !formInfo && !customFieldWidgets,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{loader && (\n\t\t\t\t\t<div className={classNames(classes.loaderContainer)}>\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{widgets && (\n\t\t\t\t\t<Widget\n\t\t\t\t\t\tindex={0}\n\t\t\t\t\t\tid={IDS.form}\n\t\t\t\t\t\tattrs={store.state.widgets[IDS.form]}\n\t\t\t\t\t\tonSelect={store.onSelect}\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\titems: store.state.items,\n\t\t\t\t\t\t\tdragWidget: store.state.dragWidget,\n\t\t\t\t\t\t\thoverWidget: store.state.hoverWidget,\n\t\t\t\t\t\t\teditWidget: store.state.editWidget,\n\t\t\t\t\t\t\twidgets: store.state.widgets,\n\t\t\t\t\t\t\tonSelect: store.onSelect,\n\t\t\t\t\t\t\tonMove: store.onMove,\n\t\t\t\t\t\t\tonDrag: store.onDrag,\n\t\t\t\t\t\t\tonHover: store.onHover,\n\t\t\t\t\t\t\tonWidgetChange: store.onWidgetChange,\n\t\t\t\t\t\t\tsetHoverAttr: store.setHoverAttr,\n\t\t\t\t\t\t\tcanRemove: modelType === MODEL_TYPE.BASE ? false : true,\n\t\t\t\t\t\t\terrorList,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdesign={design}\n\t\t\t\t\t\tcomponent={Form}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{customFieldWidgets && (\n\t\t\t\t\t<div className=\"custom-field-pallett-view\">\n\t\t\t\t\t\t<div className=\"custom-field-view-header\">\n\t\t\t\t\t\t\t{modelField?.name || \"attrs\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Widget\n\t\t\t\t\t\t\t_type=\"customField\"\n\t\t\t\t\t\t\tindex={0}\n\t\t\t\t\t\t\tid={IDS.customForm}\n\t\t\t\t\t\t\tattrs={store.state.customFieldWidgets[IDS.customForm]}\n\t\t\t\t\t\t\tonSelect={store.onSelect}\n\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\titems: store.state.customFieldItems,\n\t\t\t\t\t\t\t\tdragWidget: store.state.dragWidget,\n\t\t\t\t\t\t\t\thoverWidget: store.state.hoverWidget,\n\t\t\t\t\t\t\t\teditWidget: store.state.editWidget,\n\t\t\t\t\t\t\t\twidgets: store.state.customFieldWidgets,\n\t\t\t\t\t\t\t\tonSelect: store.onSelect,\n\t\t\t\t\t\t\t\tonMove: store.onMove,\n\t\t\t\t\t\t\t\tonDrag: store.onDrag,\n\t\t\t\t\t\t\t\tonHover: store.onHover,\n\t\t\t\t\t\t\t\tonWidgetChange: store.onWidgetChange,\n\t\t\t\t\t\t\t\tsetHoverAttr: store.setHoverAttr,\n\t\t\t\t\t\t\t\terrorList,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdesign={design}\n\t\t\t\t\t\t\tcomponent={Form}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default FormViewUI;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Editor from \"./../Editor\";\n\nexport default React.memo(function MainPanel() {\n\tconst [design] = React.useState(true);\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"form-layout-container\", {\n\t\t\t\t\"form-layout-design\": design,\n\t\t\t})}\n\t\t\tstyle={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\theight: \"100%\",\n\t\t\t\tjustifyContent: \"center\",\n\t\t\t\toverflow: \"auto\",\n\t\t\t\tposition: \"relative\",\n\t\t\t}}\n\t\t>\n\t\t\t<Editor design={design} />\n\t\t</div>\n\t);\n});\n","import React, { useState, useEffect } from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport AutoComplete from \"@material-ui/lab/Autocomplete\";\nimport _ from \"lodash\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport AxelorService from \"./../services/axelor.rest\";\nimport { useDebounceEffect } from \"./../common.func\";\nimport SearchView from \"../components/SearchView\";\nimport { translate } from \"../utils\";\nconst useStyles = makeStyles({\n\tautoComplete: {\n\t\t\"& > div > label\": {\n\t\t\tcolor: \"#e7eaec !important\",\n\t\t\tfontSize: 12,\n\t\t},\n\t},\n\tautoCompleteRoot: {\n\t\twidth: 200,\n\t\tmarginLeft: 10,\n\t\tcolor: \"#e7eaec\",\n\t},\n\tinputView: {\n\t\tcolor: \"#fff\",\n\t\tfontSize: 13,\n\t\t\"& > *\": {\n\t\t\tcolor: \"#fff\",\n\t\t},\n\t},\n\tpopperView: {\n\t\t\"& ul, .MuiAutocomplete-noOptions\": {\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#e7eaec !important\",\n\t\t\tbackgroundColor: \"rgb(41, 56, 70) !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#1b1b1b !important\",\n\t\t\t},\n\t\t},\n\t\t\"& li:hover, .MuiAutocomplete-noOptions\": {\n\t\t\tcolor: \"#e7eaec !important\",\n\t\t\tbackgroundColor: \"#2f4050 !important\",\n\t\t\t\".modern-dark &\": {\n\t\t\t\tbackgroundColor: \"#323232 !important\",\n\t\t\t},\n\t\t},\n\t},\n\toption: {\n\t\tfontSize: 13,\n\t},\n});\n\nfunction Select({\n\tvalue,\n\tlabel,\n\tmodel,\n\tsearchFilter,\n\tonChange,\n\toptions,\n\tfilterData,\n\tlimit = 10,\n\tonSearch,\n\tmodelType,\n\t...props\n}) {\n\tconst classes = useStyles();\n\tconst [searchText, setSearchText] = useState(\"\");\n\tconst [loading, setLoading] = useState(false);\n\tconst [list, setList] = useState([...(options ? options : [])]);\n\tconst [searchMore, setSearchMore] = useState(false);\n\tconst [offset, setOffset] = useState(0);\n\tconst [total, setTotal] = useState(0);\n\n\tconst search = React.useCallback(\n\t\tasync (searchText = \"\") => {\n\t\t\tif (onSearch) {\n\t\t\t\tsetLoading(true);\n\t\t\t\tconst { models, total } = await onSearch({\n\t\t\t\t\tlimit,\n\t\t\t\t\tsearchText,\n\t\t\t\t\tsearchFilter,\n\t\t\t\t\tfilterData,\n\t\t\t\t\tmodelType,\n\t\t\t\t\toffset,\n\t\t\t\t});\n\t\t\t\t!searchMore &&\n\t\t\t\t\ttotal > limit &&\n\t\t\t\t\tmodels.push({\n\t\t\t\t\t\tname: translate(\"Show more...\"),\n\t\t\t\t\t\tid: \"studio_show_More_View\",\n\t\t\t\t\t});\n\t\t\t\tconst uniqueList = _.uniqBy(models, \"name\");\n\t\t\t\tsetList(uniqueList);\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetTotal(total);\n\t\t\t} else {\n\t\t\t\tconst service = new AxelorService({ model });\n\t\t\t\tsetLoading(true);\n\t\t\t\tconst _data = searchFilter(searchText) || {};\n\t\t\t\tconst criteria = [];\n\t\t\t\tif (searchText) {\n\t\t\t\t\tcriteria.push({\n\t\t\t\t\t\tfieldName: \"name\",\n\t\t\t\t\t\toperator: \"like\",\n\t\t\t\t\t\tvalue: searchText,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst data = {\n\t\t\t\t\t...(_data._domain && { _domain: _data._domain }),\n\t\t\t\t\t...(_data._domainContext && { _domainContext: _data._domainContext }),\n\t\t\t\t\tcriteria: [...criteria, ...(_data.criteria || [])],\n\t\t\t\t\toperator: \"and\",\n\t\t\t\t};\n\t\t\t\tconst fields = _data.fields || [];\n\t\t\t\tservice\n\t\t\t\t\t.search({ fields, data, limit, offset: offset })\n\t\t\t\t\t.then((response = {}) => {\n\t\t\t\t\t\tconst { data = [], total } = response;\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tconst list = filterData ? filterData([...data]) : [...data];\n\t\t\t\t\t\t!searchMore &&\n\t\t\t\t\t\t\ttotal > limit &&\n\t\t\t\t\t\t\tlist.push({\n\t\t\t\t\t\t\t\tname: translate(\"Show more...\"),\n\t\t\t\t\t\t\t\tid: \"studio_show_More_View\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTotal(total);\n\t\t\t\t\t\tconst uniqueList = _.uniqBy(list, \"name\");\n\t\t\t\t\t\tsetList(uniqueList);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tsearchFilter,\n\t\t\tmodel,\n\t\t\tfilterData,\n\t\t\tsearchMore,\n\t\t\tlimit,\n\t\t\tonSearch,\n\t\t\tmodelType,\n\t\t\toffset,\n\t\t]\n\t);\n\n\tconst handleNext = React.useCallback(() => {\n\t\tconst newOffset = offset + limit;\n\t\tif (newOffset <= total) {\n\t\t\tsetOffset(newOffset);\n\t\t}\n\t}, [limit, total, offset]);\n\n\tconst handlePrevious = React.useCallback(() => {\n\t\tsetOffset((offset) => {\n\t\t\tconst newOffset = offset - limit;\n\t\t\treturn newOffset > 0 ? newOffset : 0;\n\t\t});\n\t}, [limit]);\n\n\tconst debounceHandler = React.useCallback(() => {\n\t\t!options && search(searchText);\n\t}, [searchText, search, options]);\n\n\tconst handleChange = React.useCallback(\n\t\t(e, value) => {\n\t\t\tif (value?.id === \"studio_show_More_View\") {\n\t\t\t\tsetSearchMore(true);\n\t\t\t} else {\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t},\n\t\t[onChange]\n\t);\n\n\tconst handleTextChange = React.useCallback((value) => {\n\t\tsetSearchText(value);\n\t\tsetOffset(0);\n\t}, []);\n\n\tconst handleClose = React.useCallback(() => {\n\t\tsetSearchMore(false);\n\t\tsetOffset(0);\n\t}, []);\n\n\tuseDebounceEffect(debounceHandler, 500);\n\n\tuseEffect(() => {\n\t\t!options && search();\n\t}, [search, options, model]);\n\n\tuseEffect(() => {\n\t\tif (!value) {\n\t\t\tsetSearchText(\"\");\n\t\t}\n\t}, [value]);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AutoComplete\n\t\t\t\tclearOnEscape\n\t\t\t\tautoComplete\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.autoCompleteRoot,\n\t\t\t\t\tinputFocused: classes.input,\n\t\t\t\t\tclearIndicator: classes.input,\n\t\t\t\t\tpopupIndicator: classes.input,\n\t\t\t\t\tinput: classes.inputView,\n\t\t\t\t\tendAdornment: classes.inputView,\n\t\t\t\t\tpopper: classes.popperView,\n\t\t\t\t\toption: classes.option,\n\t\t\t\t\tnoOptions: classes.option,\n\t\t\t\t}}\n\t\t\t\tsize=\"small\"\n\t\t\t\tclassName={classes.autoComplete}\n\t\t\t\tonInputChange={(e, value) => setSearchText(value)}\n\t\t\t\trenderInput={(params) => {\n\t\t\t\t\tparams.inputProps.value = searchText;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TextField {...params} placeholder={translate(label)} fullWidth />\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t\toptions={[...list]}\n\t\t\t\tloading={loading}\n\t\t\t\tgetOptionLabel={(option) =>\n\t\t\t\t\ttypeof option === \"string\"\n\t\t\t\t\t\t? option\n\t\t\t\t\t\t: props.getOptionLabel\n\t\t\t\t\t\t? props.getOptionLabel(option)\n\t\t\t\t\t\t: option.name\n\t\t\t\t}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tfilterOptions={(options) => options}\n\t\t\t\tvalue={value || null}\n\t\t\t\tgetOptionSelected={(option, value) => option.name === value.name}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t<SearchView\n\t\t\t\tsearchText={searchText}\n\t\t\t\tlist={list}\n\t\t\t\tmodel={model}\n\t\t\t\ttotal={total}\n\t\t\t\toffset={offset}\n\t\t\t\topen={searchMore}\n\t\t\t\tonNext={handleNext}\n\t\t\t\tonPrevious={handlePrevious}\n\t\t\t\thandleClose={handleClose}\n\t\t\t\tsetSearchText={handleTextChange}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttitle={translate(label)}\n\t\t\t\tgetOptionLabel={props.getOptionLabel}\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default React.memo(Select);\n","import { modelService, metaModelService } from \"./api\";\nimport { ENTITY_TYPE, MODEL_TYPE } from \"../constants\";\n\nexport async function modelSearch({\n\tsearchFilter,\n\tlimit,\n\tsearchText,\n\tmodelType,\n\toffset,\n}) {\n\tconst _data = searchFilter(searchText) || {};\n\tconst criteria = [];\n\tif (searchText) {\n\t\tcriteria.push({\n\t\t\tfieldName: \"name\",\n\t\t\toperator: \"like\",\n\t\t\tvalue: searchText,\n\t\t});\n\t}\n\tconst data = {\n\t\t...(_data._domain && { _domain: _data._domain }),\n\t\t...(_data._domainContext && { _domainContext: _data._domainContext }),\n\t\tcriteria: [...criteria, ...(_data.criteria || [])],\n\t\toperator: \"and\",\n\t};\n\tconst fields = _data.fields || [];\n\tconst service =\n\t\tmodelType === MODEL_TYPE.CUSTOM ? metaModelService : modelService;\n\tconst modelResult = await service.search({ fields, data, limit, offset });\n\tconst models = [];\n\tif (modelResult && modelResult.data && Array.isArray(modelResult.data)) {\n\t\tconst list = modelResult.data\n\t\t\t.map((record) => {\n\t\t\t\tconst modelIndex = models.findIndex(\n\t\t\t\t\t(m) => m.name === record.name && m.packageName === record.packageName\n\t\t\t\t);\n\t\t\t\tif (modelIndex === -1 || modelType === MODEL_TYPE.BASE) {\n\t\t\t\t\tif (modelType === MODEL_TYPE.BASE && modelIndex !== -1) {\n\t\t\t\t\t\tmodels.splice(modelIndex, 1);\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...record, entityType: ENTITY_TYPE.META };\n\t\t\t\t} else {\n\t\t\t\t\tmodels.splice(modelIndex, 1, {\n\t\t\t\t\t\t...models[modelIndex],\n\t\t\t\t\t\tactualType: ENTITY_TYPE.META,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t})\n\t\t\t.filter((e) => e);\n\t\tmodels.push(...list);\n\t}\n\treturn { models, total: modelResult && modelResult.total };\n}\n","import React from \"react\";\n\nimport AxelorService from \"./../services/axelor.rest\";\nimport Utils, { generateCustomModelSchema, translate } from \"./../utils\";\nimport Select from \"./Select\";\nimport { relationalFields, MODEL_TYPE, ENTITY_TYPE } from \"./../constants\";\nimport {\n\tfetchCustomFields,\n\tgetEnableAppBuilder,\n\tfetchEntityModel,\n\tfetchEntityFields,\n\tfetchModelFields,\n\tfetchViews,\n\tfetchAttrsList,\n\tgetTranslationList,\n\tmetaJsonFieldService,\n} from \"./api\";\nimport { modelSearch } from \"./customModelSearch\";\nimport { generateXpath } from \"./../store/xpathGenerator\";\nimport convert from \"xml-js\";\n\nconst metaViewService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaView\",\n});\n\nconst modelTypes = [\n\t{ name: translate(\"View\"), value: MODEL_TYPE.BASE },\n\t{ name: translate(\"Custom\"), value: MODEL_TYPE.CUSTOM },\n];\n\nfunction ViewSelection({\n\tmodel,\n\tupdate,\n\tmodelType,\n\tmodelField,\n\tstartLoader,\n\tentityModel,\n\tentityType,\n\tmetaFieldStore,\n\tclearHistory,\n\t...props\n}) {\n\tconst modelName = `com.axelor.meta.db.${\n\t\tmodelType !== MODEL_TYPE.CUSTOM ? \"MetaModel\" : \"MetaJsonModel\"\n\t}`;\n\n\tconst fetchJSONFields = React.useCallback(\n\t\t(ids, record) => {\n\t\t\tconst criteria = [];\n\t\t\tif (ids.length) {\n\t\t\t\tcriteria.push({ fieldName: \"id\", operator: \"in\", value: ids });\n\t\t\t\tconst data = {\n\t\t\t\t\tcriteria,\n\t\t\t\t};\n\t\t\t\tmetaJsonFieldService\n\t\t\t\t\t.search({ data, sortBy: [\"sequence\"] })\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\t\tconst list = res.data || [];\n\t\t\t\t\t\t\tconst schema = generateCustomModelSchema(list, record);\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.widgets = {\n\t\t\t\t\t\t\t\t\t...schema.widgets,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst schema = generateCustomModelSchema([], record);\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.widgets = {\n\t\t\t\t\t\t...schema.widgets,\n\t\t\t\t\t};\n\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.model = record;\n\t\t\t\t\tdraft.customModel = record;\n\t\t\t\t\tdraft.editWidget = -1;\n\t\t\t\t\tdraft.editWidgetType = null;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[update]\n\t);\n\n\tconst handleEntityModelSelect = React.useCallback(\n\t\tasync (model) => {\n\t\t\tstartLoader();\n\t\t\tif (!model) {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\tdraft.items = [];\n\t\t\t\t\tdraft.widgets = null;\n\t\t\t\t\tdraft.initialItems = null;\n\t\t\t\t\tdraft.entityModel = null;\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.model = null;\n\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\tdraft.attrsList = [];\n\t\t\t\t\tdraft.translationList = [];\n\t\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst originalModelFields = await fetchModelFields(model);\n\t\t\tconst metaModelFields = originalModelFields.map((f) => {\n\t\t\t\treturn JSON.parse(\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t...f,\n\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\trelationalFields[f.relationship] ||\n\t\t\t\t\t\t\t(f.typeName || \"\").toLowerCase(),\n\t\t\t\t\t\t...(f.relationship && {\n\t\t\t\t\t\t\ttargetModel: `${f.packageName}.${f.typeName}`,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tpackageName: undefined,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t\tfetchEntityModel(model).then((res) => {\n\t\t\t\tconst schema = Utils.generateEntityModelSchema(res.entityXml, res);\n\t\t\t\tconst fields = Utils.getEntityModelFields(res.entityXml);\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\tdraft.model = model;\n\t\t\t\t\tdraft.entityType = model.entityType;\n\t\t\t\t\tdraft.actualType = model.actualType;\n\t\t\t\t\tdraft.entityModel = model;\n\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\tdraft.attrsList = [];\n\t\t\t\t\tdraft.translationList = [];\n\t\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t\tif (modelType === MODEL_TYPE.ENTITY) {\n\t\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\tdraft.metaFieldStore = [...metaModelFields];\n\t\t\t\t\t\tdraft.metaFields = metaModelFields.filter(\n\t\t\t\t\t\t\t(f) => fields.findIndex((field) => field.name === f.name) === -1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (modelType === MODEL_TYPE.BASE) {\n\t\t\t\t\t\tdraft.metaFieldStore = [...fields, ...metaModelFields];\n\t\t\t\t\t\tdraft.metaFields = [...fields, ...metaModelFields];\n\t\t\t\t\t}\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t[update, startLoader, modelType, clearHistory]\n\t);\n\n\tconst handleModelSelect = React.useCallback(\n\t\tasync (model) => {\n\t\t\tconst metaModelService = new AxelorService({ model: modelName });\n\t\t\tif (!model) {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\tdraft.model = null;\n\t\t\t\t\tdraft.customModel = null;\n\t\t\t\t\tdraft.items = [];\n\t\t\t\t\tdraft.exView = null;\n\t\t\t\t\tdraft.view = null;\n\t\t\t\t\tdraft.widgets = null;\n\t\t\t\t\tdraft.initialItems = null;\n\t\t\t\t\tdraft.initialWidgets = null;\n\t\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\t\tdraft.customFieldItems = null;\n\t\t\t\t\tdraft.customFields = [];\n\t\t\t\t\tdraft.modelField = null;\n\t\t\t\t\tdraft.extensionXML = null;\n\t\t\t\t\tdraft.extensionView = null;\n\t\t\t\t\tdraft.originalXML = null;\n\t\t\t\t\tdraft.selectedView = null;\n\t\t\t\t\tdraft.metaFields = [];\n\t\t\t\t\tdraft.metaFieldStore = [];\n\t\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\tdraft.attrsList = [];\n\t\t\t\t\tdraft.translationList = [];\n\t\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tfields: [\"metaFields\", \"packageName\", \"name\", \"fullName\"],\n\t\t\t\trelated: {\n\t\t\t\t\tmetaFields: [\n\t\t\t\t\t\t\"typeName\",\n\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\"mappedBy\",\n\t\t\t\t\t\t\"relationship\",\n\t\t\t\t\t\t\"name\",\n\t\t\t\t\t\t\"packageName\",\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\t\tif (modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.loader = true;\n\t\t\t\t});\n\t\t\t\tdata = {\n\t\t\t\t\trelated: {\n\t\t\t\t\t\tmenuBuilder: [\"title\", \"parentMenu\"],\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst entityFields = await fetchEntityFields(model);\n\t\t\tif (model.entityType === ENTITY_TYPE.ENTITY) {\n\t\t\t\thandleEntityModelSelect(model);\n\t\t\t} else {\n\t\t\t\tmetaModelService.fetch(model.id, data).then((res) => {\n\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\tconst record = res.data[0];\n\t\t\t\t\t\tconst { fields = [], ...rest } = record;\n\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\t\t\tdraft.model = model;\n\t\t\t\t\t\t\tdraft.entityType = model.entityType;\n\t\t\t\t\t\t\tdraft.widgets = null;\n\t\t\t\t\t\t\tdraft.initialWidgets = null;\n\t\t\t\t\t\t\tdraft.items = [];\n\t\t\t\t\t\t\tdraft.initialItems = null;\n\t\t\t\t\t\t\tdraft.view = null;\n\t\t\t\t\t\t\tdraft.exView = null;\n\t\t\t\t\t\t\tdraft.modelField = null;\n\t\t\t\t\t\t\tdraft.customFields = [];\n\t\t\t\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\t\t\t\tdraft.originalXML = null;\n\t\t\t\t\t\t\tdraft.extensionXML = null;\n\t\t\t\t\t\t\tdraft.extensionView = null;\n\t\t\t\t\t\t\tdraft.entityFields = entityFields;\n\t\t\t\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\t\t\tdraft.attrsList = [];\n\t\t\t\t\t\t\tdraft.translationList = [];\n\t\t\t\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t\t\t\tdraft.selectedView = null;\n\t\t\t\t\t\t\tdraft.editWidget = -1;\n\t\t\t\t\t\t\tdraft.editWidgetType = null;\n\t\t\t\t\t\t\tdraft.tabIndex = 0;\n\t\t\t\t\t\t\tconst _fields = (record.metaFields || []).map((f) => {\n\t\t\t\t\t\t\t\treturn JSON.parse(\n\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\t...f,\n\t\t\t\t\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\t\t\t\t\trelationalFields[f.relationship] ||\n\t\t\t\t\t\t\t\t\t\t\t(f.typeName || \"\").toLowerCase(),\n\t\t\t\t\t\t\t\t\t\t...(f.relationship && {\n\t\t\t\t\t\t\t\t\t\t\ttargetModel: `${f.packageName}.${f.typeName}`,\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\tpackageName: undefined,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (modelType === MODEL_TYPE.BASE) {\n\t\t\t\t\t\t\t\tdraft.metaFieldStore = [..._fields, ...entityFields];\n\t\t\t\t\t\t\t\tdraft.metaFields = [..._fields, ...entityFields];\n\t\t\t\t\t\t\t} else if (modelType === MODEL_TYPE.ENTITY) {\n\t\t\t\t\t\t\t\tconst modelRecord = {\n\t\t\t\t\t\t\t\t\tname: record.name,\n\t\t\t\t\t\t\t\t\tpackageName: record.packageName,\n\t\t\t\t\t\t\t\t\tmodel: `${record.packageName}.${record.name}`,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tconst schema = generateCustomModelSchema([], modelRecord);\n\t\t\t\t\t\t\t\tdraft.widgets = {\n\t\t\t\t\t\t\t\t\t...schema.widgets,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tdraft.entityModel = null;\n\t\t\t\t\t\t\t\tif (model.entityType === ENTITY_TYPE.META) {\n\t\t\t\t\t\t\t\t\tdraft.metaFieldStore = [..._fields];\n\t\t\t\t\t\t\t\t\tdraft.metaFields = [..._fields];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfetchJSONFields(\n\t\t\t\t\t\t\t\t\tfields.map((f) => f.id),\n\t\t\t\t\t\t\t\t\trest\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tdraft.customModel = record;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tupdate,\n\t\t\tmodelName,\n\t\t\tmodelType,\n\t\t\tfetchJSONFields,\n\t\t\thandleEntityModelSelect,\n\t\t\tclearHistory,\n\t\t]\n\t);\n\n\tconst handleViewSelect = React.useCallback(\n\t\tasync (view) => {\n\t\t\tstartLoader();\n\t\t\tif (!view) {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\tdraft.items = [];\n\t\t\t\t\tdraft.exView = null;\n\t\t\t\t\tdraft.view = null;\n\t\t\t\t\tdraft.widgets = null;\n\t\t\t\t\tdraft.initialItems = null;\n\t\t\t\t\tdraft.initialWidgets = null;\n\t\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\t\tdraft.customFieldItems = null;\n\t\t\t\t\tdraft.customFields = [];\n\t\t\t\t\tdraft.modelField = null;\n\t\t\t\t\tdraft.extensionXML = null;\n\t\t\t\t\tdraft.extensionView = null;\n\t\t\t\t\tdraft.originalXML = null;\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.metaFields = draft.metaFieldStore;\n\t\t\t\t\tdraft.selectedView = null;\n\t\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\tdraft.attrsList = [];\n\t\t\t\t\tdraft.translationList = [];\n\t\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst views = await fetchViews(view);\n\t\t\tconst attrsList = await fetchAttrsList({\n\t\t\t\tmodel: model.name,\n\t\t\t\tview: view.name,\n\t\t\t});\n\t\t\tconst schema = Utils.generateXMLToViewSchema({\n\t\t\t\tview: views.view,\n\t\t\t\tfields: metaFieldStore,\n\t\t\t\textensionXML: views.extensionXML,\n\t\t\t\tattrsList,\n\t\t\t});\n\t\t\tconst translationNames = Object.values(schema.widgets)\n\t\t\t\t.filter((widget) => widget.title && widget.title.startsWith(\"studio:\"))\n\t\t\t\t.map((widget) => widget.title);\n\t\t\tconst translationList = await getTranslationList(translationNames);\n\t\t\tconst originalViewData = {\n\t\t\t\toperator: \"and\",\n\t\t\t\tcriteria: [\n\t\t\t\t\t{\n\t\t\t\t\t\toperator: \"or\",\n\t\t\t\t\t\tcriteria: [\n\t\t\t\t\t\t\t{ fieldName: \"computed\", operator: \"=\", value: false },\n\t\t\t\t\t\t\t{ fieldName: \"computed\", operator: \"isNull\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\toperator: \"or\",\n\t\t\t\t\t\tcriteria: [\n\t\t\t\t\t\t\t{ fieldName: \"extension\", operator: \"=\", value: false },\n\t\t\t\t\t\t\t{ fieldName: \"extension\", operator: \"isNull\" },\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{ fieldName: \"name\", operator: \"=\", value: `${view.name}` },\n\t\t\t\t],\n\t\t\t};\n\t\t\tmetaViewService.search({ data: originalViewData }).then((res) => {\n\t\t\t\tconst { data = [] } = res;\n\t\t\t\tif (data[0]) {\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.originalXML = JSON.parse(\n\t\t\t\t\t\t\tconvert.xml2json(data[0].xml, {\n\t\t\t\t\t\t\t\tcompact: false,\n\t\t\t\t\t\t\t\tfullTagEmptyElement: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// fetch studio extension view\n\t\t\tconst _viewSearch = {\n\t\t\t\t_domain: `self.xmlId = 'studio-${view.name}' and self.extension = true`,\n\t\t\t};\n\t\t\tconst res = await metaViewService.search({ data: _viewSearch });\n\t\t\tconst { data: resData = [] } = res;\n\t\t\tconst record = resData[0];\n\t\t\tif (record) {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.extensionView = record;\n\t\t\t\t\tdraft.extensionXML = JSON.parse(\n\t\t\t\t\t\tconvert.xml2json(record.xml, {\n\t\t\t\t\t\t\tcompact: false,\n\t\t\t\t\t\t\tfullTagEmptyElement: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t\tupdate((draft) => {\n\t\t\t\tclearHistory(draft);\n\t\t\t\tdraft.attrsList = attrsList;\n\t\t\t\tdraft.translationList = translationList;\n\t\t\t\tdraft.initialTranslationList = translationList;\n\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\tif (schema) {\n\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\tdraft.initialWidgets = schema.widgets;\n\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\tdraft.initialItems = schema.items;\n\t\t\t\t\tdraft.metaFields = [...draft.metaFieldStore].filter(\n\t\t\t\t\t\t(field) =>\n\t\t\t\t\t\t\tschema.fieldList.findIndex((f) => f.name === field.name) === -1\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tdraft.selectedView = view;\n\t\t\t\tif (views.view) {\n\t\t\t\t\tdraft.view = { fields: draft.metaFields, view: views.view };\n\t\t\t\t\tdraft.exView = views.view;\n\t\t\t\t}\n\t\t\t\tdraft.customFields = [];\n\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\tdraft.customFieldItems = null;\n\t\t\t\tdraft.modelField = null;\n\t\t\t\tdraft.loader = false;\n\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\tdraft.errorList = [];\n\t\t\t\tgenerateXpath(draft);\n\t\t\t});\n\t\t},\n\t\t[update, startLoader, metaFieldStore, clearHistory, model]\n\t);\n\n\tconst viewFilter = React.useCallback(() => {\n\t\tlet _domain = `self.type='form'`;\n\t\tlet _model = `${model ? model.fullName : \"\"}`;\n\t\tif (entityType === ENTITY_TYPE.ENTITY) {\n\t\t\t_model = `${entityModel ? Utils.getEntityModel(entityModel) : \"\"}`;\n\t\t}\n\t\t// if(model) {\n\t\t_domain = `${_domain} and self.model='${_model}' and (self.computed = true OR self.name NOT IN (select meta.name from MetaView meta where meta.computed = true))`;\n\t\t// }\n\t\treturn {\n\t\t\t_domain,\n\t\t\tfields: [\n\t\t\t\t\"name\",\n\t\t\t\t\"model\",\n\t\t\t\t\"title\",\n\t\t\t\t\"type\",\n\t\t\t\t\"extension\",\n\t\t\t\t\"xmlId\",\n\t\t\t\t\"computed\",\n\t\t\t\t\"xml\",\n\t\t\t],\n\t\t};\n\t}, [model, entityModel, entityType]);\n\n\tconst modelFilter = React.useCallback(() => {\n\t\treturn {\n\t\t\tfields: [\"name\", \"fullName\", \"packageName\"],\n\t\t};\n\t}, []);\n\n\tconst metaFieldFilter = React.useCallback(() => {\n\t\tconst _domain = `self.json = true and self.metaModel.id='${\n\t\t\tmodel ? model.id : -1\n\t\t}'`;\n\t\treturn {\n\t\t\t_domain,\n\t\t\tfields: [\"name\"],\n\t\t};\n\t}, [model]);\n\n\tconst handleMetaFieldSelect = React.useCallback(\n\t\t(field) => {\n\t\t\tif (field) {\n\t\t\t\tfetchCustomFields(field, model).then((res) => {\n\t\t\t\t\tconst { data = [] } = res;\n\t\t\t\t\tconst schema = generateCustomModelSchema(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"customForm\"\n\t\t\t\t\t);\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.customFieldWidgets = schema.widgets;\n\t\t\t\t\t\tdraft.customFieldItems = schema.items;\n\t\t\t\t\t\tdraft.customFields = data;\n\t\t\t\t\t\tdraft.modelField = field;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\t\tdraft.customFieldItems = null;\n\t\t\t\t\tdraft.customFields = [];\n\t\t\t\t\tdraft.modelField = field;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[model, update]\n\t);\n\n\tconst handleTypeSelect = React.useCallback(\n\t\t(type) => {\n\t\t\tconst { value } = type;\n\t\t\tif ([MODEL_TYPE.CUSTOM, MODEL_TYPE.BASE].includes(value)) {\n\t\t\t\tgetEnableAppBuilder().then((res) => {\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.enableAppBuilder = res;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tupdate((draft) => {\n\t\t\t\tclearHistory(draft);\n\t\t\t\tdraft.modelType = type ? type.value : null;\n\t\t\t\tdraft.entityType = null;\n\t\t\t\tdraft.model = null;\n\t\t\t\tdraft.customModel = null;\n\t\t\t\tdraft.widgets = null;\n\t\t\t\tdraft.initialWidgets = null;\n\t\t\t\tdraft.items = [];\n\t\t\t\tdraft.initialItems = null;\n\t\t\t\tdraft.view = null;\n\t\t\t\tdraft.exView = null;\n\t\t\t\tdraft.metaFields = [];\n\t\t\t\tdraft.modelField = null;\n\t\t\t\tdraft.customFields = [];\n\t\t\t\tdraft.customFieldWidgets = null;\n\t\t\t\tdraft.entityModel = null;\n\t\t\t\tdraft.metaFields = [];\n\t\t\t\tdraft.metaFieldStore = [];\n\t\t\t\tdraft.selectedView = null;\n\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\tdraft.errorList = [];\n\t\t\t\tdraft.attrsList = [];\n\t\t\t\tdraft.translationList = [];\n\t\t\t\tdraft.initialTranslationList = [];\n\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t});\n\t\t},\n\t\t[update, clearHistory]\n\t);\n\n\tconst handleViewFilterData = React.useCallback((list) => {\n\t\tconst newList = list.filter((view) => {\n\t\t\tif (!view.computed) {\n\t\t\t\tconst index = list.findIndex((e) => e.name === view.name && e.computed);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (view.extension === true) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\treturn newList;\n\t}, []);\n\n\tconst getOptionLabel = (option) => {\n\t\tif (option.extension === true) {\n\t\t\treturn `${option.name} (Extension)`;\n\t\t}\n\t\tif (option.computed === true) {\n\t\t\treturn `${option.name} (Computed)`;\n\t\t}\n\t\treturn option.name;\n\t};\n\treturn (\n\t\t<>\n\t\t\t<Select\n\t\t\t\toptions={modelTypes}\n\t\t\t\tvalue={modelTypes.find((e) => e.value === modelType)}\n\t\t\t\tfilterSelectedOptions={true}\n\t\t\t\tlabel=\"Type\"\n\t\t\t\tonChange={handleTypeSelect}\n\t\t\t\tdisableClearable\n\t\t\t/>\n\t\t\t<Select\n\t\t\t\tonChange={handleModelSelect}\n\t\t\t\tlabel=\"Model\"\n\t\t\t\tmodel={modelName}\n\t\t\t\tsearchFilter={modelFilter}\n\t\t\t\tvalue={model}\n\t\t\t\tonSearch={modelSearch}\n\t\t\t\tmodelType={modelType}\n\t\t\t/>\n\t\t\t{modelType === MODEL_TYPE.BASE && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tonChange={handleViewSelect}\n\t\t\t\t\t\tlabel=\"View\"\n\t\t\t\t\t\tmodel=\"com.axelor.meta.db.MetaView\"\n\t\t\t\t\t\tsearchFilter={viewFilter}\n\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\tvalue={props.selectedView}\n\t\t\t\t\t\tfilterData={handleViewFilterData}\n\t\t\t\t\t/>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel=\"Custom fields\"\n\t\t\t\t\t\tmodel=\"com.axelor.meta.db.MetaField\"\n\t\t\t\t\t\tsearchFilter={metaFieldFilter}\n\t\t\t\t\t\tonChange={handleMetaFieldSelect}\n\t\t\t\t\t\tvalue={modelField}\n\t\t\t\t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default React.memo(ViewSelection);\n","import React from \"react\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Add, Save, Delete, Undo, Redo, Menu } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ViewSelection from \"./ViewSelection\";\nimport { MODEL_TYPE } from \"./../constants\";\n\nconst useStyles = makeStyles({\n\ttoolbarContainer: {\n\t\tdisplay: 'flex',\n\t\tflexWrap: 'wrap',\n\t\twidth: \"100%\",\n\t\theight: \"inherit\",\n\t\tbackgroundColor: \"rgb(41, 56, 70)\",\n\t\tpadding: '0.5rem 0.75rem',\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#323232\",\n\t\t},\n\t},\n\ttoolItemView: {\n\t\tcolor: \"#fff\",\n\t\tpadding: \"5px 10px\",\n\t},\n\tcrudIcon: {\n\t\theight: \"1em\",\n\t\twidth: \"1em\",\n\t\tfontSize: 18,\n\t\tcursor: \"pointer\",\n\t},\n\tselectionContainer: {\n\t\tflex: 1,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tflexWrap: 'wrap',\n\t},\n\ttoolbarActions: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tdisableBtn: {\n\t\tcolor: '#555 !important',\n\t}\n});\n\nfunction isStudioView(view) {\n\tif (view && view.xmlId && view.xmlId.indexOf(\"studio-\") === 0) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction ToolbarButton(props) {\n\tconst classes = useStyles();\n  return (\n    <IconButton\n      className={classes.toolItemView}\n      classes={{ disabled: classes.disableBtn }}\n\t\t\t{...props}\n    />\n  )\n}\n\nfunction Toolbar({\n\tupdate,\n\tsaveView,\n\tmodelType,\n\tsaveCustomFieldView,\n\tremoveView,\n\tmodel,\n\tonNew,\n\t...props\n}) {\n\tconst classes = useStyles();\n\tconst save = React.useCallback(() => {\n\t\tsaveView();\n\t\tif (modelType === MODEL_TYPE.BASE) {\n\t\t\tsaveCustomFieldView();\n\t\t}\n\t}, [saveView, saveCustomFieldView, modelType]);\n\tconst isRemoveDisabled = !(\n\t\tprops.extensionView ||\n\t\tisStudioView(props.selectedView) ||\n\t\t(modelType === MODEL_TYPE.CUSTOM && Boolean(props.customModel)) ||\n\t\t(modelType === MODEL_TYPE.ENTITY &&\n\t\t\tBoolean(props.entityModel) &&\n\t\t\tBoolean(props.entityModel.id))\n\t);\n\tconst isNewDisabled =\n\t\tmodelType === MODEL_TYPE.BASE && !model && !props.entityModel;\n\tconst isSaveDisabled = Object.keys(props.errorList).length > 0;\n\n\treturn (\n\t\t<div className={classes.toolbarContainer}>\n\t\t\t<div className={classes.toolbarActions}>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName={classes.toolItemView}\n\t\t\t\t\tonClick={props.onSidePanelToggle}\n\t\t\t\t>\n\t\t\t\t\t<Menu className={classes.crudIcon} />\n\t\t\t\t</ToolbarButton>\n\t\t\t\t{modelType !== MODEL_TYPE.BASE && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName={classes.toolItemView}\n\t\t\t\t\t\tonClick={onNew}\n\t\t\t\t\t\tdisabled={isNewDisabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Add className={classes.crudIcon} />\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t)}\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName={classes.toolItemView}\n\t\t\t\t\tonClick={save}\n\t\t\t\t\tdisabled={isSaveDisabled}\n\t\t\t\t>\n\t\t\t\t\t<Save className={classes.crudIcon} />\n\t\t\t\t</ToolbarButton>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName={classes.toolItemView}\n\t\t\t\t\tonClick={removeView}\n\t\t\t\t\tdisabled={isRemoveDisabled}\n\t\t\t\t>\n\t\t\t\t\t<Delete className={classes.crudIcon} />\n\t\t\t\t</ToolbarButton>\n\t\t\t</div>\n\t\t\t<div className={classes.selectionContainer}>\n\t\t\t\t<ViewSelection\n\t\t\t\t\tmodel={model}\n\t\t\t\t\tupdate={update}\n\t\t\t\t\tmodelType={modelType}\n\t\t\t\t\t{...props}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={classes.toolbarActions}>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName={classes.toolItemView}\n\t\t\t\t\tonClick={() => props.undo()}\n\t\t\t\t\tdisabled={props.pastLength <= 0}\n\t\t\t\t>\n\t\t\t\t\t<Undo className={classes.crudIcon} />\n\t\t\t\t</ToolbarButton>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tonClick={() => props.redo()}\n\t\t\t\t\tdisabled={props.futureLength <= 0}\n\t\t\t\t>\n\t\t\t\t\t<Redo className={classes.crudIcon} />\n\t\t\t\t</ToolbarButton>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Toolbar);\n","import Utils from \"../utils\";\nimport { DEFAULT_VALUE, conditionProperties } from \"../constants\";\nimport { eGeneratePath } from \"./../store/xpathGenerator\";\n\nfunction hasIndex(path) {\n\treturn path.split(\"[\").length - 1 > 1;\n}\n\nfunction convertConditionName(name) {\n\tconst propertyName = conditionProperties[name];\n\treturn propertyName;\n}\n\nconst getWidgets = ({ widgets, items }) => {\n\tObject.keys(widgets).forEach((widgetId) => {\n\t\tconst path = eGeneratePath(widgets, items, widgetId);\n\t\twidgets[widgetId].xPath = path;\n\t});\n\treturn widgets;\n};\n\nfunction getName({ self, parent }) {\n\tlet name = \"\";\n\tconst pathText = self || parent;\n\tif (pathText) {\n\t\tconst finder = \"@name='\";\n\t\tconst index = pathText.indexOf(finder) + finder.length;\n\t\tconst endIndex = pathText.indexOf(\"']\");\n\t\tname = pathText.substring(index, endIndex);\n\t}\n\treturn name;\n}\n\nconst isSameAsOriginal = (item, originalWidgets) => {\n\tif (item) {\n\t\tconst { attributes } = item;\n\t\tconst itemExplore = Utils.exploreTarget(item.target);\n\t\tconst widget = Object.values(originalWidgets).find((widget) => {\n\t\t\tconst widgetExplore = Utils.exploreTarget(widget.xPath);\n\t\t\tif (widgetExplore.self || itemExplore.self) {\n\t\t\t\treturn widgetExplore.self === itemExplore.self;\n\t\t\t} else if (widgetExplore.parent || itemExplore.parent) {\n\t\t\t\treturn widgetExplore.parent === itemExplore.parent;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tconst attributeName = Utils.dashToCamelCase(attributes.name);\n\t\tif (widget) {\n\t\t\tlet widgetValue = widget[attributeName];\n\t\t\tlet maskedValue = widget[attributes.maskName];\n\t\t\tif (maskedValue === undefined) {\n\t\t\t\tmaskedValue = \"\";\n\t\t\t}\n\t\t\tif (widgetValue === undefined) {\n\t\t\t\twidgetValue = false;\n\t\t\t}\n\t\t\tif (attributes.maskName !== attributes.name) {\n\t\t\t\tif (`${maskedValue}` === `${attributes.value}`) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if (`${widgetValue}` === `${attributes.value}`) {\n\t\t\t\treturn true;\n\t\t\t} else if (\n\t\t\t\t[\"\", undefined, null].includes(widget[attributeName]) &&\n\t\t\t\t[\"\", undefined, null].includes(attributes.value)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t} else if (\n\t\t\t\tattributes.maskName !== attributes.name &&\n\t\t\t\t[\"\", undefined, null].includes(widget[attributes.maskName]) &&\n\t\t\t\t[\"\", undefined, null].includes(attributes.value)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nexport function getUpdatedAttrsList(state, originalWidgets) {\n\tconst newAttrsList = [];\n\tconst removedAttrsList = [];\n\tconst { attrsList = [] } = state;\n\tconst moves = state.extensionMoves.filter((m) => m.name === \"attribute\");\n\tconst view = state.selectedView;\n\tconst model = state.model;\n\tconst movesMap = new Map();\n\tconst currentSchema = Utils.generateXMLToViewSchema({\n\t\tview: state.view.view,\n\t\tfields: state.metaFieldStore,\n\t\tattrsList: state.attrsList,\n\t});\n\tconst currentWidgets = getWidgets(currentSchema);\n\n\tmoves.forEach((move) => {\n\t\tconst convertedName = convertConditionName(move.attributes.name);\n\t\tconst name = convertedName || move.attributes.name;\n\t\tconst value = move.attributes.value;\n\t\tconst newMove = Object.assign(\n\t\t\t{},\n\t\t\t{\n\t\t\t\t...move,\n\t\t\t\tattributes: {\n\t\t\t\t\t...move.attributes,\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t\tmaskName: move.attributes.name,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tmovesMap.set(name, newMove);\n\t});\n\tmovesMap.forEach((value) => {\n\t\tconst move = value;\n\t\tconst moveExplore = Utils.exploreTarget(move.target);\n\t\tconst { attributes } = move;\n\t\tconst fieldName = getName(moveExplore);\n\t\tconst fieldIndex = attrsList.findIndex(\n\t\t\t(attr) =>\n\t\t\t\tfieldName.includes(attr.field) &&\n\t\t\t\t(attr.name === attributes.name ||\n\t\t\t\t\tconditionProperties[attr.name] === attributes.name)\n\t\t);\n\t\tconst field = attrsList[fieldIndex];\n\t\tconst isOriginal = isSameAsOriginal(move, originalWidgets);\n\t\tconst isCurrent = isSameAsOriginal(move, currentWidgets);\n\t\tconst newAttrsIndex = newAttrsList.findIndex(\n\t\t\t(attr) =>\n\t\t\t\tmoveExplore.self &&\n\t\t\t\tmoveExplore.self.includes(attr.field) &&\n\t\t\t\tattr.name === attributes.name\n\t\t);\n\t\tlet defaultValue = DEFAULT_VALUE[attributes.name];\n\t\tif (isOriginal || isCurrent) {\n\t\t\tif (newAttrsIndex !== -1) {\n\t\t\t\tnewAttrsList.splice(newAttrsIndex, 1);\n\t\t\t} else if (field && field.id) {\n\t\t\t\tremovedAttrsList.push({ id: field.id, version: field.version });\n\t\t\t}\n\t\t} else {\n\t\t\tif (field) {\n\t\t\t\tif ([null, undefined].includes(attributes.value)) {\n\t\t\t\t\tif (defaultValue) {\n\t\t\t\t\t\tif (defaultValue === attributes.value) {\n\t\t\t\t\t\t\tremovedAttrsList.push({ id: field.id, version: field.version });\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tremovedAttrsList.push({ id: field.id, version: field.version });\n\t\t\t\t\t}\n\t\t\t\t} else if (field.value !== attributes.value) {\n\t\t\t\t\tif (defaultValue) {\n\t\t\t\t\t\tif (defaultValue === attributes.value) {\n\t\t\t\t\t\t\tremovedAttrsList.push({ id: field.id, version: field.version });\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (newAttrsIndex === -1) {\n\t\t\t\t\t\t\tnewAttrsList.push({\n\t\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\t\tname: attributes.name,\n\t\t\t\t\t\t\t\tvalue: attributes.value,\n\t\t\t\t\t\t\t\tmaskName: attributes.maskName,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewAttrsList[newAttrsIndex].value = attributes.value;\n\t\t\t\t\t\t\tnewAttrsList[newAttrsIndex].maskName = attributes.maskName;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldName) {\n\t\t\t\t\t// const hasInAttrsList = attrsList.find(attr => )\n\t\t\t\t\t// if(defaultValue !== attributes.value) {\n\t\t\t\t\tif (newAttrsIndex === -1) {\n\t\t\t\t\t\tnewAttrsList.push({\n\t\t\t\t\t\t\tview: view.name,\n\t\t\t\t\t\t\tmodel: model.fullName,\n\t\t\t\t\t\t\tname: attributes.name,\n\t\t\t\t\t\t\tmaskName: attributes.maskName,\n\t\t\t\t\t\t\tvalue: attributes.value,\n\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewAttrsList[newAttrsIndex].value = attributes.value;\n\t\t\t\t\t\tnewAttrsList[newAttrsIndex].maskName = attributes.maskName;\n\t\t\t\t\t}\n\t\t\t\t\t// } else if(newAttrsIndex !== -1) {\n\t\t\t\t\t// \tnewAttrsList.splice(newAttrsIndex, 1);\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn { changedAttrsList: newAttrsList, removedAttrsList };\n}\n\nexport function optimizeExtension(state, originalWidgets) {\n\tconst processed = [];\n\tconst moves = state.extensionMoves.filter((m) => m.name !== \"attribute\");\n\tlet list = [...moves];\n\tconst filterListForAttribute = (move) => {\n\t\tif (\n\t\t\tprocessed.findIndex(\n\t\t\t\t(p) => p.target === move.target && p.name === move.attributes.name\n\t\t\t) === -1\n\t\t) {\n\t\t\tconst _list = list\n\t\t\t\t.map((_item, i) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t_item.target === move.target &&\n\t\t\t\t\t\t_item.attributes &&\n\t\t\t\t\t\tmove.attributes.name === _item.attributes.name\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t})\n\t\t\t\t.filter((e) => e !== undefined);\n\t\t\tconst lastItem = _list[_list.length - 1];\n\t\t\tprocessed.push({ target: move.target, name: move.attributes.name });\n\t\t\tlist = list.filter((item, k) => {\n\t\t\t\tif (item.target === move.target) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tmove.attributes &&\n\t\t\t\t\t\titem.attributes &&\n\t\t\t\t\t\tmove.attributes.name === item.attributes.name\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn lastItem === k ? true : false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t};\n\n\tconst filterListForRemove = (move) => {\n\t\tlet canRemoveReplace = false;\n\t\tconst explore = Utils.exploreTarget(move.target);\n\t\t// check for insert nodes\n\t\tconst insertIndex = list.findIndex((item) => {\n\t\t\tif (item.name === \"insert\") {\n\t\t\t\treturn item.elements && item.elements[0] && explore.self\n\t\t\t\t\t? explore.self.includes(`'${item.elements[0].name}'`)\n\t\t\t\t\t: explore.parent && explore.parent.includes(item.elements[0].name);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tconst depends = list.filter((item) => {\n\t\t\tif (item.target) {\n\t\t\t\tconst itemExplore = Utils.exploreTarget(item.target);\n\t\t\t\treturn (\n\t\t\t\t\t[\"insert\", \"move\"].includes(item.name) &&\n\t\t\t\t\titemExplore.self &&\n\t\t\t\t\titemExplore.self.includes(explore.self)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tif (insertIndex !== -1 && !depends.length) {\n\t\t\tcanRemoveReplace = true;\n\t\t\tlist.splice(insertIndex, 1);\n\t\t\t// check for move\n\t\t\t[...list].forEach((item) => {\n\t\t\t\tif (\n\t\t\t\t\titem.name === \"move\" &&\n\t\t\t\t\titem.source &&\n\t\t\t\t\titem.source === move.target\n\t\t\t\t) {\n\t\t\t\t\tconst moveIndex = list.findIndex(\n\t\t\t\t\t\t(_item) =>\n\t\t\t\t\t\t\t_item.name === \"move\" &&\n\t\t\t\t\t\t\t_item.source &&\n\t\t\t\t\t\t\t_item.source === move.target\n\t\t\t\t\t);\n\t\t\t\t\tif (moveIndex !== -1) {\n\t\t\t\t\t\tlist.splice(moveIndex, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// remove attribute changes\n\t\tlist = list.filter((item) => {\n\t\t\tif (item.name === \"attribute\" && item.target === move.target) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tif (canRemoveReplace) {\n\t\t\tconst removeIndex = list.findIndex(\n\t\t\t\t(item) => item.name === \"replace\" && item.target === move.target\n\t\t\t);\n\t\t\tif (removeIndex !== -1) {\n\t\t\t\tlist.splice(removeIndex, 1);\n\t\t\t}\n\t\t}\n\t};\n\n\tmoves.forEach((move, i) => {\n\t\tif (move.target) {\n\t\t\tconst explore = Utils.exploreTarget(move.target);\n\t\t\tlet flag = true;\n\t\t\tif (explore.self && hasIndex(explore.self)) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tif (explore.parent && hasIndex(explore.parent)) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tif (move.name === \"attribute\" && flag) {\n\t\t\t\tfilterListForAttribute(move);\n\t\t\t}\n\t\t\tif (move.name === \"replace\" && flag) {\n\t\t\t\tif (\n\t\t\t\t\t!(\n\t\t\t\t\t\t(explore?.self && explore.self.includes(\"panel\")) ||\n\t\t\t\t\t\t(!explore?.self && explore?.parent.includes(\"panel\"))\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tfilterListForRemove(move);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn list;\n}\n","import React from \"react\";\nimport convert from \"xml-js\";\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton,\n} from \"@material-ui/core\";\n\nimport Toolbar from \"./Toolbar\";\nimport { useStore } from \"../store/context\";\nimport { generateView } from \"../store/extensionGenerator\";\nimport AxelorService from \"./../services/axelor.rest\";\nimport Utils, { generateCustomModelSchema, translate } from \"../utils\";\nimport {\n\tMODEL_TYPE,\n\tENTITY_TYPE,\n\tconditionProperties,\n\totherNoQuoteProps,\n} from \"../constants\";\nimport {\n\tsaveCustomModel,\n\tfetchJSONFields,\n\tremoveCustomModel,\n\tgenerateMenuChange,\n\tfetchCustomModel,\n\tfetchCustomFields,\n\tremoveEntityModel,\n\tfetchViews,\n\tsaveAttrsList,\n\tfetchAttrsList,\n\tsaveTranslationList,\n\tgetTranslationList,\n\tdeleteAttrsList,\n\tdeleteTranslationList,\n} from \"./api\";\nimport DeleteConfirmation from \"./DeleteConfirmation\";\nimport { getXML } from \"./../store/computeXML\";\nimport { generateXpath, eGeneratePath } from \"./../store/xpathGenerator\";\nimport {\n\toptimizeExtension,\n\tgetUpdatedAttrsList,\n} from \"../store/optimizeExtension\";\n\nconst metaViewService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaView\",\n});\nconst customFieldService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaJsonField\",\n});\nconst entityModelService = new AxelorService({\n\tmodel: \"com.axelor.newstudio.db.EntityModel\",\n});\n\nconst getWidgets = ({ widgets, items }) => {\n\tObject.keys(widgets).forEach((widgetId) => {\n\t\tconst path = eGeneratePath(widgets, items, widgetId);\n\t\twidgets[widgetId].xPath = path;\n\t});\n\treturn widgets;\n};\n\nconst getChangedTranslationList = (\n\tlist,\n\tinitialList,\n\tremovedTranslationList\n) => {\n\tconst deletedTranslationList = [];\n\tconst changedTranslationList = list.filter((item) => {\n\t\tif (removedTranslationList.indexOf(item.key) !== -1) {\n\t\t\titem.id &&\n\t\t\t\tdeletedTranslationList.push({ id: item.id, version: item.version });\n\t\t\treturn false;\n\t\t}\n\t\tif (item.id) {\n\t\t\tconst initialItem = initialList.find(\n\t\t\t\t(i) => i.language === item.language && i.key === item.key\n\t\t\t);\n\t\t\tif (initialItem && initialItem.message !== item.message) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\treturn { changedTranslationList, deletedTranslationList };\n};\n\nfunction ToolbarContainer(props) {\n\tconst { state, update, startLoader, undo, redo, clearHistory } = useStore();\n\tconst [deleteConfirmationDialog, setDeleteConfirmationDialog] =\n\t\tReact.useState(false);\n\n\tconst closeLoader = React.useCallback(() => {\n\t\tupdate((draft) => {\n\t\t\tdraft.loader = false;\n\t\t});\n\t}, [update]);\n\n\tconst removeView = React.useCallback(\n\t\tfunction removeView(message) {\n\t\t\tstartLoader();\n\t\t\tconst clearView = (dialog) => {\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tclearHistory(draft);\n\t\t\t\t\tdraft.customModel = null;\n\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\tdraft.widgets = null;\n\t\t\t\t\tdraft.initialItems = null;\n\t\t\t\t\tdraft.initialWidgets = null;\n\t\t\t\t\tdraft.items = [];\n\t\t\t\t\tdraft.view = null;\n\t\t\t\t\tdraft.metaFields = [];\n\t\t\t\t\tdraft.selectedView = null;\n\t\t\t\t\tdraft.originalXML = null;\n\t\t\t\t\tdraft.extensionXML = null;\n\t\t\t\t\tdraft.selectedView = null;\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.extensionView = null;\n\t\t\t\t\tdraft.errorList = [];\n\t\t\t\t\tif (draft.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\t\tdraft.model = null;\n\t\t\t\t\t}\n\t\t\t\t\tif (draft.modelType === MODEL_TYPE.ENTITY) {\n\t\t\t\t\t\tdraft.entityModel = null;\n\t\t\t\t\t\tdraft.model = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\tif (state.model || state.customModel) {\n\t\t\t\t\tremoveCustomModel(state.model || state.customModel).then((e) => {\n\t\t\t\t\t\tclearView(null);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (state.modelType === MODEL_TYPE.ENTITY) {\n\t\t\t\tif (state.entityModel && state.entityModel.id) {\n\t\t\t\t\tremoveEntityModel(state.entityModel).then((e) => {\n\t\t\t\t\t\tclearView(null);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet record;\n\t\t\t\tif (state.extensionView) {\n\t\t\t\t\trecord = {\n\t\t\t\t\t\tid: state.extensionView.id,\n\t\t\t\t\t\tversion: state.extensionView.version,\n\t\t\t\t\t};\n\t\t\t\t} else if (\n\t\t\t\t\tstate.selectedView &&\n\t\t\t\t\tstate.selectedView.xmlId &&\n\t\t\t\t\tstate.selectedView.xmlId.indexOf(\"studio-\") === 0\n\t\t\t\t) {\n\t\t\t\t\trecord = {\n\t\t\t\t\t\tid: state.selectedView.id,\n\t\t\t\t\t\tversion: state.selectedView.version,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (record) {\n\t\t\t\t\tmetaViewService.removeAll([record]).then((e) => {\n\t\t\t\t\t\tclearView(null);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[update, state, startLoader, clearHistory]\n\t);\n\tconst saveView = React.useCallback(async () => {\n\t\tif (!state.widgets) {\n\t\t\treturn;\n\t\t}\n\t\tstartLoader();\n\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\tconst { fields } = Utils.getCustomModelFields(\n\t\t\t\tstate.items,\n\t\t\t\tstate.widgets,\n\t\t\t\tnull,\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tconst propertyValues = Object.values(state.widgets || {}) || [];\n\t\t\tconst uniqueValues = new Set(propertyValues.map((v) => v.name)) || [];\n\t\t\tif (uniqueValues.size < propertyValues.length) {\n\t\t\t\tconst dialog = {\n\t\t\t\t\tmessage: translate(\"Field name should be unique\"),\n\t\t\t\t\ttype: \"alert\",\n\t\t\t\t};\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst formProperties = state.widgets[-1];\n\t\t\tif (!formProperties.name || !formProperties.title) {\n\t\t\t\tconst dialog = {\n\t\t\t\t\tmessage: \"Please enter form name and title\",\n\t\t\t\t\ttype: \"alert\",\n\t\t\t\t};\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet customModel = {\n\t\t\t\t...state.customModel,\n\t\t\t\t...Utils.getFormProperties(formProperties),\n\t\t\t\tfields,\n\t\t\t\t...(state.customModel && { version: state.customModel.version }),\n\t\t\t};\n\t\t\tif (formProperties.isGenerateMenu === true) {\n\t\t\t\tcustomModel[\"menuBuilder\"] = {\n\t\t\t\t\t...(state.customModel || {}).menuBuilder,\n\t\t\t\t\ttitle: formProperties.menuBuilderTitle,\n\t\t\t\t\tparentMenu: formProperties.menuBuilderParent,\n\t\t\t\t\tversion: ((state.customModel || {}).menuBuilder || {}).$version,\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { isGenerateMenu } = state.customModel || {};\n\t\t\tif (formProperties.isGenerateMenu !== isGenerateMenu) {\n\t\t\t\tconst res = await generateMenuChange(customModel);\n\t\t\t\tconst { data = [] } = res;\n\t\t\t\tif (data[0] && data[0].reload) {\n\t\t\t\t\tconst modelResult = await fetchCustomModel(customModel.id);\n\t\t\t\t\tcustomModel = {\n\t\t\t\t\t\t...customModel,\n\t\t\t\t\t\tmenuBuilder: null,\n\t\t\t\t\t\tversion: modelResult.version,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (state.removedCustomFields.length) {\n\t\t\t\tawait customFieldService.removeAll(state.removedCustomFields);\n\t\t\t}\n\t\t\tsaveCustomModel(customModel).then((res) => {\n\t\t\t\tconst { data, status } = res || {};\n\t\t\t\tif (status === -1) {\n\t\t\t\t\tconst { message = \"\", title } = data || {};\n\t\t\t\t\tlet errorMessage = message;\n\t\t\t\t\tif (\n\t\t\t\t\t\ttitle &&\n\t\t\t\t\t\ttitle.includes(translate(\"Unique constraint violation\"))\n\t\t\t\t\t) {\n\t\t\t\t\t\terrorMessage = translate(\"Model name should be unique\");\n\t\t\t\t\t\tif (message.includes(\"com.axelor.meta.db.MetaJsonRecord\")) {\n\t\t\t\t\t\t\terrorMessage = translate(\"Field name should be unique\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t};\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst record = data && data[0];\n\t\t\t\tconst { fields = [], ...rest } = record;\n\t\t\t\tif (rest.menuBuilder) {\n\t\t\t\t\trest.menuBuilder = {\n\t\t\t\t\t\t...customModel.menuBuilder,\n\t\t\t\t\t\t...rest.menuBuilder,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tfetchJSONFields(\n\t\t\t\t\tfields.map((f) => f.id),\n\t\t\t\t\tupdate,\n\t\t\t\t\trest\n\t\t\t\t);\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.customModel = record;\n\t\t\t\t\tdraft.model = record;\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.removedCustomFields = [];\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (state.modelType === MODEL_TYPE.ENTITY) {\n\t\t\tconst formProperties = state.widgets[-1];\n\t\t\tif (!formProperties.name) {\n\t\t\t\tconst dialog = {\n\t\t\t\t\tmessage: \"Please enter entity name\",\n\t\t\t\t\ttype: \"alert\",\n\t\t\t\t};\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst patch = generateView(state.widgets, state.items, state.modelType);\n\t\t\tconst properties = {\n\t\t\t\t...formProperties,\n\t\t\t\tmodel: `${formProperties.packageName}.${formProperties.name}`,\n\t\t\t};\n\t\t\tconst form = {\n\t\t\t\telements: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"entity\",\n\t\t\t\t\t\ttype: \"element\",\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...Utils.getFormProperties(properties, [\n\t\t\t\t\t\t\t\t\"extension\",\n\t\t\t\t\t\t\t\t\"metaFields\",\n\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\"$attachments\",\n\t\t\t\t\t\t\t\t\"packageName\",\n\t\t\t\t\t\t\t\t\"model\",\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t},\n\t\t\t\t\t\telements: [...patch],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t};\n\t\t\tconst xml = Utils.processXML(\n\t\t\t\tconvert.json2xml(form, {\n\t\t\t\t\tcompact: false,\n\t\t\t\t\tfullTagEmptyElement: false,\n\t\t\t\t})\n\t\t\t);\n\t\t\tconst data = {\n\t\t\t\t...(state.entityModel ? state.entityModel : {}),\n\t\t\t\tentityXml: xml,\n\t\t\t\tname: formProperties.name,\n\t\t\t\tpackageName: formProperties.packageName,\n\t\t\t};\n\t\t\tentityModelService.save(data).then((res) => {\n\t\t\t\tconst record = res.data[0];\n\t\t\t\tif (res.status === -1) {\n\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\tmessage: res.data.string,\n\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t};\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t});\n\t\t\t\t} else if (record) {\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.entityModel = record;\n\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (state.widgets) {\n\t\t\t\tconst exemptAttributes = [\n\t\t\t\t\t\"viewId\",\n\t\t\t\t\t\"modelId\",\n\t\t\t\t\t\"version\",\n\t\t\t\t\t\"helpOverride\",\n\t\t\t\t\t\"menubar\",\n\t\t\t\t\t\"xml\",\n\t\t\t\t\t\"computed\",\n\t\t\t\t\t\"xmlId\",\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"cols\",\n\t\t\t\t\t\"colSpan\",\n\t\t\t\t\t\"serverType\",\n\t\t\t\t];\n\t\t\t\tif (!state.exView || Utils.isCreatedFromStudio(state.exView)) {\n\t\t\t\t\tconst formProperties = state.widgets[-1];\n\t\t\t\t\tif (!formProperties.name || !formProperties.title) {\n\t\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\t\tmessage: \"Please enter form name and title\",\n\t\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t\t};\n\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst viewSearch = await metaViewService.search({\n\t\t\t\t\t\tdata: { _domain: `self.name = '${formProperties.name}'` },\n\t\t\t\t\t});\n\t\t\t\t\tif (\n\t\t\t\t\t\tviewSearch &&\n\t\t\t\t\t\tviewSearch.total &&\n\t\t\t\t\t\tviewSearch.total > 0 &&\n\t\t\t\t\t\t!state.exView?.id\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\t\tmessage: \"View name already exists\",\n\t\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t\t};\n\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst patch = generateView(\n\t\t\t\t\t\tstate.widgets,\n\t\t\t\t\t\tstate.items,\n\t\t\t\t\t\tstate.modelType\n\t\t\t\t\t);\n\t\t\t\t\tconst model =\n\t\t\t\t\t\tstate.entityType === ENTITY_TYPE.ENTITY\n\t\t\t\t\t\t\t? Utils.getEntityModel(state.entityModel)\n\t\t\t\t\t\t\t: state.model.fullName;\n\t\t\t\t\tconst form = {\n\t\t\t\t\t\telements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"form\",\n\t\t\t\t\t\t\t\ttype: \"element\",\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\tmodel,\n\t\t\t\t\t\t\t\t\t...Utils.getFormProperties(formProperties, [\n\t\t\t\t\t\t\t\t\t\t...exemptAttributes,\n\t\t\t\t\t\t\t\t\t\t\"extension\",\n\t\t\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\tid:\n\t\t\t\t\t\t\t\t\t\tstate.exView && state.exView.xmlId\n\t\t\t\t\t\t\t\t\t\t\t? state.exView.xmlId\n\t\t\t\t\t\t\t\t\t\t\t: `studio-${formProperties.name}`,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telements: [...patch],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t};\n\t\t\t\t\tconst xml = Utils.processXML(\n\t\t\t\t\t\tconvert.json2xml(form, {\n\t\t\t\t\t\t\tcompact: false,\n\t\t\t\t\t\t\tfullTagEmptyElement: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\txml,\n\t\t\t\t\t\textension: formProperties.extension,\n\t\t\t\t\t\ttype: \"form\",\n\t\t\t\t\t\tname: formProperties.name,\n\t\t\t\t\t\ttitle: formProperties.title,\n\t\t\t\t\t\tmodel,\n\t\t\t\t\t\txmlId: `studio-${formProperties.name}`,\n\t\t\t\t\t};\n\t\t\t\t\tif (state.exView && state.exView.id) {\n\t\t\t\t\t\tdata[\"id\"] = state.exView.id;\n\t\t\t\t\t\tdata[\"version\"] = state.exView.version;\n\t\t\t\t\t\tdata[\"xmlId\"] = state.exView.xmlId || data.xmlId;\n\t\t\t\t\t}\n\t\t\t\t\tmetaViewService.save(data).then(async (res) => {\n\t\t\t\t\t\tif (res.status === -1) {\n\t\t\t\t\t\t\tconst error = res.data;\n\t\t\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\t\t\ttitle: error.title,\n\t\t\t\t\t\t\t\tmessage: error.string || error.message,\n\t\t\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (res.data && res.data[0]) {\n\t\t\t\t\t\t\tconst fetchResult = await metaViewService.fetch(res.data[0].id);\n\t\t\t\t\t\t\tif (fetchResult.data && fetchResult.data[0]) {\n\t\t\t\t\t\t\t\tconst record = fetchResult.data[0];\n\t\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\t\tconst schema = Utils.generateXMLToViewSchema({\n\t\t\t\t\t\t\t\t\t\tview: record,\n\t\t\t\t\t\t\t\t\t\tfields: draft.metaFieldStore,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\t\t\t\t\tdraft.initialWidgets = schema.widgets;\n\t\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\t\tdraft.initialItems = schema.items;\n\t\t\t\t\t\t\t\t\tdraft.metaView = record;\n\t\t\t\t\t\t\t\t\tdraft.exView = record;\n\t\t\t\t\t\t\t\t\tdraft.selectedView = { ...record };\n\t\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst { view } = state.view;\n\t\t\t\t\tconst model =\n\t\t\t\t\t\tstate.entityType === ENTITY_TYPE.ENTITY\n\t\t\t\t\t\t\t? Utils.getEntityModel(state.entityModel)\n\t\t\t\t\t\t\t: state.model.fullName;\n\t\t\t\t\tconst originalSchema = Utils.generateViewFromJson({\n\t\t\t\t\t\tview: state.originalXML,\n\t\t\t\t\t\tfields: state.metaFieldStore,\n\t\t\t\t\t});\n\t\t\t\t\tconst widgets = getWidgets(originalSchema);\n\t\t\t\t\tconst moves = optimizeExtension(state, widgets);\n\t\t\t\t\tconst { changedAttrsList, removedAttrsList } = getUpdatedAttrsList(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\twidgets\n\t\t\t\t\t);\n\t\t\t\t\tconst extension = getXML(moves, state);\n\t\t\t\t\tlet isAttrsChanged = false;\n\t\t\t\t\tlet attrsList = [];\n\t\t\t\t\tif (changedAttrsList.length) {\n\t\t\t\t\t\tisAttrsChanged = true;\n\t\t\t\t\t\tconst conditionalValues = Object.values(conditionProperties);\n\t\t\t\t\t\tconst list = changedAttrsList.map((attr) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t[...conditionalValues, ...otherNoQuoteProps].includes(attr.name)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn attr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn { ...attr, value: `\"${attr.value}\"` };\n\t\t\t\t\t\t});\n\t\t\t\t\t\tawait saveAttrsList(list);\n\t\t\t\t\t}\n\t\t\t\t\tif (removedAttrsList.length) {\n\t\t\t\t\t\tisAttrsChanged = true;\n\t\t\t\t\t\tawait deleteAttrsList(removedAttrsList);\n\t\t\t\t\t}\n\t\t\t\t\tif (isAttrsChanged) {\n\t\t\t\t\t\tattrsList = await fetchAttrsList({\n\t\t\t\t\t\t\tmodel: state.model.fullName,\n\t\t\t\t\t\t\tview: state.selectedView.name,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tconst { changedTranslationList, deletedTranslationList } =\n\t\t\t\t\t\tgetChangedTranslationList(\n\t\t\t\t\t\t\tstate.translationList,\n\t\t\t\t\t\t\tstate.initialTranslationList,\n\t\t\t\t\t\t\tstate.removedTranslationList\n\t\t\t\t\t\t);\n\t\t\t\t\tlet translationList = [];\n\t\t\t\t\tlet isTranslationChanged = false;\n\t\t\t\t\tif (changedTranslationList.length) {\n\t\t\t\t\t\tisTranslationChanged = true;\n\t\t\t\t\t\tawait saveTranslationList(changedTranslationList);\n\t\t\t\t\t}\n\t\t\t\t\tif (deletedTranslationList.length) {\n\t\t\t\t\t\tisTranslationChanged = true;\n\t\t\t\t\t\tawait deleteTranslationList(deletedTranslationList);\n\t\t\t\t\t}\n\t\t\t\t\tif (isTranslationChanged) {\n\t\t\t\t\t\tconst translationNames = Object.values(state.widgets)\n\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t(widget) => widget.title && widget.title.startsWith(\"studio:\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map((widget) => widget.title);\n\t\t\t\t\t\ttranslationList = await getTranslationList(translationNames);\n\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\tdraft.translationList = translationList;\n\t\t\t\t\t\t\tdraft.initialTranslationList = translationList;\n\t\t\t\t\t\t\tdraft.removedTranslationList = [];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (!extension.length && !state.extensionXML) {\n\t\t\t\t\t\tif (state.extensionView) {\n\t\t\t\t\t\t\tremoveView(\"Removed extension view due to no changes available\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tconst views = draft.view;\n\t\t\t\t\t\t\t\tif (isAttrsChanged) {\n\t\t\t\t\t\t\t\t\tconst schema = Utils.generateXMLToViewSchema({\n\t\t\t\t\t\t\t\t\t\tview: views.view,\n\t\t\t\t\t\t\t\t\t\tfields: draft.metaFieldStore,\n\t\t\t\t\t\t\t\t\t\textensionXML: views.extensionXML,\n\t\t\t\t\t\t\t\t\t\tattrsList,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\t\t\t\t\tdraft.initialWidgets = schema.widgets;\n\t\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\t\tdraft.initialItems = schema.items;\n\t\t\t\t\t\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\t\t\t\t\t\tdraft.attrsList = attrsList;\n\t\t\t\t\t\t\t\t\tgenerateXpath(draft);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst getExistingExtension = (json) => {\n\t\t\t\t\t\tif (!json) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst { elements } = json;\n\t\t\t\t\t\tif (elements[0] && elements[0].elements) {\n\t\t\t\t\t\t\treturn elements[0].elements;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst form = {\n\t\t\t\t\t\telements: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"element\",\n\t\t\t\t\t\t\t\tname: state.widgets[-1].type,\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\tmodel,\n\t\t\t\t\t\t\t\t\tid: `studio-${view.name}`,\n\t\t\t\t\t\t\t\t\ttitle: state.widgets[-1].title,\n\t\t\t\t\t\t\t\t\tname: view.name,\n\t\t\t\t\t\t\t\t\textension: \"true\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telements: [\n\t\t\t\t\t\t\t\t\t...getExistingExtension(state.extensionXML),\n\t\t\t\t\t\t\t\t\t...extension,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t};\n\t\t\t\t\tconst xml = Utils.processXML(\n\t\t\t\t\t\tconvert.json2xml(form, {\n\t\t\t\t\t\t\tcompact: false,\n\t\t\t\t\t\t\tfullTagEmptyElement: false,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\txml,\n\t\t\t\t\t\textension: true,\n\t\t\t\t\t\ttype: state.widgets[-1].type,\n\t\t\t\t\t};\n\t\t\t\t\tif (state.extensionView) {\n\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\tid: state.extensionView.id,\n\t\t\t\t\t\t\tversion: state.extensionView.version,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata = {\n\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\tmodel,\n\t\t\t\t\t\t\tname: view.name,\n\t\t\t\t\t\t\ttitle: view.title,\n\t\t\t\t\t\t\txmlId: `studio-${view.name}`,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tif (state.extensionView) {\n\t\t\t\t\t\tif (state.extensionView.xml === data.xml) {\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tif (isAttrsChanged) {\n\t\t\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\t\t\tconst views = draft.view;\n\t\t\t\t\t\t\t\t\t\tconst schema = Utils.generateXMLToViewSchema({\n\t\t\t\t\t\t\t\t\t\t\tview: views.view,\n\t\t\t\t\t\t\t\t\t\t\tfields: draft.metaFieldStore,\n\t\t\t\t\t\t\t\t\t\t\textensionXML: views.extensionXML,\n\t\t\t\t\t\t\t\t\t\t\tattrsList,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\t\t\t\t\t\tdraft.initialWidgets = schema.widgets;\n\t\t\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\t\t\tdraft.initialItems = schema.items;\n\t\t\t\t\t\t\t\t\t\tif (isAttrsChanged) {\n\t\t\t\t\t\t\t\t\t\t\tdraft.attrsList = attrsList;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tgenerateXpath(draft);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmetaViewService.save(data).then(async (res) => {\n\t\t\t\t\t\tif (res.status === -1) {\n\t\t\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\t\t\tmessage: res.data.string,\n\t\t\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (res.data && res.data[0]) {\n\t\t\t\t\t\t\tconst record = res.data[0];\n\t\t\t\t\t\t\tconst { view } = state.view;\n\t\t\t\t\t\t\tconst views = await fetchViews(view);\n\t\t\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\t\t\tif (draft.entityType === ENTITY_TYPE.ENTITY) {\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst schema = Utils.generateXMLToViewSchema({\n\t\t\t\t\t\t\t\t\tview: views.view,\n\t\t\t\t\t\t\t\t\tfields: draft.metaFieldStore,\n\t\t\t\t\t\t\t\t\textensionXML: views.extensionXML,\n\t\t\t\t\t\t\t\t\tattrsList,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdraft.widgets = schema.widgets;\n\t\t\t\t\t\t\t\tdraft.initialWidgets = schema.widgets;\n\t\t\t\t\t\t\t\tdraft.items = schema.items;\n\t\t\t\t\t\t\t\tdraft.initialItems = schema.items;\n\t\t\t\t\t\t\t\tdraft.exView = res.data[0];\n\t\t\t\t\t\t\t\tdraft.extensionMoves = [];\n\t\t\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\t\t\tif (isAttrsChanged) {\n\t\t\t\t\t\t\t\t\tdraft.attrsList = attrsList;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdraft.extensionView = {\n\t\t\t\t\t\t\t\t\t...draft.extensionView,\n\t\t\t\t\t\t\t\t\t...record,\n\t\t\t\t\t\t\t\t\tversion:\n\t\t\t\t\t\t\t\t\t\tviews.extensionXML.id === record.id\n\t\t\t\t\t\t\t\t\t\t\t? views.extensionXML.version\n\t\t\t\t\t\t\t\t\t\t\t: record.version,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tgenerateXpath(draft);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [state, update, startLoader, removeView]);\n\n\tconst handleClose = React.useCallback(() => {\n\t\tupdate((draft) => {\n\t\t\tdraft.dialog = null;\n\t\t});\n\t}, [update]);\n\n\tconst handleNew = React.useCallback(() => {\n\t\tstartLoader();\n\t\tupdate((draft) => {\n\t\t\tclearHistory(draft);\n\t\t\tdraft.items = [];\n\t\t\tdraft.errorList = [];\n\t\t\tdraft.customModel = null;\n\t\t\tdraft.exView = null;\n\t\t\tdraft.view = null;\n\t\t\tdraft.extensionXML = null;\n\t\t\tdraft.extensionView = null;\n\t\t\tdraft.loader = false;\n\t\t\tdraft.metaFields = draft.metaFieldStore;\n\t\t\tdraft.selectedView = null;\n\t\t\tdraft.translationList = [];\n\t\t\tdraft.initialTranslationList = [];\n\t\t\tdraft.attrsList = [];\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tdraft.modelType === MODEL_TYPE.BASE &&\n\t\t\t\t\tdraft.entityType === ENTITY_TYPE.ENTITY\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tdraft.entityModel = null;\n\t\t\t}\n\t\t\tif (draft.modelType === MODEL_TYPE.ENTITY) {\n\t\t\t\tdraft.entityType = ENTITY_TYPE.ENTITY;\n\t\t\t\tdraft.actualType = null;\n\t\t\t\tdraft.model = null;\n\t\t\t\tdraft.metaFields = [];\n\t\t\t\tdraft.metaFieldStore = [];\n\t\t\t}\n\t\t\tif (draft.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\tdraft.model = null;\n\t\t\t}\n\t\t\tdraft.widgets = {\n\t\t\t\t\"-1\": {\n\t\t\t\t\ttype: \"form\",\n\t\t\t\t\tcols: 12,\n\t\t\t\t\textension: false,\n\t\t\t\t\t...Utils.getDefaultProperties(\n\t\t\t\t\t\tstate.modelType,\n\t\t\t\t\t\tstate.entityType,\n\t\t\t\t\t\tstate.entityModel\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t0: { type: \"dump_field\", name: \"\" },\n\t\t\t};\n\t\t\tdraft.editWidget = -1;\n\t\t\tdraft.editWidgetType = null;\n\t\t\tdraft.tabIndex = 0;\n\t\t});\n\t}, [\n\t\tupdate,\n\t\tstate.modelType,\n\t\tstartLoader,\n\t\tstate.entityType,\n\t\tstate.entityModel,\n\t\tclearHistory,\n\t]);\n\n\tconst saveCustomFieldView = React.useCallback(async () => {\n\t\tif (\n\t\t\t(state.customFieldItems || state.removedCustomFields.length) &&\n\t\t\tstate.modelField?.name\n\t\t) {\n\t\t\tconst propertyValues =\n\t\t\t\tObject.values(state.customFieldWidgets || {}) || [];\n\t\t\tconst uniqueValues = new Set(propertyValues.map((v) => v.name)) || [];\n\t\t\tif (\n\t\t\t\tuniqueValues.size <\n\t\t\t\t(\n\t\t\t\t\t(propertyValues &&\n\t\t\t\t\t\tpropertyValues.filter((f) => f.type !== \"customForm\")) ||\n\t\t\t\t\t[]\n\t\t\t\t).length\n\t\t\t) {\n\t\t\t\tconst dialog = {\n\t\t\t\t\tmessage: translate(\"Field name should be unique\"),\n\t\t\t\t\ttype: \"alert\",\n\t\t\t\t};\n\t\t\t\tupdate((draft) => {\n\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstartLoader();\n\t\t\tconst extraProps = {\n\t\t\t\tmodelField: state.modelField.name,\n\t\t\t\tmodel: state.model.fullName,\n\t\t\t};\n\t\t\tconst { fields } = Utils.getCustomModelFields(\n\t\t\t\tstate.customFieldItems,\n\t\t\t\tstate.customFieldWidgets,\n\t\t\t\textraProps,\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tif (fields.length || state.removedCustomFields.length) {\n\t\t\t\tconst all = fields.map((field) => customFieldService.save(field));\n\t\t\t\tconst res = await Promise.all(all);\n\t\t\t\tconst failedRes = res && res.find((r) => r.status === -1);\n\t\t\t\tif (failedRes && failedRes.data) {\n\t\t\t\t\tconst { title, message } = failedRes.data || {};\n\t\t\t\t\tlet errorMessage = message;\n\t\t\t\t\tif (\n\t\t\t\t\t\ttitle &&\n\t\t\t\t\t\ttitle.includes(translate(\"Unique constraint violation\"))\n\t\t\t\t\t) {\n\t\t\t\t\t\terrorMessage = translate(\"Field name should be unique\");\n\t\t\t\t\t}\n\t\t\t\t\tconst dialog = {\n\t\t\t\t\t\tmessage: errorMessage,\n\t\t\t\t\t\ttype: \"alert\",\n\t\t\t\t\t};\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\tdraft.dialog = dialog;\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (state.removedCustomFields.length) {\n\t\t\t\t\tawait customFieldService.removeAll(state.removedCustomFields);\n\t\t\t\t}\n\t\t\t\tfetchCustomFields(state.modelField, state.model).then((res) => {\n\t\t\t\t\tconst { data = [] } = res;\n\t\t\t\t\tconst schema = generateCustomModelSchema(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"customForm\"\n\t\t\t\t\t);\n\t\t\t\t\tupdate((draft) => {\n\t\t\t\t\t\tdraft.customFieldWidgets = schema.widgets;\n\t\t\t\t\t\tdraft.customFieldItems = schema.items;\n\t\t\t\t\t\tdraft.customFields = data;\n\t\t\t\t\t\tdraft.loader = false;\n\t\t\t\t\t\tdraft.removedCustomFields = [];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcloseLoader();\n\t\t\t}\n\t\t}\n\t}, [update, closeLoader, state, startLoader]);\n\n\tconst handleConfirmationClose = React.useCallback(() => {\n\t\tsetDeleteConfirmationDialog(false);\n\t}, []);\n\n\tconst deleteView = React.useCallback(() => {\n\t\tsetDeleteConfirmationDialog(true);\n\t}, []);\n\n\tconst handleRemoveConfirmation = React.useCallback(() => {\n\t\thandleConfirmationClose();\n\t\tremoveView();\n\t}, [removeView, handleConfirmationClose]);\n\n\tconst handleSidePanelToggle = React.useCallback(() => {\n\t\tupdate((draft) => {\n\t\t\tdraft.sidePanel = !draft.sidePanel;\n\t\t});\n\t}, [update]);\n\n\tfunction renderDialog() {\n\t\tconst { dialog } = state;\n\t\treturn (\n\t\t\tdialog && (\n\t\t\t\t<Dialog open={Boolean(translate(dialog.message))}>\n\t\t\t\t\t<DialogTitle>{translate(dialog.title || \"Alert\")}</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: translate(dialog.message) }}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} color=\"primary\" autoFocus>\n\t\t\t\t\t\t\tOK\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t)\n\t\t);\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{renderDialog()}\n\t\t\t<Toolbar\n\t\t\t\tupdate={update}\n\t\t\t\tsaveView={saveView}\n\t\t\t\tsaveCustomFieldView={saveCustomFieldView}\n\t\t\t\tremoveView={deleteView}\n\t\t\t\tmodel={state.model}\n\t\t\t\textensionView={state.extensionView}\n\t\t\t\tmodelType={state.modelType}\n\t\t\t\tonNew={handleNew}\n\t\t\t\tmodelField={state.modelField}\n\t\t\t\tcustomModel={state.customModel}\n\t\t\t\tselectedView={state.selectedView}\n\t\t\t\tstartLoader={startLoader}\n\t\t\t\tentityModel={state.entityModel}\n\t\t\t\terrorList={state.errorList}\n\t\t\t\tentityType={state.entityType}\n\t\t\t\tmetaFieldStore={state.metaFieldStore}\n\t\t\t\tundo={undo}\n\t\t\t\tredo={redo}\n\t\t\t\tpastLength={state.past.length}\n\t\t\t\tfutureLength={state.future.length}\n\t\t\t\tclearHistory={clearHistory}\n\t\t\t\tonSidePanelToggle={handleSidePanelToggle}\n\t\t\t/>\n\t\t\t<DeleteConfirmation\n\t\t\t\topen={deleteConfirmationDialog}\n\t\t\t\tonClose={handleConfirmationClose}\n\t\t\t\tonOk={handleRemoveConfirmation}\n\t\t\t\tmessage=\"Are you sure? Do you want to delete it?\"\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default React.memo(ToolbarContainer);\n","import React from \"react\";\nimport { Grid, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport {\n\tmakeStyles,\n\tcreateTheme,\n\tThemeProvider,\n} from \"@material-ui/core/styles\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\n\nimport SidePanel from \"./Panels/SidePanel\";\nimport MainPanel from \"./Panels/MainPanel\";\nimport Toolbar from \"./Toolbar/ToolbarContainer\";\nimport StudioProvider, { useStore } from \"./store/context\";\nimport {\n\tfetchLanguages,\n\tfetchUserPreferences,\n\tgetEnableAppBuilder,\n} from \"./Toolbar/api\";\n\nconst useStyles = makeStyles({\n\tcontainer: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\tflexWrap: \"nowrap\",\n\t},\n\ttoolbarWrapper: {\n\t\tflex: 0,\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tpanelContainer: {\n\t\tdisplay: \"flex\",\n\t\tflex: 1,\n\t\toverflow: \"hidden\",\n\t},\n\tsidePanel: {\n\t\theight: \"100%\",\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#202124\",\n\t\t},\n\t},\n\tmainPanel: {\n\t\theight: \"100%\",\n\t\toverflow: \"auto\",\n\t\t\".modern-dark &\": {\n\t\t\tbackgroundColor: \"#202124\",\n\t\t},\n\t},\n});\n\nconst theme = createTheme({\n\ttypography: {\n\t\tfontFamily: '\"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif',\n\t},\n});\n\nfunction AppContent() {\n\tconst classes = useStyles();\n\tconst theme = useTheme();\n\tconst { state, update } = useStore();\n\tconst { sidePanel = true } = state;\n\tconst isResponsive = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n\tReact.useEffect(() => {\n\t\tfetchLanguages().then((result) => {\n\t\t\tupdate((draft) => {\n\t\t\t\tdraft.languageList = [...result];\n\t\t\t});\n\t\t});\n\t\tfetchUserPreferences().then((result) => {\n\t\t\tif (result && result.theme) {\n\t\t\t\tdocument.body.className = result.theme;\n\t\t\t}\n\t\t});\n\n\t\tgetEnableAppBuilder().then((res) => {\n\t\t\tupdate((draft) => {\n\t\t\t\tdraft.enableAppBuilder = res;\n\t\t\t});\n\t\t});\n\t}, [update]);\n\n\tReact.useEffect(() => {\n\t\tupdate((draft) => {\n\t\t\tdraft.sidePanel = !isResponsive;\n\t\t});\n\t}, [isResponsive, update]);\n\n\treturn (\n\t\t<Grid container className={classes.container}>\n\t\t\t<Grid item xs={12} className={classes.toolbarWrapper}>\n\t\t\t\t<Toolbar />\n\t\t\t</Grid>\n\t\t\t<Grid container className={classes.panelContainer}>\n\t\t\t\t{sidePanel && (\n\t\t\t\t\t<Grid item xs={isResponsive ? 4 : 3} className={classes.sidePanel}>\n\t\t\t\t\t\t<SidePanel />\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid\n\t\t\t\t\titem\n\t\t\t\t\txs={sidePanel ? (isResponsive ? 8 : 9) : 12}\n\t\t\t\t\tclassName={classes.mainPanel}\n\t\t\t\t>\n\t\t\t\t\t<MainPanel />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default function App() {\n\treturn (\n\t\t<StudioProvider>\n\t\t\t<DndProvider backend={Backend}>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<AppContent />\n\t\t\t\t</ThemeProvider>\n\t\t\t</DndProvider>\n\t\t</StudioProvider>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./theme.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import axios from \"axios\";\n\nconst headers = {\n\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\"Content-Type\": \"application/json\",\n\tAccept: \"application/json\",\n};\nlet lastCookieString;\nlet lastCookies = {};\n\nfunction readCookie(name) {\n\tlet cookieString = document.cookie || \"\";\n\tif (cookieString !== lastCookieString) {\n\t\tlastCookieString = cookieString;\n\t\tlastCookies = cookieString.split(\"; \").reduce((obj, value) => {\n\t\t\tlet parts = value.split(\"=\");\n\t\t\tobj[parts[0]] = parts[1];\n\t\t\treturn obj;\n\t\t}, {});\n\t}\n\treturn lastCookies[name];\n}\n\nclass service {\n\tconstructor(props) {\n\t\tthis.baseURL =\n\t\t\tprocess.env.NODE_ENV === \"production\" ? \"../../\" : \"/axelor-erp/\";\n\t}\n\n\trequest(url, method, data) {\n\t\tlet options = {};\n\t\tif (method !== \"get\") {\n\t\t\toptions[\"data\"] = data;\n\t\t}\n\t\treturn axios({\n\t\t\tmethod: method,\n\t\t\tbaseURL: this.baseURL,\n\t\t\theaders: {\n\t\t\t\t...headers,\n\t\t\t\t\"X-CSRF-Token\": readCookie(\"CSRF-TOKEN\"),\n\t\t\t},\n\t\t\turl,\n\t\t\t...options,\n\t\t});\n\t}\n\n\tinterceptor(url, method, data) {\n\t\treturn this.request(url, method, data)\n\t\t\t.then((result) => {\n\t\t\t\tif (result.status === 200) {\n\t\t\t\t\treturn result.data || { status: result.status };\n\t\t\t\t} else if (result.status === 401) {\n\t\t\t\t\tconst credential = localStorage.getItem(\"credential\");\n\t\t\t\t\tif (credential) {\n\t\t\t\t\t\tconst { username, password } = JSON.parse(credential);\n\t\t\t\t\t\treturn this.login(username, password).then((res) => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\treturn this.interceptor(url, method, data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Promise.resolve(\"Error\");\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tif (e.response && e.response.status === 401) {\n\t\t\t\t\treturn this.relogin(url, method, data);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trelogin(url, method, data) {\n\t\tconst credential = localStorage.getItem(\"credential\");\n\t\tif (credential) {\n\t\t\tconst { username, password } = JSON.parse(credential);\n\t\t\treturn this.login(username, password).then((res) => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\treturn this.interceptor(url, method, data);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tget(url) {\n\t\treturn this.interceptor(url, \"get\");\n\t}\n\n\tpost(url, data = {}) {\n\t\treturn this.interceptor(url, \"post\", data);\n\t}\n\n\tdelete(url, data) {\n\t\treturn this.interceptor(url, \"delete\", data);\n\t}\n\n\tlogin(username, password) {\n\t\tconst data = { username, password };\n\t\treturn this.interceptor(\"login.jsp\", \"post\", data).then((res) => {\n\t\t\tif (res.status === 200) {\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\"credential\",\n\t\t\t\t\tJSON.stringify({ username, password })\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn { status: res.status };\n\t\t});\n\t}\n\n\tlogout() {\n\t\treturn this.interceptor(\"logout\").then(() => {\n\t\t\tlocalStorage.removeItem(\"credential\");\n\t\t});\n\t}\n}\n\nexport default service;\n","import httpService from \"./http\";\n\nconst joinURL = (model, subURL) => {\n\treturn `ws/rest/${model}/${subURL}`;\n};\n\nconst services = new httpService();\n\nclass AxelorService {\n\tconstructor(props) {\n\t\tthis.model = props.model;\n\t}\n\n\tsearch({ fields, sortBy, data, limit, offset }) {\n\t\tconst _subURL = `search`;\n\t\tconst url = joinURL(this.model, _subURL);\n\t\treturn services.post(url, { fields, sortBy, data, limit, offset });\n\t}\n\n\tfetch(id, data) {\n\t\tconst _subURL = `${id}/fetch`;\n\t\tconst url = joinURL(this.model, _subURL);\n\t\treturn services.post(url, data);\n\t}\n\n\tview(data) {\n\t\tconst url = \"/ws/meta/view\";\n\t\treturn services.post(url, data);\n\t}\n\n\tsave(data) {\n\t\tconst url = joinURL(this.model, \"\");\n\t\treturn services.post(url, { data });\n\t}\n\n\tsaveAll(data) {\n\t\tconst url = joinURL(this.model, \"\");\n\t\treturn services.post(url, { records: data });\n\t}\n\n\tremoveAll(records) {\n\t\tconst url = joinURL(this.model, \"removeAll\");\n\t\treturn services.post(url, { records });\n\t}\n\n\tlogin(username, password) {\n\t\treturn services.login(username, password);\n\t}\n\n\tlogout() {\n\t\treturn services.logout();\n\t}\n\n\taction(data) {\n\t\tconst url = \"ws/action\";\n\t\treturn services.post(url, data);\n\t}\n\n\tinfo() {\n\t\tconst url = \"ws/app/info\";\n\t\treturn services.get(url);\n\t}\n}\n\nexport default AxelorService;\n","import React from \"react\";\nimport produce from \"immer\";\nimport { TYPE, IDS, PANEL_TYPE, MODEL_TYPE, ENTITY_TYPE } from \"../constants\";\nimport {\n\treorderGrid,\n\tcheckExclusive,\n\tarrangeGrid,\n\tcheckGridEmptyCells,\n\tsetErrorList,\n\tcaseConverter,\n} from \"../utils\";\nimport { original } from \"immer\";\nimport { generateExtension } from \"./computeXML\";\nimport { generateXpath } from \"./xpathGenerator\";\nimport { validateParentPanelItems, validateOnRemove } from \"./validation\";\nimport Utils, { isExtensionView, translate } from \"./../utils\";\n\nconst StoreContext = React.createContext();\n\nfunction useMutableState(defaultValue) {\n\tconst [state, setState] = React.useState(defaultValue);\n\treturn [\n\t\tstate,\n\t\tReact.useCallback((updater) => setState(produce(updater)), [setState]),\n\t];\n}\n\nfunction StoreProvider({ children }) {\n\tconst [state, setState] = useMutableState({\n\t\tfuture: [],\n\t\tpast: [],\n\t\ttitle: \"\",\n\t\titems: [],\n\t\twidgets: null,\n\t\tdragWidget: null,\n\t\teditWidget: null,\n\t\thoverWidget: null,\n\t\tinitialWidgets: null,\n\t\tinitialItems: null,\n\t\ttabIndex: 0,\n\t\tmodelType: \"BASE\",\n\t\tcustomFields: [],\n\t\tcustomFieldItems: [],\n\t\tcustomFieldWidgets: null,\n\t\tmodelField: null,\n\t\tentityModel: null,\n\t\thoverAttr: {},\n\t\tloader: false,\n\t\tremovedCustomFields: [],\n\t\terrorList: {},\n\t\tentityType: ENTITY_TYPE.META,\n\t\tentityFields: [],\n\t\tactualType: null,\n\t\textensionMoves: [],\n\t\tsidePanel: true,\n\t\tattrsList: [],\n\t\tremovedTranslationList: [],\n\t});\n\tconst { widgets } = state;\n\n\tfunction getAllChildrenIds(id, widgetType) {\n\t\tconst widgets =\n\t\t\twidgetType === \"customField\" ? state.customFieldWidgets : state.widgets;\n\t\tconst collectIds = (parent) => {\n\t\t\tconst { items = [] } = widgets[parent];\n\t\t\treturn items.reduce(\n\t\t\t\t(all, item) => all.concat(collectIds(item)),\n\t\t\t\t[parent]\n\t\t\t);\n\t\t};\n\t\treturn collectIds(id);\n\t}\n\n\tfunction onExtension(moveIds, state, oldWidgets, oldItems) {\n\t\tif (state.exView && !Utils.isCreatedFromStudio(state.exView)) {\n\t\t\tgenerateExtension(moveIds, state);\n\t\t}\n\t}\n\n\t// update widget properties\n\tfunction onWidgetChange(id, props, reset = false) {\n\t\tsetState((draft) => {\n\t\t\tgenerateHistory(draft);\n\t\t\tconst isCustomField = draft.editWidgetType === \"customField\";\n\t\t\tconst extendList = [];\n\t\t\tsetErrorList(props, draft, id, isCustomField);\n\t\t\tconst widgets =\n\t\t\t\tdraft.editWidgetType === \"customField\"\n\t\t\t\t\t? draft.customFieldWidgets\n\t\t\t\t\t: draft.widgets;\n\t\t\tif (reset) {\n\t\t\t\twidgets[id] = {};\n\t\t\t}\n\t\t\tconst widget =\n\t\t\t\tdraft.editWidgetType === \"customField\" && draft.customFieldWidgets\n\t\t\t\t\t? draft.customFieldWidgets[id]\n\t\t\t\t\t: draft.widgets[id];\n\t\t\tif (widget) {\n\t\t\t\tObject.keys(props).forEach((key) => {\n\t\t\t\t\tlet value = props[key];\n\t\t\t\t\tif (/^[a-z]/i.test(widget[\"name\"])) {\n\t\t\t\t\t\twidget[\"name\"] = caseConverter(\n\t\t\t\t\t\t\twidget[\"name\"],\n\t\t\t\t\t\t\t!(props[\"type\"] === TYPE.form)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tlet doChange = true;\n\t\t\t\t\t// add change in move\n\t\t\t\t\tconst _value = widget[key] === undefined ? \"\" : widget[key];\n\t\t\t\t\tif (_value !== value) {\n\t\t\t\t\t\tconst xPath = id === -1 ? \"/\" : widgets[id].xPath;\n\t\t\t\t\t\tlet _value = [undefined, null].includes(value) ? \"\" : value;\n\n\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\textendList.push({\n\t\t\t\t\t\t\t\tname: \"attribute\",\n\t\t\t\t\t\t\t\ttarget: xPath,\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\tname: Utils.keyReplacer(key, MODEL_TYPE.BASE),\n\t\t\t\t\t\t\t\t\tvalue: Utils.valueConverter(_value, key),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (key === \"colSpan\") {\n\t\t\t\t\t\tconst parentId = Object.keys(widgets).find(\n\t\t\t\t\t\t\t(x) => (widgets[x].items || []).indexOf(id) > -1\n\t\t\t\t\t\t);\n\t\t\t\t\t\tvalue = Math.min(\n\t\t\t\t\t\t\tNumber((widgets[parentId] && widgets[parentId].cols) || value),\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (widgets && parentId && widgets[parentId].type === TYPE.panel) {\n\t\t\t\t\t\t\tconst { itemSpan } = JSON.parse(\n\t\t\t\t\t\t\t\t(widgets[parentId] || {}).widgetAttrs || \"{}\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tvalue = itemSpan || value;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (key === \"cols\" && value) {\n\t\t\t\t\t\tvalue = Math.min(12, Number(value));\n\t\t\t\t\t} else if (key === \"widgetAttrs\") {\n\t\t\t\t\t\tconst newValue = JSON.parse(value || \"{}\");\n\t\t\t\t\t\tconst items = widgets[id].items;\n\t\t\t\t\t\titems &&\n\t\t\t\t\t\t\titems.forEach((item) => {\n\t\t\t\t\t\t\t\tconst child = widgets[item];\n\t\t\t\t\t\t\t\tlet widgetAtts = JSON.parse(child.widgetAttrs || \"{}\");\n\t\t\t\t\t\t\t\tif (!widgetAtts[\"colSpan\"]) {\n\t\t\t\t\t\t\t\t\tchild.colSpan = newValue.itemSpan;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (doChange) {\n\t\t\t\t\t\twidget[key] = value;\n\t\t\t\t\t\tkey === \"layout\" &&\n\t\t\t\t\t\t\tvalue === PANEL_TYPE.stack &&\n\t\t\t\t\t\t\t(widget.cols = 12);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdraft.editWidgetType !== \"customField\" &&\n\t\t\t\tdraft.modelType === MODEL_TYPE.BASE\n\t\t\t) {\n\t\t\t\tonExtension(extendList, draft, draft.widgets, draft.items);\n\t\t\t\tgenerateXpath(draft);\n\t\t\t}\n\t\t});\n\t}\n\n\t// remove widget\n\tfunction onRemove(panelId, index, id, widgetType) {\n\t\tconst extendList = [];\n\t\tconst isCustomField = widgetType === \"customField\";\n\t\tlet result = window.confirm(translate(\"Sure want to delete?\"));\n\t\tif (!result) return;\n\t\tsetState((draft) => {\n\t\t\tgenerateHistory(draft);\n\t\t\tconst widgets =\n\t\t\t\twidgetType === \"customField\" ? draft.customFieldWidgets : draft.widgets;\n\t\t\tconst widgetItems =\n\t\t\t\twidgetType === \"customField\" ? \"customFieldItems\" : \"items\";\n\t\t\tlet oldItems = [...draft.items];\n\t\t\tlet oldWidgets = original(draft.widgets);\n\t\t\tconst widget = widgets[id];\n\n\t\t\tif (!isCustomField && draft.modelType === MODEL_TYPE.BASE) {\n\t\t\t\tconst index = draft.metaFieldStore.findIndex(\n\t\t\t\t\t(f) =>\n\t\t\t\t\t\t(f.typeName === widget.typeName || widget.type === \"field\") &&\n\t\t\t\t\t\tf.name === widget.name\n\t\t\t\t);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tdraft.metaFields.unshift(draft.metaFieldStore[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst isPanel = panelId && IDS.form !== panelId;\n\t\t\tindex = (isPanel ? widgets[panelId].items : draft[widgetItems]).findIndex(\n\t\t\t\t(x) => `${x}` === `${id}`\n\t\t\t);\n\t\t\tif (index > -1 && widgets[id]) {\n\t\t\t\tlet ids = getAllChildrenIds(id, widgetType);\n\t\t\t\tids.forEach((id) => {\n\t\t\t\t\tif (isCustomField || state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\t\tconst widget = widgets[id];\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\twidget.id &&\n\t\t\t\t\t\t\t(state.modelType === MODEL_TYPE.CUSTOM ? widget.version : true)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdraft.removedCustomFields.push({\n\t\t\t\t\t\t\t\tid: widget.id,\n\t\t\t\t\t\t\t\tversion: widget.version,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconst childrenIds = [...ids];\n\t\t\t\tif (isPanel) {\n\t\t\t\t\tif (\n\t\t\t\t\t\twidgets[panelId].layout === PANEL_TYPE.grid &&\n\t\t\t\t\t\t![TYPE.menubar, TYPE.toolbar].includes(widgets[panelId].type)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst arrangeItems = arrangeGrid(\n\t\t\t\t\t\t\tdraft,\n\t\t\t\t\t\t\t{ panelId, index, id },\n\t\t\t\t\t\t\twidgetType\n\t\t\t\t\t\t);\n\t\t\t\t\t\tids = ids.concat(arrangeItems.ids);\n\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\textendList.push(...arrangeItems.extendList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidgets[panelId].items.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t\t// draft.widgets[panelId].items.splice(index, 1);\n\t\t\t\t} else {\n\t\t\t\t\tdraft[widgetItems].splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (widgets[id]) {\n\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\textendList.push({ name: \"replace\", target: widgets[id].xPath });\n\t\t\t\t}\n\t\t\t\tids.forEach((id) => {\n\t\t\t\t\tif (widgets[id]) {\n\t\t\t\t\t\tif (!childrenIds.includes(id)) {\n\t\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\t\textendList.push({ name: \"replace\", target: widgets[id].xPath });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete widgets[id];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (ids.indexOf(draft.editWidget) > -1) {\n\t\t\t\t\tdraft.editWidget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalidateOnRemove(draft, id);\n\t\t\tif (!isCustomField && draft.modelType === MODEL_TYPE.BASE) {\n\t\t\t\tvalidateParentPanelItems(draft, panelId);\n\t\t\t\tonExtension(extendList, draft, oldWidgets, oldItems);\n\t\t\t\tgenerateXpath(draft);\n\t\t\t}\n\t\t});\n\t}\n\n\t// select widget, to open properties editor\n\tfunction onSelect(id = null, type = null) {\n\t\tsetState((draft) => {\n\t\t\tdraft.editWidget = id;\n\t\t\tdraft.tabIndex = 0;\n\t\t\tdraft.editWidgetType = type;\n\t\t});\n\t}\n\n\t// set current dragging widget\n\tfunction onDrag(id = null, { props, isDrop } = {}) {\n\t\tsetState((draft) => {\n\t\t\tconst _extendList = [];\n\t\t\tconst { attrs = {} } = props;\n\t\t\tconst _attrs = {\n\t\t\t\ttype: attrs.type,\n\t\t\t\ttitle: attrs.label,\n\t\t\t\tname: attrs.name,\n\t\t\t\trelationship: attrs.relationship,\n\t\t\t\tmappedBy: attrs.mappedBy,\n\t\t\t\t...attrs,\n\t\t\t};\n\t\t\tif (attrs && attrs.name === \"string\") {\n\t\t\t\t_attrs[\"visibleInGrid\"] = true;\n\t\t\t}\n\t\t\tif (attrs && attrs.name === \"selection\") {\n\t\t\t\t_attrs[\"updateSelection\"] = true;\n\t\t\t}\n\t\t\tconst { dragWidget, hoverWidget, editWidget, dragWidgetProps } = draft;\n\t\t\tdraft.dragWidget = null;\n\t\t\tdraft.hoverWidget = null;\n\t\t\tconst extraAttr = { ...draft.hoverAttr };\n\t\t\tif (_attrs.widgetAttrs && extraAttr.widgetAttrs) {\n\t\t\t\tconst _eWidgetAttr = JSON.parse(extraAttr.widgetAttrs || \"{}\");\n\t\t\t\tconst _attrsWidgetAttr = JSON.parse(_attrs.widgetAttrs || \"{}\");\n\t\t\t\textraAttr.widgetAttrs = JSON.stringify({\n\t\t\t\t\t..._attrsWidgetAttr,\n\t\t\t\t\t..._eWidgetAttr,\n\t\t\t\t});\n\t\t\t}\n\t\t\tdraft.dragWidgetProps = Object.assign({}, props, {\n\t\t\t\tattrs: { ..._attrs, ...extraAttr },\n\t\t\t});\n\n\t\t\tif (editWidget && editWidget === dragWidget) {\n\t\t\t\tdraft.editWidget = null;\n\t\t\t}\n\t\t\tif (isDrop) {\n\t\t\t\tif (!hoverWidget || !dragWidgetProps) return;\n\t\t\t\tgenerateHistory(draft);\n\t\t\t\tconst index = draft.metaFields.findIndex(\n\t\t\t\t\t(f) =>\n\t\t\t\t\t\tf.typeName === dragWidgetProps.attrs.typeName &&\n\t\t\t\t\t\tf.name === dragWidgetProps.attrs.name\n\t\t\t\t);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tdraft.metaFields.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tdragWidgetProps.attrs = {\n\t\t\t\t\t...dragWidgetProps.attrs,\n\t\t\t\t\t...draft.hoverAttr,\n\t\t\t\t};\n\t\t\t\tlet oldItems = [...draft.items];\n\t\t\t\tlet oldWidgets =\n\t\t\t\t\thoverWidget._type === \"customField\"\n\t\t\t\t\t\t? { ...draft.customFieldWidgets }\n\t\t\t\t\t\t: original(draft.widgets);\n\n\t\t\t\tconst { extendList } = reorderGrid({ hoverWidget, dragWidgetProps })(\n\t\t\t\t\tdraft\n\t\t\t\t);\n\t\t\t\t_extendList.push(...extendList);\n\t\t\t\tlet hoverPanel;\n\t\t\t\tif (hoverWidget._type !== \"customField\") {\n\t\t\t\t\thoverPanel = draft.widgets[hoverWidget.panelId];\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\thoverWidget.panelId &&\n\t\t\t\t\t![TYPE.menubar, TYPE.toolbar].includes(hoverPanel?.type)\n\t\t\t\t) {\n\t\t\t\t\tconst { extendList = [] } = checkGridEmptyCells(\n\t\t\t\t\t\tdraft,\n\t\t\t\t\t\thoverWidget.panelId,\n\t\t\t\t\t\thoverWidget._type\n\t\t\t\t\t);\n\t\t\t\t\t_extendList.push(...extendList);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tdragWidgetProps.panelId &&\n\t\t\t\t\thoverWidget.panelId !== dragWidgetProps.panelId &&\n\t\t\t\t\t![TYPE.menubar, TYPE.toolbar].includes(hoverPanel?.type)\n\t\t\t\t) {\n\t\t\t\t\tconst { extendList = [] } = checkGridEmptyCells(\n\t\t\t\t\t\tdraft,\n\t\t\t\t\t\tdragWidgetProps.panelId,\n\t\t\t\t\t\thoverWidget._type\n\t\t\t\t\t);\n\t\t\t\t\t_extendList.push(...extendList);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\thoverWidget._type !== \"customField\" &&\n\t\t\t\t\tdraft.modelType === MODEL_TYPE.BASE\n\t\t\t\t) {\n\t\t\t\t\tvalidateParentPanelItems(draft, dragWidgetProps.panelId);\n\t\t\t\t\tvalidateParentPanelItems(draft, hoverWidget.panelId);\n\t\t\t\t\tonExtension(_extendList, draft, oldWidgets, oldItems);\n\t\t\t\t\tgenerateXpath(draft);\n\t\t\t\t}\n\t\t\t\tdraft.hoverAttr = {};\n\t\t\t} else {\n\t\t\t\tdraft.dragWidget = id;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction onTranslationRemove(key) {\n\t\tsetState((draft) => {\n\t\t\tdraft.removedTranslationList.push(key);\n\t\t});\n\t}\n\n\tfunction onHover(hoverWidget) {\n\t\tsetState((draft) => {\n\t\t\tdraft.hoverWidget = hoverWidget;\n\t\t});\n\t}\n\n\t// move widget in form\n\tfunction onMove({ source, destination }, flag, _type) {\n\t\tconst resolver = (isMoved) => ({ isMoved });\n\n\t\tif (\n\t\t\t// avoid drop target of form itself\n\t\t\t!source ||\n\t\t\t!destination ||\n\t\t\t(destination.id === IDS.form && state.items.length > 1)\n\t\t) {\n\t\t\treturn resolver(false);\n\t\t}\n\n\t\t// on create widget case\n\t\tif (Object.values(IDS.createWidgets).indexOf(source.id) > -1) {\n\t\t\treturn resolver(true);\n\t\t}\n\n\t\tconst _widgets =\n\t\t\t_type === \"customField\" ? state.customFieldWidgets : widgets;\n\t\tif (\n\t\t\t// case for create new widget\n\t\t\t// special case for exclusive\n\t\t\t(!source.attrs.isNew && checkExclusive(_widgets, source, destination)) ||\n\t\t\t// avoid to drag panel on its one of children element\n\t\t\t([TYPE.panel, TYPE.tabs].includes(source.attrs.type) &&\n\t\t\t\tgetAllChildrenIds(source.id, _type).indexOf(\n\t\t\t\t\tdestination.id === IDS.dumpField\n\t\t\t\t\t\t? destination.panelId\n\t\t\t\t\t\t: destination.id\n\t\t\t\t) > -1)\n\t\t) {\n\t\t\treturn resolver(false);\n\t\t}\n\n\t\treturn resolver(true);\n\t}\n\n\tfunction setHoverAttr(attr) {\n\t\tsetState((draft) => {\n\t\t\tdraft.hoverAttr = attr;\n\t\t});\n\t}\n\n\tfunction startLoader() {\n\t\tsetState((draft) => {\n\t\t\tdraft.loader = true;\n\t\t});\n\t}\n\n\tfunction undo() {\n\t\tsetState((draft) => {\n\t\t\tif (draft.past.length) {\n\t\t\t\tdraft.future.unshift({\n\t\t\t\t\twidgets: original(draft.widgets),\n\t\t\t\t\titems: original(draft.items),\n\t\t\t\t\textensionMoves: original(draft.extensionMoves),\n\t\t\t\t\tcustomFieldWidgets: original(draft.customFieldWidgets),\n\t\t\t\t\tcustomFields: original(draft.customFields),\n\t\t\t\t\tcustomFieldItems: original(draft.customFieldItems),\n\t\t\t\t\tmetaFields: original(draft.metaFields),\n\t\t\t\t\tremovedCustomFields: original(draft.removedCustomFields),\n\t\t\t\t\terrorList: original(draft.errorList),\n\t\t\t\t});\n\t\t\t\tsetPresent(draft.past[draft.past.length - 1], draft);\n\t\t\t\tdraft.past.splice(draft.past.length - 1, 1);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction redo() {\n\t\tsetState((draft) => {\n\t\t\tif (draft.future.length) {\n\t\t\t\tdraft.past.push({\n\t\t\t\t\twidgets: original(draft.widgets),\n\t\t\t\t\titems: original(draft.items),\n\t\t\t\t\textensionMoves: original(draft.extensionMoves),\n\t\t\t\t\tcustomFieldWidgets: original(draft.customFieldWidgets),\n\t\t\t\t\tcustomFieldItems: original(draft.customFieldItems),\n\t\t\t\t\tmetaFields: original(draft.metaFields),\n\t\t\t\t\tcustomFields: original(draft.customFields),\n\t\t\t\t\tremovedCustomFields: original(draft.removedCustomFields),\n\t\t\t\t\terrorList: original(draft.errorList),\n\t\t\t\t});\n\t\t\t\tsetPresent(draft.future[0], draft);\n\t\t\t\tdraft.future.splice(0, 1);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction setPresent(object, draft) {\n\t\tObject.keys(object).forEach((key) => {\n\t\t\tdraft[key] = original(object[key]);\n\t\t});\n\t}\n\n\tfunction generateHistory(draft) {\n\t\tdraft.past.push({\n\t\t\twidgets: original(draft.widgets),\n\t\t\titems: original(draft.items),\n\t\t\textensionMoves: original(draft.extensionMoves),\n\t\t\tcustomFieldWidgets: original(draft.customFieldWidgets),\n\t\t\tcustomFields: original(draft.customFields),\n\t\t\tcustomFieldItems: original(draft.customFieldItems),\n\t\t\tmetaFields: original(draft.metaFields),\n\t\t\tremovedCustomFields: original(draft.removedCustomFields),\n\t\t\terrorList: original(draft.errorList),\n\t\t});\n\t\tif (draft.future.length) {\n\t\t\tdraft.future = [];\n\t\t}\n\t}\n\n\tfunction clearHistory(draft) {\n\t\tdraft.future = [];\n\t\tdraft.past = [];\n\t}\n\n\tconst value = {\n\t\tonWidgetChange,\n\t\tonMove,\n\t\tonDrag,\n\t\tonRemove,\n\t\tonHover,\n\t\tonSelect,\n\t\tstate,\n\t\tupdate: setState,\n\t\tsetHoverAttr,\n\t\tstartLoader,\n\t\tundo,\n\t\tredo,\n\t\tclearHistory,\n\t\tonTranslationRemove,\n\t};\n\treturn (\n\t\t<StoreContext.Provider value={value}>{children}</StoreContext.Provider>\n\t);\n}\n\nexport function useStore() {\n\treturn React.useContext(StoreContext);\n}\n\nexport function useStoreState() {\n\tconst { state } = React.useContext(StoreContext);\n\treturn state;\n}\n\nexport function useWidget(id) {\n\tconst { widgets } = useStore();\n\treturn widgets[id];\n}\n\nexport default StoreProvider;\n","import Utils from \"./../utils\";\nimport { TYPE } from \"./../constants\";\n\nconst getItemType = (type) => {\n\tconst types = [\"viewer\", \"editor\", \"hilite\"];\n\treturn types.includes(type) ? \"field\" : type;\n};\n\nexport function eGeneratePath(widgets, items = [], itemId, path = \"\") {\n\tif (itemId === -1) {\n\t\treturn \"\";\n\t}\n\tconst isFirstLevel = path === \"\";\n\tconst hasSameNameInParentItems = (items, itemId) => {\n\t\tconst widget = widgets[itemId];\n\t\tconst sameWidgets = items.filter(\n\t\t\t(item) =>\n\t\t\t\titem !== itemId &&\n\t\t\t\twidgets[item] &&\n\t\t\t\t[widgets[item].name, widgets[item].originalName].includes(widget.name)\n\t\t);\n\t\treturn sameWidgets.length > 0;\n\t};\n\n\tconst getSameItemIndex = (items, itemId) => {\n\t\tconst widget = widgets[itemId];\n\t\tconst sameWidgets = items.filter(\n\t\t\t(item) =>\n\t\t\t\twidgets[item] &&\n\t\t\t\t[widgets[item].name, widgets[item].originalName].includes(widget.name)\n\t\t);\n\t\treturn sameWidgets.indexOf(itemId) + 1;\n\t};\n\n\tconst getTypeWiseItemIndex = (items, type, itemId) => {\n\t\tconst sameWidgets = items.filter(\n\t\t\t(item) =>\n\t\t\t\twidgets[item] &&\n\t\t\t\tgetItemType(Utils.getWidgetType(widgets[item], \"field\")) === type\n\t\t);\n\t\treturn sameWidgets.indexOf(itemId) + 1;\n\t};\n\n\tconst isUniquePanel = () => {\n\t\tconst widget = widgets[itemId];\n\t\tif (!widget.name) {\n\t\t\treturn false;\n\t\t}\n\t\tconst widgetList = Object.values(widgets);\n\t\tconst sameWidgets = widgetList.filter((w) => w.name === widget.name);\n\t\treturn sameWidgets.length === 1;\n\t};\n\n\tconst canStopParentLink = () => {\n\t\tif (isFirstLevel) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!isUniquePanel()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tlet findRoot = true;\n\tconst widgetList = Object.values(widgets);\n\tconst widgetIds = Object.keys(widgets);\n\twidgetList.forEach((widget, i) => {\n\t\tif (widget.items) {\n\t\t\tconst index = widget.items.findIndex((e) => e === itemId);\n\t\t\tif (index !== -1) {\n\t\t\t\tfindRoot = false;\n\t\t\t\tconst _widget = widgets[itemId];\n\t\t\t\tconst widgetType = getItemType(Utils.getWidgetType(_widget, \"field\"));\n\t\t\t\tif (_widget.name) {\n\t\t\t\t\tlet itemPath = `/${widgetType}[@name='${_widget.name}']`;\n\t\t\t\t\tif (hasSameNameInParentItems(widget.items, itemId)) {\n\t\t\t\t\t\tconst itemIndex = getSameItemIndex(widget.items, itemId);\n\t\t\t\t\t\tif (itemIndex > 0) {\n\t\t\t\t\t\t\titemPath = `${itemPath}[${itemIndex}]`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpath = `${itemPath}${path}`;\n\t\t\t\t} else {\n\t\t\t\t\tconst itemIndex = getTypeWiseItemIndex(\n\t\t\t\t\t\twidget.items,\n\t\t\t\t\t\twidgetType,\n\t\t\t\t\t\titemId\n\t\t\t\t\t);\n\t\t\t\t\tpath = `/${widgetType}[${itemIndex}]${path}`;\n\t\t\t\t}\n\t\t\t\tif (!canStopParentLink()) {\n\t\t\t\t\tpath = eGeneratePath(widgets, items, widgetIds[i], path);\n\t\t\t\t} else {\n\t\t\t\t\tpath = `/${path}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tif (findRoot) {\n\t\tconst index = items.findIndex((e) => e === itemId);\n\t\tif (index !== -1) {\n\t\t\tconst _widget = widgets[itemId];\n\t\t\tif (_widget.name) {\n\t\t\t\tlet itemPath = `//${_widget.type}[@name='${_widget.name}']`;\n\t\t\t\tif ([TYPE.menubar, TYPE.toolbar, TYPE.divider].includes(_widget.type)) {\n\t\t\t\t\titemPath = `//${_widget.type}`;\n\t\t\t\t}\n\t\t\t\tif (hasSameNameInParentItems(items, itemId)) {\n\t\t\t\t\tconst itemIndex = getSameItemIndex(items, itemId);\n\t\t\t\t\tif (itemIndex > 0) {\n\t\t\t\t\t\titemPath = `${itemPath}[${itemIndex}]`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpath = `${itemPath}${path}`;\n\t\t\t} else {\n\t\t\t\tconst itemIndex = getTypeWiseItemIndex(items, _widget.type, itemId);\n\t\t\t\tpath = `//${_widget.type}[${itemIndex}]${path}`;\n\n\t\t\t\t// path = `/*[${index + 1}]${path}`;\n\t\t\t}\n\t\t}\n\t}\n\treturn path;\n}\n\n// generate xpath for all widgets\nexport function generateXpath(draft) {\n\tObject.keys(draft.widgets).forEach((widgetId) => {\n\t\tconst path = eGeneratePath(draft.widgets, draft.items, widgetId);\n\t\tdraft.widgets[widgetId].xPath = path;\n\t});\n}\n","import _, { camelCase } from \"lodash\";\nimport {\n\tTYPE,\n\tFIELD_TYPE,\n\tPANEL_TYPE,\n\tIDS,\n\tMODEL_TYPE,\n\tDEFAULT_VALUE,\n\tENTITY_TYPE,\n\ttypeReplacer as TYPE_REPLACER,\n} from \"./constants\";\nimport { modelFields } from \"./fields\";\nimport convert from \"xml-js\";\nimport { validate } from \"./store/validation\";\nimport format from \"xml-beautifier\";\nimport { eGeneratePath } from \"./store/xpathGenerator\";\nimport { processMoves } from \"./store/computeXML\";\nimport dasherize from \"dasherize\";\n\nexport function camleCaseString(word) {\n\tlet string =\n\t\tword &&\n\t\tword.replace(/([A-Z])/g, \" $1\").replace(/^./, function (str) {\n\t\t\treturn str.toUpperCase();\n\t\t});\n\treturn string;\n}\n\nexport const caseConverter = (value, isCamelCase = true) => {\n\tif (!value) return;\n\tvalue = value.trim();\n\tlet convertedText;\n\tif (isCamelCase) {\n\t\tconvertedText = camelCase(value);\n\t} else {\n\t\tlet textToConvert = camelCase(value);\n\t\tconvertedText = textToConvert[0].toUpperCase() + textToConvert.slice(1);\n\t}\n\treturn convertedText;\n};\n\nexport const capitalizeFirst = (value) => {\n\tlet result = value.replace(/([A-Z])/g, \" $1\");\n\tlet finalResult =\n\t\tresult && result.charAt(0).toUpperCase() + result.slice(1).toLowerCase();\n\treturn finalResult;\n};\n\nexport function translate(str) {\n\tif (window && window.top && window.top._t && typeof str === \"string\") {\n\t\treturn window.top._t(str);\n\t}\n\treturn str;\n}\n\nconst getSpacer = ({ widget, id, ...other }) => ({\n\tcolSpan: widget.colSpan || 1,\n\tserverType: FIELD_TYPE.spacer,\n\ttype: TYPE.field,\n\tisDummy: true,\n\tname: `spacer${id}`,\n\ttitle: \"Spacer\",\n\t...other,\n});\n\nconst isDummyWidget = (state, id, isCustomField = false) => {\n\tconst widgets = isCustomField ? state.customFieldWidgets : state.widgets;\n\treturn id === true || (widgets[id] && widgets[id].isDummy);\n};\n\nexport const getGrid = (\n\tstate,\n\t{ cols = 12, items },\n\ttrackElement,\n\tisCustomField = false\n) => {\n\tconst widgets = isCustomField ? state.customFieldWidgets : state.widgets;\n\tconst grid = [];\n\tlet ind = 0;\n\tlet span = 0;\n\tlet row = [];\n\n\tlet fillRow = (start) => {\n\t\tfor (let i = start; i < cols; i++) {\n\t\t\trow.push({ index: i, item: true, colSpan: 1, indices: [i] });\n\t\t}\n\t};\n\n\titems.forEach((item) => {\n\t\tlet colSpan = Number(widgets[item].colSpan || 1);\n\t\tspan += colSpan;\n\t\t//next row\n\t\tif (span > cols) {\n\t\t\tfillRow(ind);\n\t\t\tind = 0;\n\t\t\tspan = colSpan;\n\t\t\tgrid.push(row);\n\t\t\trow = [];\n\t\t}\n\t\ttrackElement &&\n\t\t\ttrackElement(item, {\n\t\t\t\tcolumn: ind,\n\t\t\t\trow: grid.length,\n\t\t\t});\n\t\trow.push({\n\t\t\tindex: ind,\n\t\t\titem,\n\t\t\tcolSpan,\n\t\t\tindices: new Array(colSpan).fill(0).map((x, i) => ind + i),\n\t\t});\n\t\tind += colSpan;\n\t});\n\n\tfillRow(ind);\n\tgrid.push(row);\n\treturn grid;\n};\n\nexport const checkGridEmptyCells = (state, panelId, modelFieldType) => {\n\tconst extendList = [];\n\tconst isCustomField = modelFieldType === \"customField\";\n\tconst widgets = isCustomField ? state.customFieldWidgets : state.widgets;\n\n\tconst panel = widgets[panelId];\n\tif (panel.layout !== PANEL_TYPE.grid) return {};\n\tconst { cols = 12, items } = panel;\n\tconst grid = getGrid(\n\t\tstate,\n\t\t{\n\t\t\tcols,\n\t\t\titems,\n\t\t},\n\t\tnull,\n\t\tisCustomField\n\t);\n\tlet removeIds = [];\n\tlet emptyColumns = {};\n\tgrid.forEach((row) => {\n\t\trow.forEach((cell, i) => {\n\t\t\tif (isDummyWidget(state, cell.item, isCustomField)) {\n\t\t\t\tlet target = emptyColumns[cell.index] || [];\n\t\t\t\ttarget.push(cell);\n\t\t\t\temptyColumns[cell.index] = target;\n\t\t\t}\n\t\t});\n\t\tif (row.every((cell) => isDummyWidget(state, cell.item, isCustomField))) {\n\t\t\tremoveIds = removeIds.concat(row.map((x) => x.item));\n\t\t}\n\t});\n\n\t// Object.values(emptyColumns)\n\t// \t.filter((arr) => arr.length === grid.length)\n\t// \t.forEach((row) => {\n\t// \t\tremoveIds = removeIds.concat(row.map((x) => x.item));\n\t// \t\t// panel.cols = Number(panel.cols || 12) - 1;\n\t// \t});\n\n\tif (removeIds.length) {\n\t\tpanel.items = panel.items.filter((x) => removeIds.indexOf(x) === -1);\n\t\tremoveIds.forEach((x) => {\n\t\t\tif (widgets[x]) {\n\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\textendList.push({ name: \"replace\", target: widgets[x].xPath, id: x });\n\t\t\t\twidgets[x] && delete widgets[x];\n\t\t\t}\n\t\t});\n\t}\n\treturn { extendList };\n};\n\nexport const arrangeGrid = (state, { id, index, panelId }, widgetType) => {\n\tconst extendList = [];\n\tconst isCustomField = widgetType === \"customField\";\n\tconst widgets = isCustomField ? state.customFieldWidgets : state.widgets;\n\tconst panel = widgets[panelId];\n\tconst removeWidget = widgets[id] || { colSpan: 1 };\n\tconst { cols = 12, items } = panel;\n\tconst isLastItemRemove = panel.items[panel.items.length - 1] === id;\n\tlet removeItem = { column: null, row: null };\n\tlet ids = [];\n\tlet columnCells = [];\n\tlet rowCells = [];\n\n\tconst grid = getGrid(\n\t\tstate,\n\t\t{ cols, items },\n\t\t(item, meta) => {\n\t\t\tif (item === id) {\n\t\t\t\tremoveItem = meta;\n\t\t\t}\n\t\t},\n\t\tisCustomField\n\t);\n\n\tgrid.forEach((gridRow, i) => {\n\t\tif (removeItem.row === i) {\n\t\t\tcolumnCells = gridRow.map((x) => x.item);\n\t\t}\n\t\tconst findCol = gridRow.find((x) => x.index === removeItem.column);\n\t\tif (findCol) {\n\t\t\trowCells.push(findCol.item);\n\t\t}\n\t});\n\n\tconst deleteItem = panel.items.splice(index, 1);\n\tconst isDummyItem = ($id) =>\n\t\t$id === id || isDummyWidget(state, $id, isCustomField);\n\n\tif (columnCells.every(isDummyItem)) {\n\t\tpanel.items = panel.items.filter((x) => !columnCells.includes(x));\n\t\tids = ids.concat(columnCells);\n\t}\n\n\tif (grid.length - 1 === rowCells.length && rowCells.every(isDummyItem)) {\n\t\tpanel.items = panel.items.filter((x) => !rowCells.includes(x));\n\t\t// panel.cols = Number(panel.cols) - removeWidget.colSpan;\n\n\t\tids = ids.concat(rowCells);\n\t}\n\n\tif (ids.length === 0 && !widgets[deleteItem].isDummy && !isLastItemRemove) {\n\t\tlet newId = _.uniqueId();\n\t\tlet otherProps = {};\n\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\totherProps = {\n\t\t\t\tmodel: removeWidget.model,\n\t\t\t\tmodelField: removeWidget.modelField,\n\t\t\t};\n\t\t}\n\t\twidgets[newId] = getSpacer({\n\t\t\twidget: {},\n\t\t\tid: newId,\n\t\t\tcolSpan: removeWidget.colSpan,\n\t\t\t...otherProps,\n\t\t});\n\t\tconst targetWidget = widgets[panel.items[index]];\n\t\tisExtensionView(state) &&\n\t\t\textendList.push({\n\t\t\t\tname: \"insert\",\n\t\t\t\tposition: \"before\",\n\t\t\t\telements: [widgets[newId]],\n\t\t\t\ttarget: targetWidget.xPath,\n\t\t\t});\n\t\tpanel.items.splice(index, 0, newId);\n\t}\n\treturn { ids: [...ids, id], extendList };\n};\n\nconst collectWidgets = ({ grid, items, widgetIndex, hoverCellRowIndex }) => {\n\tlet beforeWidgets = [];\n\tlet afterWidgets = [];\n\tlet flag = true;\n\tlet itemIndex = 0;\n\tif (grid.length) {\n\t\tgrid.forEach((cell, cellIndex) => {\n\t\t\tcell.colSpan = Number(cell.colSpan || 1);\n\t\t\t// once any valid id cell find, take its index as default value\n\t\t\tif (cell.id && flag && cellIndex < widgetIndex) {\n\t\t\t\titemIndex = items.indexOf(cell.id) + 1;\n\t\t\t}\n\t\t\t// consider hover row cells\n\t\t\tif (!cell.separator && cell.rowIndex <= hoverCellRowIndex) {\n\t\t\t\t// before hover widget\n\t\t\t\tif (cellIndex < widgetIndex) {\n\t\t\t\t\t// reset before row if you find valid cell with id\n\t\t\t\t\tif (cell.id) {\n\t\t\t\t\t\tbeforeWidgets = [];\n\t\t\t\t\t\titemIndex = items.indexOf(cell.id) + 1;\n\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\tbeforeWidgets.push({\n\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\tcolSpan: cell.colSpan || 6,\n\t\t\t\t\t\t\tisSpacer: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t// after hover widget\n\t\t\t\t} else if (flag && cellIndex > widgetIndex) {\n\t\t\t\t\tif (cell.id) {\n\t\t\t\t\t\titemIndex = items.indexOf(cell.id);\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t} else if (items.length) {\n\t\t\t\t\t\tafterWidgets.push({ ...cell, isSpacer: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (items.length) {\n\t\t\t// find last item index\n\t\t\tconst lastItem = items[items.length - 1];\n\t\t\tconst lastItemIndex = grid.findIndex((x) => `${x.id}` === `${lastItem}`);\n\t\t\t// if drop at end of list then fill only one widget so empty after widgets\n\t\t\tif (widgetIndex > lastItemIndex && lastItemIndex !== -1) {\n\t\t\t\tafterWidgets = [];\n\t\t\t\titemIndex = items.length + 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn { afterWidgets, beforeWidgets, itemIndex };\n};\n\nexport const setErrorList = (attrs, state, id, isCustomField) => {\n\tconst errors = validate(attrs, state.modelType, isCustomField);\n\tif (Object.keys(errors).length) {\n\t\tstate.errorList[id] = errors;\n\t} else if (state.errorList[id]) {\n\t\tdelete state.errorList[id];\n\t}\n};\n\nexport function isExtensionView(state) {\n\treturn state.exView && !isCreatedFromStudio(state.exView);\n}\n\n// reorder widgets based on dummy widgets\nexport const reorderGrid =\n\t({ hoverWidget, dragWidgetProps }) =>\n\t(state) => {\n\t\tconst extendList = [];\n\t\tconst isCustomField = hoverWidget._type === \"customField\";\n\t\tconst dragWidgetItems =\n\t\t\thoverWidget._type === \"customField\" && !dragWidgetProps.panelId\n\t\t\t\t? \"customFieldItems\"\n\t\t\t\t: \"items\";\n\t\tconst _items =\n\t\t\thoverWidget._type === \"customField\" && !hoverWidget.panelId\n\t\t\t\t? \"customFieldItems\"\n\t\t\t\t: \"items\";\n\t\tconst _widgets =\n\t\t\thoverWidget._type === \"customField\"\n\t\t\t\t? state.customFieldWidgets\n\t\t\t\t: state.widgets;\n\t\tconst destinationItems = (\n\t\t\t(hoverWidget.panelId ? _widgets[hoverWidget.panelId] : state)[_items] ||\n\t\t\t[]\n\t\t).slice();\n\t\tconst {\n\t\t\tcolSpan,\n\t\t\tgrid = [],\n\t\t\trow: hoverCellRowIndex,\n\t\t\trelatedColSpan,\n\t\t} = hoverWidget.meta;\n\t\t// remove isNew attribute\n\t\tif (dragWidgetProps.attrs && dragWidgetProps.attrs.isNew !== undefined) {\n\t\t\tdelete dragWidgetProps.attrs.isNew;\n\t\t}\n\t\t// clone colSpan of hover widget\n\t\tconst parentPanel = _widgets[hoverWidget.panelId];\n\t\tconst hoverType = parentPanel?.serverType;\n\t\tif (dragWidgetProps.attrs && !dragWidgetProps.attrs.colSpan) {\n\t\t\tif (\n\t\t\t\tcolSpan &&\n\t\t\t\tdragWidgetProps.attrs &&\n\t\t\t\t![TYPE.menu, TYPE.menuItem, TYPE.divider].includes(\n\t\t\t\t\tdragWidgetProps.attrs.type\n\t\t\t\t) &&\n\t\t\t\t![TYPE.toolbar, TYPE.menubar].includes(hoverType)\n\t\t\t) {\n\t\t\t\tconst existingColspan = dragWidgetProps.attrs.colSpan;\n\t\t\t\t// set itemSpan if exists\n\t\t\t\tif (hoverType === TYPE.panel && Number(parentPanel.itemSpan)) {\n\t\t\t\t\tdragWidgetProps.attrs.colSpan = Number(parentPanel.itemSpan);\n\t\t\t\t} else {\n\t\t\t\t\tdragWidgetProps.attrs.colSpan = relatedColSpan || colSpan;\n\t\t\t\t}\n\t\t\t\tif (isCustomField) {\n\t\t\t\t\t// set colSpan in widgetAttrs for custom field\n\t\t\t\t\tconst widgetAttrs = { colSpan: relatedColSpan || colSpan };\n\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs = JSON.stringify(widgetAttrs);\n\t\t\t\t}\n\t\t\t\tif (`${dragWidgetProps.attrs.colSpan}` !== `${existingColspan}`) {\n\t\t\t\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\t\t// change widgetAttrs for colSpan\n\t\t\t\t\t\tconst widgetAttrs = JSON.parse(\n\t\t\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs || \"{}\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\twidgetAttrs.colSpan = relatedColSpan || colSpan;\n\t\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs = JSON.stringify(widgetAttrs);\n\t\t\t\t\t}\n\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\textendList.push({\n\t\t\t\t\t\t\tname: \"attribute\",\n\t\t\t\t\t\t\ttarget: dragWidgetProps.attrs.xPath,\n\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\tname: \"colSpan\",\n\t\t\t\t\t\t\t\tvalue: dragWidgetProps.attrs.colSpan,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\tconst widgetAttrs = JSON.parse(\n\t\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs || \"{}\"\n\t\t\t\t\t);\n\t\t\t\t\twidgetAttrs.colSpan = 6;\n\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs = JSON.stringify(widgetAttrs);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tdragWidgetProps.attrs &&\n\t\t\t\tstate.modelType === MODEL_TYPE.CUSTOM\n\t\t\t) {\n\t\t\t\tconst widgetAttrs = JSON.parse(\n\t\t\t\t\tdragWidgetProps.attrs.widgetAttrs || \"{}\"\n\t\t\t\t);\n\t\t\t\twidgetAttrs.colSpan = relatedColSpan || colSpan;\n\t\t\t\tdragWidgetProps.attrs.colSpan = relatedColSpan || colSpan;\n\t\t\t\tdragWidgetProps.attrs.widgetAttrs = JSON.stringify(widgetAttrs);\n\t\t\t}\n\t\t}\n\t\tconst newIds = [];\n\t\tlet widgetIndex = Number(hoverWidget.index);\n\t\tlet {\n\t\t\tbeforeWidgets,\n\t\t\tafterWidgets,\n\t\t\titemIndex = 0,\n\t\t} = collectWidgets({\n\t\t\tgrid,\n\t\t\titems: destinationItems,\n\t\t\twidgetIndex,\n\t\t\thoverCellRowIndex,\n\t\t});\n\n\t\tlet isRemovedFromSameList = false;\n\t\t// if drag widget is existing one then remove it from its panel\n\t\tif (dragWidgetProps.id && _widgets[dragWidgetProps.id]) {\n\t\t\tconst sourcePanel = dragWidgetProps.panelId\n\t\t\t\t? _widgets[dragWidgetProps.panelId]\n\t\t\t\t: state;\n\t\t\tconst sourceItems = sourcePanel[dragWidgetItems];\n\t\t\tconst sourceItemIndex = sourceItems.indexOf(dragWidgetProps.id);\n\t\t\tif ([PANEL_TYPE.grid].includes(sourcePanel.layout)) {\n\t\t\t\tlet newId = _.uniqueId();\n\t\t\t\tconst isLastItem =\n\t\t\t\t\tsourceItems[sourceItems.length - 1] === dragWidgetProps.id;\n\t\t\t\tlet isLastItemInSamePanel = false;\n\t\t\t\tif (dragWidgetProps.panelId === hoverWidget.panelId) {\n\t\t\t\t\tif (dragWidgetProps.index < hoverWidget.index) {\n\t\t\t\t\t\tisLastItemInSamePanel = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst hoverParent = dragWidgetProps.panelId\n\t\t\t\t\t? _widgets[dragWidgetProps.panelId]\n\t\t\t\t\t: null;\n\t\t\t\tlet isPanelTab = false;\n\t\t\t\tif (\n\t\t\t\t\thoverParent &&\n\t\t\t\t\t[TYPE.tabs, TYPE.panelStack].includes(hoverParent.type)\n\t\t\t\t) {\n\t\t\t\t\tisPanelTab = true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t(isLastItem && !isLastItemInSamePanel) ||\n\t\t\t\t\tisPanelTab ||\n\t\t\t\t\t[TYPE.menubar, TYPE.toolbar].includes(hoverType)\n\t\t\t\t) {\n\t\t\t\t\tsourceItems.splice(sourceItemIndex, 1);\n\t\t\t\t} else {\n\t\t\t\t\tlet attrs = {\n\t\t\t\t\t\tcolSpan: _widgets[dragWidgetProps.id].colSpan || 1,\n\t\t\t\t\t\tserverType: FIELD_TYPE.spacer,\n\t\t\t\t\t\ttype: TYPE.field,\n\t\t\t\t\t\tisDummy: true,\n\t\t\t\t\t\tname: `spacer${newId}`,\n\t\t\t\t\t\ttitle: \"Spacer\",\n\t\t\t\t\t};\n\t\t\t\t\tif (state.modelType === MODEL_TYPE.CUSTOM) {\n\t\t\t\t\t\tattrs[\"model\"] = dragWidgetProps.attrs.model;\n\t\t\t\t\t\tattrs[\"modelField\"] = dragWidgetProps.attrs.modelField;\n\t\t\t\t\t\tattrs[\"widgetAttrs\"] = JSON.stringify({ colSpan: attrs.colSpan });\n\t\t\t\t\t}\n\t\t\t\t\tif (isCustomField) {\n\t\t\t\t\t\tattrs[\"widgetAttrs\"] = JSON.stringify({ colSpan: attrs.colSpan });\n\t\t\t\t\t}\n\t\t\t\t\t_widgets[newId] = Object.assign({}, attrs);\n\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\textendList.push({\n\t\t\t\t\t\t\tname: \"insert\",\n\t\t\t\t\t\t\tposition: \"before\",\n\t\t\t\t\t\t\ttarget: dragWidgetProps.attrs.xPath,\n\t\t\t\t\t\t\telements: [attrs],\n\t\t\t\t\t\t\tid: newId,\n\t\t\t\t\t\t});\n\t\t\t\t\tsourceItems.splice(sourceItemIndex, 1, newId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// if same panel, drag widget is before hover widget\n\t\t\t\tif (dragWidgetProps.panelId === hoverWidget.panelId) {\n\t\t\t\t\tif (dragWidgetProps.index < hoverWidget.index) {\n\t\t\t\t\t\tisRemovedFromSameList = true;\n\t\t\t\t\t\titemIndex--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsourceItems.splice(sourceItemIndex, 1);\n\t\t\t}\n\t\t}\n\n\t\t// remove dummy widget if spacer created automatically\n\t\tif (hoverWidget.attrs.isDummy) {\n\t\t\tlet isNew =\n\t\t\t\t!dragWidgetProps.id ||\n\t\t\t\tObject.values(IDS.createWidgets).indexOf(dragWidgetProps.id) > -1;\n\t\t\tlet newId = isNew ? _.uniqueId() : dragWidgetProps.id;\n\t\t\tlet attrs = Object.assign({}, dragWidgetProps.attrs || {});\n\t\t\tif (isNew && attrs.isCoreField !== false && attrs.name) {\n\t\t\t\tattrs.name = `${attrs.name}${newId}`;\n\t\t\t}\n\t\t\tsetErrorList(attrs, state, newId, isCustomField);\n\t\t\tif (isNew) {\n\t\t\t\t_widgets[newId] = Object.assign({}, attrs);\n\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\textendList.push({\n\t\t\t\t\t\tname: \"insert\",\n\t\t\t\t\t\tposition: \"before\",\n\t\t\t\t\t\ttarget: hoverWidget.attrs.xPath,\n\t\t\t\t\t\telements: [attrs],\n\t\t\t\t\t\tid: newId,\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\textendList.push({\n\t\t\t\t\t\tname: \"move\",\n\t\t\t\t\t\tsource: dragWidgetProps.attrs.xPath,\n\t\t\t\t\t\tposition: \"before\",\n\t\t\t\t\t\ttarget: hoverWidget.attrs.xPath,\n\t\t\t\t\t});\n\t\t\t\t_widgets[dragWidgetProps.id] = Object.assign(\n\t\t\t\t\t{ ..._widgets[dragWidgetProps.id] },\n\t\t\t\t\tattrs\n\t\t\t\t);\n\t\t\t}\n\t\t\t(hoverWidget.panelId ? _widgets[hoverWidget.panelId] : state)[\n\t\t\t\t_items\n\t\t\t].splice(\n\t\t\t\tdestinationItems.indexOf(hoverWidget.id) -\n\t\t\t\t\t(isRemovedFromSameList ? 1 : 0),\n\t\t\t\t1,\n\t\t\t\tnewId\n\t\t\t);\n\t\t\tisExtensionView(state) &&\n\t\t\t\textendList.push({ name: \"replace\", target: hoverWidget.attrs.xPath });\n\t\t\treturn { extendList };\n\t\t}\n\n\t\t// cell placement is horizontal special case for Tabs widget\n\t\tif (hoverWidget.meta && hoverWidget.meta.horizontal) {\n\t\t\tlet index = Number(hoverWidget.index);\n\t\t\tif (\n\t\t\t\tdragWidgetProps.panelId === hoverWidget.panelId &&\n\t\t\t\tdragWidgetProps.index < hoverWidget.index\n\t\t\t) {\n\t\t\t\tindex = index - 2;\n\t\t\t}\n\t\t\t// calculate item position\n\t\t\titemIndex = Math.ceil(Number(index / 2));\n\t\t}\n\n\t\t// remove all dummy cells for flow layout\n\t\tconst destinationPanel = hoverWidget.panelId\n\t\t\t? _widgets[hoverWidget.panelId]\n\t\t\t: state;\n\t\tif ((destinationPanel.layout || PANEL_TYPE.flow) === PANEL_TYPE.flow) {\n\t\t\tbeforeWidgets = [];\n\t\t\tafterWidgets = [];\n\t\t}\n\t\t// fill all widgets in panel\n\t\tconst newWidgetIds = [];\n\t\tconst hoverWidgetParentItems =\n\t\t\t(hoverWidget.panelId ? _widgets[hoverWidget.panelId] : state)[_items] ||\n\t\t\t[];\n\t\tlet hoverWidgetId = hoverWidgetParentItems[itemIndex];\n\t\tlet hoverPath;\n\t\tlet actualHoverWidget = _widgets[hoverWidgetParentItems[itemIndex]];\n\t\tlet position = \"before\";\n\t\tif (!actualHoverWidget && hoverWidgetParentItems.length <= itemIndex) {\n\t\t\thoverWidgetId = hoverWidgetParentItems[hoverWidgetParentItems.length - 1];\n\t\t\tactualHoverWidget =\n\t\t\t\t_widgets[hoverWidgetParentItems[hoverWidgetParentItems.length - 1]];\n\t\t\tposition = \"after\";\n\t\t}\n\t\t// check for sidebar widget\n\t\tif (actualHoverWidget && `${actualHoverWidget.sidebar}` === \"true\") {\n\t\t\tdragWidgetProps.attrs.sidebar = \"true\";\n\t\t\tisExtensionView(state) &&\n\t\t\t\textendList.push({\n\t\t\t\t\tname: \"attribute\",\n\t\t\t\t\ttarget: dragWidgetProps.attrs.xPath,\n\t\t\t\t\tattributes: { name: \"sidebar\", value: \"true\" },\n\t\t\t\t});\n\t\t}\n\t\tif (actualHoverWidget) {\n\t\t\thoverPath =\n\t\t\t\tactualHoverWidget.xPath ||\n\t\t\t\teGeneratePath(_widgets, state[_items], hoverWidgetId);\n\t\t}\n\t\tconst shouldInsertInParent = (dragWidget, hoverWidget) => {\n\t\t\tconst hoverPathInfo = exploreTarget(hoverWidget.xPath);\n\t\t\tconst list = state.extensionMoves.filter((m) => {\n\t\t\t\tif (m.target) {\n\t\t\t\t\tconst targetInfo = exploreTarget(m.target);\n\t\t\t\t\tif (m.name === \"replace\") {\n\t\t\t\t\t\tif (hoverPathInfo.self) {\n\t\t\t\t\t\t\tif (targetInfo.parent.indexOf(hoverPathInfo.self) >= 0) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else if (targetInfo.parent.indexOf(hoverPathInfo.parent) >= 0) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tif (\n\t\t\t\t[TYPE.menu, FIELD_TYPE.button, TYPE.menuItem].includes(\n\t\t\t\t\tdragWidget.attrs.type\n\t\t\t\t) &&\n\t\t\t\t[TYPE.menubar, TYPE.toolbar, TYPE.menu].includes(hoverWidget.type)\n\t\t\t) {\n\t\t\t\t// hoverwidget should not have any child remove\n\t\t\t\tif (hoverWidget.items.length === 0 && !list.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst list = [];\n\t\tbeforeWidgets\n\t\t\t.concat([dragWidgetProps])\n\t\t\t.concat(afterWidgets)\n\t\t\t.forEach((widget) => {\n\t\t\t\tlet attrs = Object.assign({}, widget.attrs || {});\n\t\t\t\tlet newId = widget.id;\n\t\t\t\tconst isCreateWidget = typeof newId === \"symbol\";\n\t\t\t\tconst isNew = !newId || isCreateWidget;\n\t\t\t\tlet shouldAdd = true;\n\t\t\t\t// new drag widgets\n\t\t\t\tif (\n\t\t\t\t\t[TYPE.menubar, TYPE.toolbar].includes(hoverType) &&\n\t\t\t\t\twidget.isSpacer\n\t\t\t\t) {\n\t\t\t\t\tshouldAdd = false;\n\t\t\t\t}\n\t\t\t\tif (shouldAdd) {\n\t\t\t\t\tif (isNew) {\n\t\t\t\t\t\tnewId = _.uniqueId();\n\t\t\t\t\t\tif (attrs.isCoreField !== false) {\n\t\t\t\t\t\t\tif (attrs && Object.keys(attrs).length) {\n\t\t\t\t\t\t\t\tsetErrorList(attrs, state, newId, isCustomField);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (attrs.name) {\n\t\t\t\t\t\t\t\tattrs.name = `${attrs.name}${newId}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// set new drag widget as edit widget\n\t\t\t\t\t\tif (isCreateWidget) {\n\t\t\t\t\t\t\tstate.editWidget = newId;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (widget.isSpacer)\n\t\t\t\t\t\tif (widget.isSpacer) {\n\t\t\t\t\t\t\t// if its spacer widgets\n\t\t\t\t\t\t\tconst _attrs = dragWidgetProps.attrs || {};\n\t\t\t\t\t\t\tattrs = getSpacer({\n\t\t\t\t\t\t\t\twidget,\n\t\t\t\t\t\t\t\tid: newId,\n\t\t\t\t\t\t\t\tmodel: _attrs.model,\n\t\t\t\t\t\t\t\tmodelField: _attrs.modelField,\n\t\t\t\t\t\t\t\twidgetAttrs: JSON.stringify({ colSpan: widget.colSpan || 6 }),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t// add new widget\n\t\t\t\t\tif (isNew) {\n\t\t\t\t\t\tif (isExtensionView(state) && !isCustomField) {\n\t\t\t\t\t\t\tif (actualHoverWidget) {\n\t\t\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\t\t\tlist[position === \"after\" ? \"unshift\" : \"push\"]({\n\t\t\t\t\t\t\t\t\t\tname: \"insert\",\n\t\t\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t\t\t\ttarget: hoverPath,\n\t\t\t\t\t\t\t\t\t\telements: [attrs],\n\t\t\t\t\t\t\t\t\t\tid: newId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst widget = _widgets[hoverWidget.panelId];\n\t\t\t\t\t\t\t\tif (shouldInsertInParent(dragWidgetProps, widget)) {\n\t\t\t\t\t\t\t\t\tprocessMoves(state, attrs, newId, hoverWidget.panelId);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlist[position === \"after\" ? \"unshift\" : \"push\"]({\n\t\t\t\t\t\t\t\t\t\tname: \"insert\",\n\t\t\t\t\t\t\t\t\t\tposition: \"inside\",\n\t\t\t\t\t\t\t\t\t\ttarget: widget.xPath,\n\t\t\t\t\t\t\t\t\t\telements: [attrs],\n\t\t\t\t\t\t\t\t\t\tid: newId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// processMoves(state, attrs, newId, hoverWidget.panelId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewWidgetIds.push(newId);\n\t\t\t\t\t\t_widgets[newId] = Object.assign({}, attrs);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (isExtensionView(state) && !isCustomField) {\n\t\t\t\t\t\t\tif (actualHoverWidget) {\n\t\t\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\t\t\tlist[position === \"after\" ? \"unshift\" : \"push\"]({\n\t\t\t\t\t\t\t\t\t\tname: \"move\",\n\t\t\t\t\t\t\t\t\t\tsource: dragWidgetProps.attrs.xPath,\n\t\t\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t\t\t\ttarget: hoverPath,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst widget = _widgets[hoverWidget.panelId];\n\t\t\t\t\t\t\t\tif (shouldInsertInParent(dragWidgetProps, widget)) {\n\t\t\t\t\t\t\t\t\tprocessMoves(\n\t\t\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t\t\tdragWidgetProps.attrs,\n\t\t\t\t\t\t\t\t\t\tdragWidgetProps.id,\n\t\t\t\t\t\t\t\t\t\thoverWidget.panelId\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tisExtensionView(state) &&\n\t\t\t\t\t\t\t\t\t\tlist[position === \"after\" ? \"unshift\" : \"push\"]({\n\t\t\t\t\t\t\t\t\t\t\tname: \"move\",\n\t\t\t\t\t\t\t\t\t\t\tsource: dragWidgetProps.attrs.xPath,\n\t\t\t\t\t\t\t\t\t\t\tposition: \"inside\",\n\t\t\t\t\t\t\t\t\t\t\ttarget: widget.xPath,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// const tempList = processMoves(state, dragWidgetProps.attrs, dragWidgetProps.id, hoverWidget.panelId);\n\t\t\t\t\t\t\t\t// if(tempList.length) {\n\t\t\t\t\t\t\t\t// \tconst index = extendList.findIndex(l => l.name === 'attribute');\n\t\t\t\t\t\t\t\t// \tif(index !== -1) {\n\t\t\t\t\t\t\t\t// \t\textendList.splice(index, 1);\n\t\t\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t// list.push(...tempList);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_widgets[dragWidgetProps.id] = Object.assign(\n\t\t\t\t\t\t\t{ ..._widgets[dragWidgetProps.id] },\n\t\t\t\t\t\t\tattrs\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tnewIds.push(newId);\n\t\t\t\t}\n\t\t\t});\n\t\textendList.push(...list);\n\t\t// put all new widgets into panel\n\t\t(\n\t\t\t(hoverWidget.panelId ? _widgets[hoverWidget.panelId] : state)[_items] ||\n\t\t\t[]\n\t\t).splice(itemIndex, 0, ...newIds);\n\t\treturn { extendList };\n\t};\n\nconst getWidgetType = (widgetAttrs, defaultType) => {\n\tconst uiFields = [\"spacer\", \"label\", \"button\"];\n\tlet _type =\n\t\twidgetAttrs.isModelField ||\n\t\twidgetAttrs.isCoreField === false ||\n\t\twidgetAttrs.serverType === \"field\"\n\t\t\t? \"field\"\n\t\t\t: widgetAttrs.type\n\t\t\t? widgetAttrs.type.toLowerCase()\n\t\t\t: defaultType;\n\t_type = uiFields.includes(widgetAttrs.serverType)\n\t\t? widgetAttrs.serverType\n\t\t: _type;\n\treturn _type;\n};\n\n// check source or destination panel is exclusive or not\nexport const checkExclusive = (widgets, source, destination) => {\n\t// special case for exclusive\n\tif (widgets[source.id]) {\n\t\tif (widgets[source.panelId]) {\n\t\t\tlet sourcePanelAttrs = widgets[source.panelId];\n\t\t\tif (\n\t\t\t\tsourcePanelAttrs.exclusive &&\n\t\t\t\tdestination.panelId !== source.panelId\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\tif (widgets[destination.id]) {\n\t\tif (widgets[destination.panelId]) {\n\t\t\tlet destinationPanelAttrs = widgets[destination.panelId];\n\t\t\tif (\n\t\t\t\tdestinationPanelAttrs.exclusive &&\n\t\t\t\tsource.panelId !== destination.panelId\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nconst isSamePositionInOriginal = (elements, panel, widget, hoverItemIndex) => {\n\tconst field = widget.attrs || widget || {};\n\tlet flag = false;\n\t(elements || []).forEach((element) => {\n\t\tif (element.elements) {\n\t\t\tif (\n\t\t\t\telement.attributes &&\n\t\t\t\tpanel &&\n\t\t\t\telement.attributes.name === panel.name\n\t\t\t) {\n\t\t\t\tconst item = element.elements[hoverItemIndex];\n\t\t\t\tif (\n\t\t\t\t\titem &&\n\t\t\t\t\titem.attributes &&\n\t\t\t\t\tfield &&\n\t\t\t\t\titem.attributes.name === field.name\n\t\t\t\t) {\n\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!flag && element.elements && element.elements.length) {\n\t\t\t\tconst result = isSamePositionInOriginal(\n\t\t\t\t\telement.elements,\n\t\t\t\t\tpanel,\n\t\t\t\t\twidget,\n\t\t\t\t\thoverItemIndex\n\t\t\t\t);\n\t\t\t\tif (result === true) {\n\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn flag;\n};\n\nconst getTarget = (fieldTarget, itemTarget) => {\n\treturn fieldTarget || itemTarget;\n};\n\nconst isPanelTab = (field) => {\n\tconst { type, widgetAttrs } = field;\n\tif (type === TYPE.panel && widgetAttrs) {\n\t\tconst attrs = JSON.parse(widgetAttrs || \"{}\");\n\t\tif (attrs.tab === \"true\") {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nconst getColSpan = (widget) => {\n\tconst attrs = JSON.parse(widget.widgetAttrs || \"{}\");\n\tconst defaultColspan = widget.type === TYPE.panel ? 12 : 6;\n\treturn attrs.colSpan || defaultColspan;\n};\n\nconst getCols = (widget) => {\n\tif ([TYPE.panel, TYPE.tabs].includes(widget.type)) {\n\t\treturn { cols: 12 };\n\t}\n\treturn {};\n};\n\nexport const getMenuBuilder = (menuBuilder) => {\n\tif (menuBuilder) {\n\t\treturn {\n\t\t\tmenuBuilderTitle: menuBuilder.title,\n\t\t\tmenuBuilderParent: menuBuilder.parentMenu,\n\t\t};\n\t}\n\treturn {};\n};\n\nexport const generateCustomModelSchema = (\n\tfields = [],\n\trecord,\n\ttypeLateral = \"\",\n\tformType = \"form\"\n) => {\n\tlet flag = false;\n\tconst _widgets = {};\n\tconst formItems = [];\n\tconst tabItems = [];\n\tlet _panelId;\n\tfields &&\n\t\tfields.length &&\n\t\tfields.forEach((f) => {\n\t\t\tconst _ID = _.uniqueId();\n\t\t\tconst isTab = isPanelTab(f);\n\t\t\tif ([TYPE.panel, TYPE.tabs].includes(f.type)) {\n\t\t\t\tflag = true;\n\t\t\t\t_panelId = _ID;\n\t\t\t\tf[\"items\"] = [];\n\t\t\t\tf[\"layout\"] = \"grid\";\n\t\t\t} else if (!flag) {\n\t\t\t\tconst _item = _widgets[_panelId];\n\t\t\t\tif (_item) {\n\t\t\t\t\t_item.items.push(_ID);\n\t\t\t\t\t_widgets[_panelId] = {\n\t\t\t\t\t\t..._widgets[_panelId],\n\t\t\t\t\t\titems: [..._item.items],\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tflag = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (flag) {\n\t\t\t\tflag = false;\n\t\t\t\tif (isTab) {\n\t\t\t\t\ttabItems.push(_ID);\n\t\t\t\t} else {\n\t\t\t\t\tformItems.push(_ID);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (f.selectionText && f.selectionText.length) {\n\t\t\t\tf.updateSelection = true;\n\t\t\t}\n\t\t\t_widgets[_ID] = {\n\t\t\t\t...f,\n\t\t\t\tcolSpan: getColSpan(f),\n\t\t\t\t...getCols(f),\n\t\t\t\ttype: `${f.type}${typeLateral}`,\n\t\t\t};\n\t\t});\n\t// add tab panel if tabItems has length\n\tif (tabItems.length) {\n\t\tconst _ID = _.uniqueId();\n\t\tconst field = {\n\t\t\titems: [...tabItems],\n\t\t\ttype: TYPE.tabs,\n\t\t\ttitle: \"Tab Panel\",\n\t\t};\n\t\tformItems.push(_ID);\n\t\t_widgets[_ID] = { ...field };\n\t}\n\tconst form = formType === \"customForm\" ? IDS.customForm : IDS.form;\n\tconst schema = {\n\t\twidgets: {\n\t\t\t[form]: {\n\t\t\t\ttype: formType,\n\t\t\t\tcols: 12,\n\t\t\t\t...record,\n\t\t\t\t...getMenuBuilder(record ? record.menuBuilder : undefined),\n\t\t\t},\n\t\t\t[IDS.dumpField]: {\n\t\t\t\ttype: TYPE.dumpField,\n\t\t\t\tname: \"\",\n\t\t\t},\n\t\t\t..._widgets,\n\t\t},\n\t\titems: [...formItems],\n\t};\n\treturn schema;\n};\n\nfunction processXML(xmlString, indent) {\n\treturn format(xmlString);\n}\n\nconst replacer = (key, modelType) => {\n\tconst camelToDash = [\"formView\", \"gridView\", \"minSize\", \"maxSize\"];\n\tconst xField = [\"bind\"];\n\tif (modelType === MODEL_TYPE.BASE) {\n\t\tconst keyReplacer = {\n\t\t\ttargetModel: \"target\",\n\t\t\tminSize: \"min\",\n\t\t\tmaxSize: \"max\",\n\t\t};\n\t\tkey = keyReplacer[key] || key;\n\t\tif (camelToDash.includes(key)) {\n\t\t\tkey = camelToDashCase(key);\n\t\t}\n\t\tif (xField.includes(key)) {\n\t\t\tkey = `x-${camelToDashCase(key)}`;\n\t\t}\n\t}\n\treturn key;\n};\n\nconst editorKeyReplacer = (key, modelType) => {\n\tconst keyReplacer = {\n\t\ttargetModel: \"target\",\n\t\tminSize: \"min\",\n\t\tmaxSize: \"max\",\n\t};\n\tif (modelType === MODEL_TYPE.BASE) {\n\t\tconst _keyIndex = Object.values(keyReplacer).findIndex((v) => v === key);\n\t\tif (_keyIndex !== -1) {\n\t\t\tkey = Object.keys(keyReplacer)[_keyIndex];\n\t\t}\n\t}\n\treturn key;\n};\n\nfunction isDummyField(widget) {\n\tconst modelTypes = [];\n\tmodelFields.forEach((f) => {\n\t\tconst { value = [] } = f;\n\t\tconst types = value.map((v) => v.serverType);\n\t\tmodelTypes.push(...types);\n\t});\n\treturn widget.serverType === \"field\" && modelTypes.includes(widget.type);\n}\n\nfunction valueConverter(value, key) {\n\tconst ltKeys = [\"title\", \"text\"];\n\tif (value && ltKeys.includes(key)) {\n\t\tvalue = value.replace(/</g, \"&lt;\");\n\t}\n\treturn value;\n}\n\nconst getWidgetAttrs = (attrs, exempt = [], modelType) => {\n\tconst widgetAttrs = {};\n\tconst exemptedAttrs = [\n\t\t\"version\",\n\t\t\"type\",\n\t\t\"typeName\",\n\t\t\"label\",\n\t\t\"items\",\n\t\t\"serverType\",\n\t\t\"layout\",\n\t\t\"cols\",\n\t\t\"isCoreField\",\n\t\t\"isModelField\",\n\t\t\"relationship\",\n\t\t\"current\",\n\t\t\"autoTitle\",\n\t\t\"metaModel\",\n\t\t\"targetSearch\",\n\t\t\"editorType\",\n\t\t\"appBuilder\",\n\t\t...exempt,\n\t];\n\tif (attrs.serverType !== \"field\") {\n\t\texemptedAttrs.push(\"targetModel\", \"targetName\", \"target\");\n\t}\n\tObject.keys(attrs).forEach((key) => {\n\t\tif (!exemptedAttrs.includes(key) && attrs[key] !== \"\") {\n\t\t\tlet flag = true;\n\t\t\tif (modelType === MODEL_TYPE.ENTITY && !attrs[key]) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tif (modelType === MODEL_TYPE.BASE && isDefaultValue(key, attrs[key])) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tif (flag) {\n\t\t\t\tif (key === \"dummyType\") {\n\t\t\t\t\twidgetAttrs[\"type\"] = attrs[key];\n\t\t\t\t} else {\n\t\t\t\t\twidgetAttrs[replacer(key, modelType)] = valueConverter(\n\t\t\t\t\t\tattrs[key],\n\t\t\t\t\t\tkey\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// check for dummy model field\n\tif (attrs.type === TYPE.panelInclude) {\n\t\tif (typeof attrs.view === \"object\") {\n\t\t\twidgetAttrs.view = attrs.view.name;\n\t\t}\n\t}\n\tif (attrs.isModelField || isDummyField(attrs)) {\n\t\twidgetAttrs[\"type\"] = attrs.type;\n\t}\n\tif (attrs.type === TYPE.panelRelated) {\n\t\twidgetAttrs[\"name\"] = attrs.field;\n\t}\n\tif (widgetAttrs.name) {\n\t\t// change array field index\n\t\tconst squareIndex = widgetAttrs.name.indexOf(\"[\");\n\t\tif (squareIndex !== -1) {\n\t\t\twidgetAttrs.name = widgetAttrs.name.substring(0, squareIndex);\n\t\t}\n\t}\n\treturn widgetAttrs;\n};\n\nconst getCustomWidget = (widget, exempt = []) => {\n\tconst _widget = {};\n\tconst exemptedAttrs = [\n\t\t\"image\",\n\t\t\"serverType\",\n\t\t\"isModelField\",\n\t\t\"isCoreField\",\n\t\t\"current\",\n\t\t...exempt,\n\t];\n\tObject.keys(widget).forEach((key) => {\n\t\tif (!exemptedAttrs.includes(key)) {\n\t\t\tif (key === \"type\" && [\"item\", \"field\"].includes(widget[key])) {\n\t\t\t\t_widget[key] = widget[\"serverType\"];\n\t\t\t} else {\n\t\t\t\t_widget[key] = widget[key] === \"\" ? null : widget[key];\n\t\t\t}\n\t\t}\n\t});\n\treturn _widget;\n};\n\nconst getCustomModelFields = (\n\titems = [],\n\twidgets,\n\tadditionalProps = {},\n\tcountSequence = false,\n\tsequence = 0\n) => {\n\tconst fields = [];\n\titems.forEach((item) => {\n\t\tlet _widget = { ...widgets[item] };\n\t\tconst exempt = [];\n\t\tif (![\"dump_field\", \"form\"].includes(_widget.type)) {\n\t\t\tif (_widget.type !== TYPE.tabs) {\n\t\t\t\tif (typeof _widget.id === \"symbol\") {\n\t\t\t\t\tdelete _widget.id;\n\t\t\t\t}\n\t\t\t\tif (_widget.showTitle !== false) {\n\t\t\t\t\tdelete _widget.showTitle;\n\t\t\t\t}\n\t\t\t\tif (countSequence) {\n\t\t\t\t\t_widget.sequence = sequence;\n\t\t\t\t\tsequence++;\n\t\t\t\t}\n\t\t\t\tif (_widget.serverType === \"spacer\") {\n\t\t\t\t\texempt.push(\"title\");\n\t\t\t\t}\n\t\t\t\tfields.push({\n\t\t\t\t\t...getCustomWidget(_widget, exempt),\n\t\t\t\t\t...additionalProps,\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (_widget.items && _widget.items.length) {\n\t\t\t\tconst modelFields = getCustomModelFields(\n\t\t\t\t\t_widget.items,\n\t\t\t\t\twidgets,\n\t\t\t\t\tadditionalProps,\n\t\t\t\t\tcountSequence,\n\t\t\t\t\tsequence\n\t\t\t\t);\n\t\t\t\tfields.push(...modelFields.fields);\n\t\t\t\tsequence = modelFields.sequence;\n\t\t\t}\n\t\t}\n\t});\n\treturn { fields, sequence };\n};\n\nconst isCreatedFromStudio = ({ xmlId = null, extension }) => {\n\tif (xmlId && !extension) {\n\t\tconst index = xmlId.indexOf(\"studio-\");\n\t\tif (index === 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nconst getFormProperties = (form, exempt = []) => {\n\tconst except = [\"type\", \"cols\", \"items\", ...exempt];\n\tconst properties = {};\n\tObject.keys(form).forEach((key) => {\n\t\tif (!except.includes(key) && form[key] !== \"\") {\n\t\t\tproperties[key] = form[key];\n\t\t}\n\t});\n\treturn properties;\n};\n\nconst getEntityField = (type) => {\n\tconst realType = { localdatetime: \"datetime\", localdate: \"date\" };\n\tconst index = type.indexOf(\"Entity\");\n\tlet _type = index === -1 ? type : type.substring(0, index);\n\t_type = realType[_type] || _type;\n\treturn _type;\n};\n\n/**\n * Checks whether value is same as default value or not\n * for given property name.\n * Returns boolean true/false\n * @param {string} name\n * @param {string} value\n */\nconst isAttrHasDefaultValue = (name, value) => {\n\tconst defaultValue = DEFAULT_VALUE[name];\n\tif (defaultValue !== undefined && `${defaultValue}` === `${value}`) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport const getProperty = (\n\tname,\n\tvalue,\n\tparentField,\n\tparentValue,\n\tshouldCheckParent = true\n) => {\n\tconst obj = { [name]: value };\n\tif (shouldCheckParent) {\n\t\tconst _value =\n\t\t\ttypeof parentValue === \"string\"\n\t\t\t\t? JSON.parse(parentValue)\n\t\t\t\t: parentValue || {};\n\t\tif (parentField && ![undefined, \"\", null].includes(value)) {\n\t\t\t// check for default value\n\t\t\tif (isAttrHasDefaultValue(name, value)) {\n\t\t\t\tdelete _value[name];\n\t\t\t\treturn { [parentField]: JSON.stringify({ ..._value }) };\n\t\t\t}\n\t\t\tconst _obj = { [name]: `${value}` };\n\t\t\treturn { [parentField]: JSON.stringify({ ..._value, ..._obj }) };\n\t\t} else if (parentField && (!value || value === \"\")) {\n\t\t\tdelete _value[name];\n\t\t\treturn { [parentField]: JSON.stringify({ ..._value }) };\n\t\t}\n\t}\n\tif (name === \"showTitle\" && value === true) {\n\t\treturn { showTitle: undefined };\n\t}\n\treturn obj;\n};\n\nexport const getPropertyValue = (\n\tlist,\n\tname,\n\tparentField,\n\tdefaultValue,\n\tshouldCheckParent = true\n) => {\n\tif (shouldCheckParent && parentField) {\n\t\tif (list[parentField]) {\n\t\t\tconst field = JSON.parse(list[parentField]);\n\t\t\treturn [undefined, null].includes(field[name])\n\t\t\t\t? defaultValue\n\t\t\t\t: field[name];\n\t\t}\n\t\treturn defaultValue || null;\n\t}\n\treturn [undefined, null].includes(list[name]) ? defaultValue : list[name];\n};\n\nconst getDefaultProperties = (modelType, entityType, entityModel) => {\n\tswitch (modelType) {\n\t\tcase MODEL_TYPE.CUSTOM:\n\t\t\treturn { formWidth: \"large\" };\n\t\tcase MODEL_TYPE.BASE: {\n\t\t\tconst props = { width: \"large\" };\n\t\t\tif (entityType === ENTITY_TYPE.ENTITY) {\n\t\t\t\tprops[\"model\"] = `${entityModel.packageName}.${entityModel.name}`;\n\t\t\t}\n\t\t\treturn props;\n\t\t}\n\t\tdefault:\n\t\t\treturn {};\n\t}\n};\n\nconst getEntityModel = (entityModel) => {\n\treturn `${entityModel.packageName}.${entityModel.name}`;\n};\n\nconst getPatchList = (xmlJson) => {\n\tif (xmlJson) {\n\t\tconst { elements = [] } = xmlJson;\n\t\tif (elements[0]) {\n\t\t\treturn elements[0].elements || [];\n\t\t}\n\t}\n\treturn [];\n};\n\nconst filterFormPatch = (patchList) => {\n\treturn patchList.filter((element) => element.attributes.target === \"/\");\n};\n\nconst getCurrentFormAttributes = (xml) => {\n\tconst { elements = [] } = xml;\n\treturn elements[0].attributes || {};\n};\n\nconst mergeFormAttributes = (patchList, formPatch) => {\n\tconst index = patchList.findIndex(\n\t\t(element) => element.attributes.target === \"/\"\n\t);\n\tconst targetIndex = index === -1 ? 0 : index;\n\tconst remove = index === -1 ? 0 : 1;\n\tif (Object.keys(formPatch).length) {\n\t\tpatchList.splice(targetIndex, remove, { ...formPatch });\n\t} else if (index !== -1) {\n\t\tpatchList.splice(index, 1);\n\t}\n\treturn patchList;\n};\n\nconst camelToDashCase = (string, caseString = \"-\") => {\n\treturn string.replace(/[A-Z]/g, (m) => caseString + m.toLowerCase());\n};\n\nconst dashToCamelCase = (string) => {\n\treturn string.replace(/-([a-z])/g, function (g) {\n\t\treturn g[1].toUpperCase();\n\t});\n};\n\nconst isDefaultValue = (field, value) => {\n\tconst fieldValue = DEFAULT_VALUE[field];\n\tif ([true, false].includes(fieldValue) && `${value}` === `${fieldValue}`) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nconst getReferenceProperty = (widgetType) => {\n\tconst referenceProperty = {\n\t\t[TYPE.panelInclude]: \"view\",\n\t};\n\tconst refProp = referenceProperty[widgetType];\n\treturn refProp || \"name\";\n};\n\nconst getEntityItems = (items) => {\n\tconst widgets = [];\n\tconst itemList = [];\n\titems.forEach((f) => {\n\t\tconst _ID = _.uniqueId();\n\t\twidgets[_ID] = { ...f.attributes, type: `${f.name}Entity` };\n\t\titemList.push(_ID);\n\t});\n\treturn { widgets, itemList };\n};\n\nconst generateEntityModelSchema = (xml, record) => {\n\tconst jsonData = JSON.parse(\n\t\tconvert.xml2json(xml, {\n\t\t\tcompact: false,\n\t\t\tfullTagEmptyElement: false,\n\t\t})\n\t);\n\tconst { elements = [], ...formData } = jsonData.elements[0];\n\tconst { itemList, widgets } = getEntityItems(elements);\n\tconst schema = {\n\t\twidgets: {\n\t\t\t[IDS.form]: {\n\t\t\t\ttype: TYPE.form,\n\t\t\t\tcols: 12,\n\t\t\t\t...formData.attributes,\n\t\t\t\tpackageName: record.packageName,\n\t\t\t},\n\t\t\t[IDS.dumpField]: {\n\t\t\t\ttype: TYPE.dumpField,\n\t\t\t\tname: \"\",\n\t\t\t},\n\t\t\t...widgets,\n\t\t},\n\t\titems: [...itemList],\n\t};\n\treturn schema;\n};\n\nconst getEntityModelFields = (xml) => {\n\tconst jsonData = JSON.parse(\n\t\tconvert.xml2json(xml, {\n\t\t\tcompact: false,\n\t\t\tfullTagEmptyElement: false,\n\t\t})\n\t);\n\tconst { elements = [] } = jsonData.elements[0];\n\tconst fields = elements.map((element) => {\n\t\treturn {\n\t\t\ttype: element.name,\n\t\t\tname: element.attributes.name,\n\t\t\ttz: element.attributes.tz,\n\t\t};\n\t});\n\treturn fields;\n};\n\nconst getEntityViewItems = (items) => {\n\tlet fields = [];\n\titems.forEach((item) => {\n\t\tif (item.type === \"field\") {\n\t\t\tfields.push(item.name);\n\t\t}\n\t\tif (item.items) {\n\t\t\tconst _fields = getEntityViewItems(item.items);\n\t\t\tfields.push(..._fields);\n\t\t}\n\t});\n\treturn fields;\n};\n\nconst checkTarget = (target, checkString, which) => {\n\t// 2 for parent check and 3 for itself/child element check\n\tconst targetSplit = target.split(\"/\");\n\tif (which) {\n\t\tif (targetSplit[which] === checkString) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn target === checkString;\n};\n\nconst exploreTarget = (target, which = 3) => {\n\t// 2 for parent check and 3 for itself/child element check\n\tconst targetSplit = target.split(\"/\");\n\tconst length = targetSplit.length;\n\tlet parent = length > 3 ? targetSplit[length - 2] : targetSplit[length - 1];\n\tlet self = length > 3 ? targetSplit[length - 1] : undefined;\n\treturn { parent, self };\n};\n\nconst getViews = (list, viewName) => {\n\tlet view = list.find((v) => v.computed === true);\n\tlet originalXML = list.find(\n\t\t(v) => v.computed !== true && v.extension !== true\n\t);\n\tconst extensionXML = list.find(\n\t\t(v) => v.extension === true && v.xmlId === `studio-${viewName}`\n\t);\n\treturn {\n\t\tview: view || originalXML,\n\t\toriginalXML,\n\t\textensionXML,\n\t};\n};\n\nconst getElementTypes = (name, field, _type) => {\n\tlet serverType;\n\tlet type;\n\tif (field) {\n\t\tserverType = field.type.toLowerCase();\n\t\ttype = name;\n\t} else {\n\t\tserverType = name;\n\t\ttype = _type ? _type : name === \"field\" ? undefined : name; // if element is field then set default type string\n\t}\n\treturn {\n\t\tserverType: TYPE_REPLACER[serverType] || serverType,\n\t\ttype: TYPE_REPLACER[type] || type,\n\t};\n};\n\nconst getTitle = (attributes, field) => {\n\tif (attributes.title) {\n\t\treturn { title: attributes.title };\n\t}\n\tif (field?.label) {\n\t\treturn { autoTitle: field.label };\n\t}\n\tif (attributes.name) {\n\t\treturn { autoTitle: camelToDashCase(attributes.name, \" \") };\n\t}\n\treturn {};\n};\n\nconst generateViewFromJson = ({\n\tview,\n\tfields,\n\toriginal,\n\textensionXML,\n\tattrsList,\n}) => {\n\tconst { elements } = view;\n\n\tconst getElementName = (attributes, parent, itemList, elementType) => {\n\t\tconst nameObj = { name: attributes.name };\n\t\treturn nameObj;\n\t};\n\n\tconst getElementToWidget = (element, fields, parent, itemList) => {\n\t\tlet widget = {};\n\t\tlet field;\n\t\tif (element) {\n\t\t\tconst { type, ...attributes } = element.attributes || {};\n\t\t\tif (element.name.indexOf(\"panel\") === -1) {\n\t\t\t\tfield = fields.find((f) => f.name === attributes.name);\n\t\t\t}\n\t\t\tconst attrs = {};\n\t\t\tObject.keys(attributes).map((key) => {\n\t\t\t\tlet _key = key;\n\t\t\t\tif (key.indexOf(\"x-\") === 0) {\n\t\t\t\t\t_key = key.substring(2);\n\t\t\t\t}\n\t\t\t\tattrs[editorKeyReplacer(dashToCamelCase(_key), MODEL_TYPE.BASE)] =\n\t\t\t\t\tattributes[key];\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\tconst targetModel = getTarget(\n\t\t\t\tfield?.target || field?.targetModel,\n\t\t\t\tattributes.target\n\t\t\t);\n\t\t\twidget = {\n\t\t\t\t...attrs,\n\t\t\t\tcolSpan: Number(attributes.colSpan || 6),\n\t\t\t\t...getElementName(attributes, parent, itemList, element.name),\n\t\t\t\t...getElementTypes(element.name, field, type),\n\t\t\t\t...getTitle(attributes, field),\n\t\t\t};\n\t\t\tif (targetModel) {\n\t\t\t\twidget.targetModel = targetModel;\n\t\t\t}\n\t\t\tif (\n\t\t\t\telement.name &&\n\t\t\t\t(element.name.indexOf(TYPE.panel) >= 0 ||\n\t\t\t\t\t[TYPE.menubar, TYPE.toolbar].includes(element.name))\n\t\t\t) {\n\t\t\t\twidget.colSpan = Number(attributes.colSpan || 12);\n\t\t\t\twidget.cols = 12;\n\t\t\t\twidget.layout = \"grid\";\n\t\t\t\twidget.serverType =\n\t\t\t\t\twidget.type === \"panel\" && widget.tab === true\n\t\t\t\t\t\t? TYPE.tabs\n\t\t\t\t\t\t: widget.serverType || widget.type;\n\t\t\t}\n\t\t\t// widget.type =\n\t\t}\n\t\treturn { widget, field };\n\t};\n\n\tconst getSpecialType = (element) => {\n\t\treturn element.name;\n\t};\n\tconst getXMLToViewItems = (elements = [], fields, parent) => {\n\t\tconst exclude = [\"panel-mail\"];\n\t\tlet _widgets = {};\n\t\tconst itemList = [];\n\t\tconst fieldList = [];\n\t\telements.forEach((element) => {\n\t\t\tif (element.attributes && `${element.attributes.json}` === \"true\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!exclude.includes(element.name) && element.type !== \"cdata\") {\n\t\t\t\tconst _ID = _.uniqueId();\n\t\t\t\tconst { widget, field } = getElementToWidget(\n\t\t\t\t\telement,\n\t\t\t\t\tfields,\n\t\t\t\t\tparent,\n\t\t\t\t\titemList\n\t\t\t\t);\n\t\t\t\tif (field) {\n\t\t\t\t\tfieldList.push(field);\n\t\t\t\t}\n\t\t\t\titemList.push(_ID);\n\t\t\t\tif (element.name && element.name.indexOf(TYPE.panel) >= 0) {\n\t\t\t\t\twidget.items = [];\n\t\t\t\t}\n\t\t\t\tif (element.elements && element.name !== \"field\") {\n\t\t\t\t\tconst items = getXMLToViewItems(\n\t\t\t\t\t\telement.elements,\n\t\t\t\t\t\tfields,\n\t\t\t\t\t\telement.attributes\n\t\t\t\t\t);\n\t\t\t\t\t_widgets = { ..._widgets, ...items._widgets };\n\t\t\t\t\twidget.items = [...items.itemList];\n\t\t\t\t\tfieldList.push(...items.fieldList);\n\t\t\t\t}\n\t\t\t\tif (element.elements && element.name === \"field\") {\n\t\t\t\t\t// check for viewer\n\t\t\t\t\tconst type = getSpecialType(element.elements[0]);\n\t\t\t\t\tif (type) {\n\t\t\t\t\t\twidget.type = type;\n\t\t\t\t\t\twidget.elements = element.elements;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// override with meta attrs list\n\t\t\t\tif (widget.name) {\n\t\t\t\t\tconst list = (attrsList || []).filter(\n\t\t\t\t\t\t(attr) => attr.field === widget.name\n\t\t\t\t\t);\n\t\t\t\t\tlist.forEach((attr) => {\n\t\t\t\t\t\tif ([\"selection-in\"].includes(attr.name)) {\n\t\t\t\t\t\t\twidget[attr.name] = attr.value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidget[\n\t\t\t\t\t\t\t\teditorKeyReplacer(dashToCamelCase(attr.name), MODEL_TYPE.BASE)\n\t\t\t\t\t\t\t] = attr.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t_widgets[_ID] = { ...widget };\n\t\t\t}\n\t\t});\n\t\treturn { _widgets, itemList, fieldList };\n\t};\n\n\tconst { itemList, _widgets, fieldList } = getXMLToViewItems(elements, fields);\n\tconst form = _widgets[itemList[0]];\n\tconst items = form.items || [];\n\tdelete _widgets[itemList[0]];\n\t// const { items, ...rest } = view;\n\tconst schema = {\n\t\twidgets: {\n\t\t\t[IDS.form]: {\n\t\t\t\ttype: TYPE.form,\n\t\t\t\tcols: 12,\n\t\t\t\t...form,\n\t\t\t\titems: undefined,\n\t\t\t},\n\t\t\t[IDS.dumpField]: {\n\t\t\t\ttype: TYPE.dumpField,\n\t\t\t\tname: \"\",\n\t\t\t},\n\t\t\t..._widgets,\n\t\t},\n\t\titems,\n\t\tfieldList,\n\t};\n\treturn schema;\n};\n\nconst generateXMLToViewSchema = ({\n\tview,\n\tfields,\n\toriginal = false,\n\textensionXML,\n\tattrsList,\n}) => {\n\tconst { elements } = JSON.parse(\n\t\tconvert.xml2json(view.xml, {\n\t\t\tcompact: false,\n\t\t\tfullTagEmptyElement: false,\n\t\t})\n\t);\n\treturn generateViewFromJson({\n\t\tview: { elements },\n\t\tfields,\n\t\toriginal,\n\t\textensionXML,\n\t\tattrsList,\n\t});\n};\n\nconst getChangeList = (schema, extensionXml) => {\n\tconst list = [];\n\tconst { widgets } = schema;\n\tconst elems = getExtensionElements(extensionXml);\n\tconst widgetList = Object.values(widgets);\n\tconst widgetIds = Object.keys(widgets);\n\telems.forEach((json) => {\n\t\tconst { elements = [] } = json;\n\t\t// const object =\n\t\tconst moveElement = elements[0];\n\t\tif (moveElement && moveElement.attributes && moveElement.name === \"move\") {\n\t\t\tconst source = exploreTarget(moveElement.attributes.source);\n\t\t\tif (source.self) {\n\t\t\t\tconst index = source.self\n\t\t\t\t\t? widgetList.findIndex(\n\t\t\t\t\t\t\t(w) => `${w.type}[@name='${w.name}']` === source.self\n\t\t\t\t\t  )\n\t\t\t\t\t: widgetList.findIndex(\n\t\t\t\t\t\t\t(w) => `${w.type}[@name='${w.name}']` === source.parent\n\t\t\t\t\t  );\n\t\t\t\tif (widgetIds[index]) {\n\t\t\t\t\tlist.push(widgetIds[index]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// return {\n\t\t\t// \ttarget: attributes.target,\n\t\t\t// \tsource: moveElement.attributes.source,\n\t\t\t// \tposition: moveElement.attributes.position,\n\t\t\t// }\n\t\t}\n\t});\n\treturn list;\n};\n\nconst getExtensionElements = (xml) => {\n\tconst extensionJson = JSON.parse(\n\t\tconvert.xml2json(xml, {\n\t\t\tcompact: false,\n\t\t\tfullTagEmptyElement: false,\n\t\t})\n\t);\n\tconst elems = extensionJson.elements[0].elements;\n\treturn elems;\n};\n\nfunction randomString(length) {\n\tconst chars =\n\t\t\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\tvar result = \"\";\n\tfor (var i = length; i > 0; --i)\n\t\tresult += chars[Math.floor(Math.random() * chars.length)];\n\treturn result;\n}\n\nexport const generateFieldUniqueTitle = ({ name, fieldName }) => {\n\tconst text = randomString(6);\n\treturn `studio:${text}:${fieldName}:${name}`;\n};\n\nexport function getDefaultGridFormName(str, isForm = false, isJson = false) {\n\tif (!str) return;\n\tif (isJson) {\n\t\treturn `custom-model-${str.name}-${isForm ? \"form\" : \"grid\"}`;\n\t}\n\tconst models = str.split(\".\");\n\tconst modelString = models[models.length - 1];\n\tif (!modelString) return;\n\tconst viewName = dasherize(modelString);\n\treturn `${viewName.toLowerCase()}-${isForm ? \"form\" : \"grid\"}`;\n}\n\nexport default {\n\tcamleCaseString,\n\ttranslate,\n\tprocessXML,\n\tgetWidgetAttrs,\n\tgetCustomModelFields,\n\tisCreatedFromStudio,\n\tgetFormProperties,\n\tgetEntityField,\n\tgetDefaultProperties,\n\tgetPatchList,\n\tkeyReplacer: replacer,\n\tvalueConverter,\n\tfilterFormPatch,\n\tgetCurrentFormAttributes,\n\tmergeFormAttributes,\n\tcamelToDashCase,\n\tdashToCamelCase,\n\tisSamePositionInOriginal,\n\tgetWidgetType,\n\tisDefaultValue,\n\tgetReferenceProperty,\n\tgenerateEntityModelSchema,\n\tgetEntityModelFields,\n\tgetEntityModel,\n\tgetEntityViewItems,\n\tcheckTarget,\n\texploreTarget,\n\tgetViews,\n\tgenerateXMLToViewSchema,\n\tgenerateViewFromJson,\n\tgetChangeList,\n\tgetDefaultGridFormName,\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { GRID_SIZE, PANEL_TYPE, TYPE } from \"../constants\";\nimport { useStore } from \"../store/context\";\n\nconst getColSpan = (col, parentItemSpan) => {\n\tconst widgetAttrs = col.widgetAttrs ? JSON.parse(col.widgetAttrs) : {};\n\tif (widgetAttrs.colSpan) {\n\t\treturn Number(widgetAttrs.colSpan);\n\t} else {\n\t\treturn parentItemSpan || col.colSpan || 6;\n\t}\n};\n\n// get Column cell CSS according to colSpan and Container size\nexport const getColumnCss = (columns, colSpan) => {\n\tconst [n, span] = [Number(columns), Number(colSpan)];\n\tif (n > GRID_SIZE.max) return \"\";\n\treturn `col-span col-${\n\t\tspan > n ? GRID_SIZE.max : Math.floor((GRID_SIZE.max * span) / n)\n\t}`;\n};\n\nconst DEFAULTS = {\n\tITEM_COLSPAN: 1,\n\tMAX_SIZE: 12,\n};\n\nconst getFullGrid = (\n\titems,\n\tsize = DEFAULTS.MAX_SIZE,\n\tisStackLayout,\n\tparentItemSpan\n) => {\n\tconst grid = [];\n\tconst isStack = size === 1 || isStackLayout;\n\tconst gridSize = isStack ? DEFAULTS.MAX_SIZE : size;\n\tlet row = [];\n\tlet span = 0;\n\n\tconst getItemColspan = (colSpan) => {\n\t\t// if(Number(parentItemSpan)) {\n\t\t// \treturn Number(parentItemSpan)\n\t\t// }\n\t\treturn Number(colSpan);\n\t};\n\n\tif (!items.length) {\n\t\tconst $cell = { id: 0, separator: true };\n\t\tconst dummy = {\n\t\t\tid: 0,\n\t\t\tdummy: true,\n\t\t\tdummyPanel: true,\n\t\t\tcolSpan: isStack ? 12 : 6,\n\t\t};\n\t\treturn [[$cell, dummy, $cell].concat(isStack ? [] : [dummy, $cell])];\n\t}\n\n\tconst addRow = ({ item, overflow = false } = {}) => {\n\t\tif (overflow) {\n\t\t\tconst fillColspan = gridSize - (span - getItemColspan(item.colSpan));\n\t\t\trow.push({\n\t\t\t\tid: 0,\n\t\t\t\tdummy: true,\n\t\t\t\tcolSpan: fillColspan,\n\t\t\t});\n\t\t}\n\t\tgrid.push(row);\n\t\trow = [];\n\t\tspan = 0;\n\t};\n\n\tconst addItem = (item) => row.push(item);\n\n\tfor (let i = 0; i < items.length; i++) {\n\t\tconst item = Object.assign(\n\t\t\titems[i],\n\t\t\tisStack\n\t\t\t\t? { colSpan: DEFAULTS.MAX_SIZE }\n\t\t\t\t: { colSpan: getItemColspan(getColSpan(items[i], parentItemSpan)) }\n\t\t);\n\t\tconst { colSpan: itemSpan = DEFAULTS.ITEM_COLSPAN } = item;\n\t\tconst isLastItem = i === items.length - 1;\n\t\tspan += getItemColspan(itemSpan);\n\t\tif (span > gridSize) {\n\t\t\taddRow({ item, overflow: true });\n\t\t\tspan = itemSpan;\n\t\t\taddItem(item);\n\t\t} else if (span === gridSize) {\n\t\t\trow.push(item);\n\t\t\taddRow({ item });\n\t\t} else {\n\t\t\trow.push(item);\n\t\t}\n\n\t\tif (isLastItem && row.length) {\n\t\t\tconst occupiedSpan = row.reduce(\n\t\t\t\t(total, { colSpan = DEFAULTS.ITEM_COLSPAN }) => total + colSpan,\n\t\t\t\t0\n\t\t\t);\n\t\t\tconst remainSpan = gridSize - occupiedSpan;\n\t\t\tif (remainSpan > 0) {\n\t\t\t\trow.push({\n\t\t\t\t\tid: 0,\n\t\t\t\t\tdummy: true,\n\t\t\t\t\tcolSpan: remainSpan,\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.push(row);\n\t\t}\n\t}\n\n\tconst fullGrid = [];\n\tfor (let i = 0; i < grid.length; i++) {\n\t\tconst row = grid[i];\n\t\tconst draggable = ![TYPE.menubar, TYPE.toolbar].includes(row[0]?.type);\n\t\tconst upRow = [];\n\t\tconst midRow = [];\n\t\tconst addCell = ($row, options = { separator: true }) =>\n\t\t\t$row.push({\n\t\t\t\tid: 0,\n\t\t\t\tcolSpan: 1,\n\t\t\t\t...options,\n\t\t\t});\n\t\taddCell(upRow);\n\n\t\tdraggable &&\n\t\t\taddCell(midRow, {\n\t\t\t\trelatedColSpan: getColSpan(row[0], parentItemSpan),\n\t\t\t\tseparator: true,\n\t\t\t});\n\n\t\tfor (let j = 0; j < row.length; j++) {\n\t\t\tconst col = row[j];\n\t\t\tconst colSpan = getColSpan(col, parentItemSpan);\n\t\t\taddCell(upRow, { dummy: true, colSpan });\n\t\t\taddCell(midRow, col);\n\n\t\t\taddCell(upRow, { relatedColSpan: colSpan, separator: true });\n\t\t\tdraggable &&\n\t\t\t\taddCell(midRow, { relatedColSpan: colSpan, separator: true });\n\t\t}\n\n\t\tdraggable ? fullGrid.push(upRow) : fullGrid.push([]);\n\t\tfullGrid.push(midRow);\n\n\t\tif (i === grid.length - 1) {\n\t\t\tfullGrid.push(upRow);\n\t\t}\n\t}\n\treturn fullGrid;\n};\n\n// Grid Container embeds grid cell\nexport const GridContainer = ({ className, attrs, children, ...rest }) => (\n\t<div\n\t\tclassName={classNames(\n\t\t\tclassName,\n\t\t\tattrs.cols ? `grid-span grid-${attrs.cols}` : \"\"\n\t\t)}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</div>\n);\n\nexport function useGridWidget() {\n\tconst [WidgetComponent, setWidgetComponent] = React.useState(() => null);\n\n\tReact.useEffect(() => {\n\t\timport(\"./Widget\").then((module) =>\n\t\t\tsetWidgetComponent(() => module.default)\n\t\t);\n\t}, []);\n\n\treturn WidgetComponent;\n}\n\n/**\n * Grid Component handle layout of Container Components like panels\n */\nfunction Grid(props) {\n\tconst WidgetComponent = useGridWidget();\n\tconst {\n\t\tstate: { widgets: _widgets, customFieldWidgets },\n\t} = useStore();\n\tconst { className, items, attrs = {}, panelId, design } = props;\n\tlet widgets = props._type === \"customField\" ? customFieldWidgets : _widgets;\n\tconst widgetAttrs = JSON.parse(attrs.widgetAttrs || \"{}\");\n\tconst gridSize = Number(attrs.cols || 1);\n\tconst columns = gridSize * 2 + 1;\n\tconst isStackLayout = attrs.layout === PANEL_TYPE.stack;\n\tconst spacers = columns === 1 ? 0 : columns / 2 + 1;\n\tconst spacerWidth = design ? 1 : 0; //%\n\tconst cols = (columns - 1) / 2;\n\tconst colWidth = (100 - spacers * spacerWidth) / cols;\n\tconst itemSpan = widgetAttrs?.itemSpan;\n\tconst rows = React.useMemo(() => {\n\t\tlet cellIndice = 0;\n\t\tconst childs = items.map((x) =>\n\t\t\tObject.assign({}, widgets[x] || {}, { id: x })\n\t\t);\n\t\treturn getFullGrid(childs, gridSize, isStackLayout, itemSpan).map(\n\t\t\t(columns, rowIndex) => {\n\t\t\t\tlet span = 0;\n\t\t\t\treturn columns.map((c) => {\n\t\t\t\t\tlet columnIndex = span;\n\t\t\t\t\tspan += c.separator ? 0 : Number(c.colSpan || 1);\n\t\t\t\t\treturn { ...c, rowIndex, columnIndex, cellIndice: cellIndice++ };\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}, [items, widgets, gridSize, isStackLayout, itemSpan]);\n\n\tconst gridRows = rows.reduce((arr, row) => arr.concat(row), []);\n\treturn (\n\t\t<GridContainer {...{ attrs, className }}>\n\t\t\t<table cellPadding=\"0\" cellSpacing=\"0\">\n\t\t\t\t{design && (\n\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t{isStackLayout ? (\n\t\t\t\t\t\t\t<col width={\"100%\"} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tnew Array(columns)\n\t\t\t\t\t\t\t\t.fill(0)\n\t\t\t\t\t\t\t\t.map((col, i) => (\n\t\t\t\t\t\t\t\t\t<col\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\twidth={`${i % 2 === 1 ? colWidth : spacerWidth}%`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)}\n\t\t\t\t\t</colgroup>\n\t\t\t\t)}\n\t\t\t\t<tbody>\n\t\t\t\t\t{rows.map((cols, rowIndex) => (\n\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\tclassName={rowIndex % 2 === 0 ? \"empty-row\" : \"fill-row\"}\n\t\t\t\t\t\t\tkey={rowIndex}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{cols.map(\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\tcolSpan,\n\t\t\t\t\t\t\t\t\t\tcellIndice: indice,\n\t\t\t\t\t\t\t\t\t\tcolumnIndex,\n\t\t\t\t\t\t\t\t\t\tseparator,\n\t\t\t\t\t\t\t\t\t\trelatedColSpan,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tclassName={separator ? \"separator\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\tkey={indice}\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={colSpan > 1 ? colSpan * 2 - 1 : colSpan}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{WidgetComponent && (\n\t\t\t\t\t\t\t\t\t\t\t\t<WidgetComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\tdesign={design}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmeta={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSeparator: Boolean(separator),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow: rowIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcol: i,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIndex: columnIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid: gridRows,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: columns,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trelatedColSpan: relatedColSpan,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpanelId={panelId}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={indice}\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex={indice}\n\t\t\t\t\t\t\t\t\t\t\t\t\tpanelColumns={attrs.cols}\n\t\t\t\t\t\t\t\t\t\t\t\t\t_type={props._type}\n\t\t\t\t\t\t\t\t\t\t\t\t\terrorList={props.errorList}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcanRemove={props.canRemove}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</GridContainer>\n\t);\n}\n\nexport default Grid;\n","const fontAwesome = [\n\t\"fa-500px\",\n\t\"fa-address-book\",\n\t\"fa-address-book-o\",\n\t\"fa-address-card\",\n\t\"fa-address-card-o\",\n\t\"fa-adjust\",\n\t\"fa-adn\",\n\t\"fa-align-center\",\n\t\"fa-align-justify\",\n\t\"fa-align-left\",\n\t\"fa-align-right\",\n\t\"fa-amazon\",\n\t\"fa-ambulance\",\n\t\"fa-american-sign-language-interpreting\",\n\t\"fa-anchor\",\n\t\"fa-android\",\n\t\"fa-angellist\",\n\t\"fa-angle-double-down\",\n\t\"fa-angle-double-left\",\n\t\"fa-angle-double-right\",\n\t\"fa-angle-double-up\",\n\t\"fa-angle-down\",\n\t\"fa-angle-left\",\n\t\"fa-angle-right\",\n\t\"fa-angle-up\",\n\t\"fa-apple\",\n\t\"fa-archive\",\n\t\"fa-area-chart\",\n\t\"fa-arrow-circle-down\",\n\t\"fa-arrow-circle-left\",\n\t\"fa-arrow-circle-o-down\",\n\t\"fa-arrow-circle-o-left\",\n\t\"fa-arrow-circle-o-right\",\n\t\"fa-arrow-circle-o-up\",\n\t\"fa-arrow-circle-right\",\n\t\"fa-arrow-circle-up\",\n\t\"fa-arrow-down\",\n\t\"fa-arrow-left\",\n\t\"fa-arrow-right\",\n\t\"fa-arrow-up\",\n\t\"fa-arrows\",\n\t\"fa-arrows-alt\",\n\t\"fa-arrows-h\",\n\t\"fa-arrows-v\",\n\t\"fa-asl-interpreting\",\n\t\"fa-assistive-listening-systems\",\n\t\"fa-asterisk\",\n\t\"fa-at\",\n\t\"fa-audio-description\",\n\t\"fa-automobile\",\n\t\"fa-backward\",\n\t\"fa-balance-scale\",\n\t\"fa-ban\",\n\t\"fa-bandcamp\",\n\t\"fa-bank\",\n\t\"fa-bar-chart\",\n\t\"fa-bar-chart-o\",\n\t\"fa-barcode\",\n\t\"fa-bars\",\n\t\"fa-bath\",\n\t\"fa-bathtub\",\n\t\"fa-battery\",\n\t\"fa-battery-0\",\n\t\"fa-battery-1\",\n\t\"fa-battery-2\",\n\t\"fa-battery-3\",\n\t\"fa-battery-4\",\n\t\"fa-battery-empty\",\n\t\"fa-battery-full\",\n\t\"fa-battery-half\",\n\t\"fa-battery-quarter\",\n\t\"fa-battery-three-quarters\",\n\t\"fa-bed\",\n\t\"fa-beer\",\n\t\"fa-behance\",\n\t\"fa-behance-square\",\n\t\"fa-bell\",\n\t\"fa-bell-o\",\n\t\"fa-bell-slash\",\n\t\"fa-bell-slash-o\",\n\t\"fa-bicycle\",\n\t\"fa-binoculars\",\n\t\"fa-birthday-cake\",\n\t\"fa-bitbucket\",\n\t\"fa-bitbucket-square\",\n\t\"fa-bitcoin\",\n\t\"fa-black-tie\",\n\t\"fa-blind\",\n\t\"fa-bluetooth\",\n\t\"fa-bluetooth-b\",\n\t\"fa-bold\",\n\t\"fa-bolt\",\n\t\"fa-bomb\",\n\t\"fa-book\",\n\t\"fa-bookmark\",\n\t\"fa-bookmark-o\",\n\t\"fa-braille\",\n\t\"fa-briefcase\",\n\t\"fa-btc\",\n\t\"fa-bug\",\n\t\"fa-building\",\n\t\"fa-building-o\",\n\t\"fa-bullhorn\",\n\t\"fa-bullseye\",\n\t\"fa-bus\",\n\t\"fa-buysellads\",\n\t\"fa-cab\",\n\t\"fa-calculator\",\n\t\"fa-calendar\",\n\t\"fa-calendar-check-o\",\n\t\"fa-calendar-minus-o\",\n\t\"fa-calendar-o\",\n\t\"fa-calendar-plus-o\",\n\t\"fa-calendar-times-o\",\n\t\"fa-camera\",\n\t\"fa-camera-retro\",\n\t\"fa-car\",\n\t\"fa-caret-down\",\n\t\"fa-caret-left\",\n\t\"fa-caret-right\",\n\t\"fa-caret-square-o-down\",\n\t\"fa-caret-square-o-left\",\n\t\"fa-caret-square-o-right\",\n\t\"fa-caret-square-o-up\",\n\t\"fa-caret-up\",\n\t\"fa-cart-arrow-down\",\n\t\"fa-cart-plus\",\n\t\"fa-cc\",\n\t\"fa-cc-amex\",\n\t\"fa-cc-diners-club\",\n\t\"fa-cc-discover\",\n\t\"fa-cc-jcb\",\n\t\"fa-cc-mastercard\",\n\t\"fa-cc-paypal\",\n\t\"fa-cc-stripe\",\n\t\"fa-cc-visa\",\n\t\"fa-certificate\",\n\t\"fa-chain\",\n\t\"fa-chain-broken\",\n\t\"fa-check\",\n\t\"fa-check-circle\",\n\t\"fa-check-circle-o\",\n\t\"fa-check-square\",\n\t\"fa-check-square-o\",\n\t\"fa-chevron-circle-down\",\n\t\"fa-chevron-circle-left\",\n\t\"fa-chevron-circle-right\",\n\t\"fa-chevron-circle-up\",\n\t\"fa-chevron-down\",\n\t\"fa-chevron-left\",\n\t\"fa-chevron-right\",\n\t\"fa-chevron-up\",\n\t\"fa-child\",\n\t\"fa-chrome\",\n\t\"fa-circle\",\n\t\"fa-circle-o\",\n\t\"fa-circle-o-notch\",\n\t\"fa-circle-thin\",\n\t\"fa-clipboard\",\n\t\"fa-clock-o\",\n\t\"fa-clone\",\n\t\"fa-close\",\n\t\"fa-cloud\",\n\t\"fa-cloud-download\",\n\t\"fa-cloud-upload\",\n\t\"fa-cny\",\n\t\"fa-code\",\n\t\"fa-code-fork\",\n\t\"fa-codepen\",\n\t\"fa-codiepie\",\n\t\"fa-coffee\",\n\t\"fa-cog\",\n\t\"fa-cogs\",\n\t\"fa-columns\",\n\t\"fa-comment\",\n\t\"fa-comment-o\",\n\t\"fa-commenting\",\n\t\"fa-commenting-o\",\n\t\"fa-comments\",\n\t\"fa-comments-o\",\n\t\"fa-compass\",\n\t\"fa-compress\",\n\t\"fa-connectdevelop\",\n\t\"fa-contao\",\n\t\"fa-copy\",\n\t\"fa-copyright\",\n\t\"fa-creative-commons\",\n\t\"fa-credit-card\",\n\t\"fa-credit-card-alt\",\n\t\"fa-crop\",\n\t\"fa-crosshairs\",\n\t\"fa-css3\",\n\t\"fa-cube\",\n\t\"fa-cubes\",\n\t\"fa-cut\",\n\t\"fa-cutlery\",\n\t\"fa-dashboard\",\n\t\"fa-dashcube\",\n\t\"fa-database\",\n\t\"fa-deaf\",\n\t\"fa-deafness\",\n\t\"fa-dedent\",\n\t\"fa-delicious\",\n\t\"fa-desktop\",\n\t\"fa-deviantart\",\n\t\"fa-diamond\",\n\t\"fa-digg\",\n\t\"fa-dollar\",\n\t\"fa-dot-circle-o\",\n\t\"fa-download\",\n\t\"fa-dribbble\",\n\t\"fa-drivers-license\",\n\t\"fa-drivers-license-o\",\n\t\"fa-dropbox\",\n\t\"fa-drupal\",\n\t\"fa-edge\",\n\t\"fa-edit\",\n\t\"fa-eercast\",\n\t\"fa-eject\",\n\t\"fa-ellipsis-h\",\n\t\"fa-ellipsis-v\",\n\t\"fa-empire\",\n\t\"fa-envelope\",\n\t\"fa-envelope-o\",\n\t\"fa-envelope-open\",\n\t\"fa-envelope-open-o\",\n\t\"fa-envelope-square\",\n\t\"fa-envira\",\n\t\"fa-eraser\",\n\t\"fa-etsy\",\n\t\"fa-eur\",\n\t\"fa-euro\",\n\t\"fa-exchange\",\n\t\"fa-exclamation\",\n\t\"fa-exclamation-circle\",\n\t\"fa-exclamation-triangle\",\n\t\"fa-expand\",\n\t\"fa-expeditedssl\",\n\t\"fa-external-link\",\n\t\"fa-external-link-square\",\n\t\"fa-eye\",\n\t\"fa-eye-slash\",\n\t\"fa-eyedropper\",\n\t\"fa-fa\",\n\t\"fa-facebook\",\n\t\"fa-facebook-f\",\n\t\"fa-facebook-official\",\n\t\"fa-facebook-square\",\n\t\"fa-fast-backward\",\n\t\"fa-fast-forward\",\n\t\"fa-fax\",\n\t\"fa-feed\",\n\t\"fa-female\",\n\t\"fa-fighter-jet\",\n\t\"fa-file\",\n\t\"fa-file-archive-o\",\n\t\"fa-file-audio-o\",\n\t\"fa-file-code-o\",\n\t\"fa-file-excel-o\",\n\t\"fa-file-image-o\",\n\t\"fa-file-movie-o\",\n\t\"fa-file-o\",\n\t\"fa-file-pdf-o\",\n\t\"fa-file-photo-o\",\n\t\"fa-file-picture-o\",\n\t\"fa-file-powerpoint-o\",\n\t\"fa-file-sound-o\",\n\t\"fa-file-text\",\n\t\"fa-file-text-o\",\n\t\"fa-file-video-o\",\n\t\"fa-file-word-o\",\n\t\"fa-file-zip-o\",\n\t\"fa-files-o\",\n\t\"fa-film\",\n\t\"fa-filter\",\n\t\"fa-fire\",\n\t\"fa-fire-extinguisher\",\n\t\"fa-firefox\",\n\t\"fa-first-order\",\n\t\"fa-flag\",\n\t\"fa-flag-checkered\",\n\t\"fa-flag-o\",\n\t\"fa-flash\",\n\t\"fa-flask\",\n\t\"fa-flickr\",\n\t\"fa-floppy-o\",\n\t\"fa-folder\",\n\t\"fa-folder-o\",\n\t\"fa-folder-open\",\n\t\"fa-folder-open-o\",\n\t\"fa-font\",\n\t\"fa-font-awesome\",\n\t\"fa-fonticons\",\n\t\"fa-fort-awesome\",\n\t\"fa-forumbee\",\n\t\"fa-forward\",\n\t\"fa-foursquare\",\n\t\"fa-free-code-camp\",\n\t\"fa-frown-o\",\n\t\"fa-futbol-o\",\n\t\"fa-gamepad\",\n\t\"fa-gavel\",\n\t\"fa-gbp\",\n\t\"fa-ge\",\n\t\"fa-gear\",\n\t\"fa-gears\",\n\t\"fa-genderless\",\n\t\"fa-get-pocket\",\n\t\"fa-gg\",\n\t\"fa-gg-circle\",\n\t\"fa-gift\",\n\t\"fa-git\",\n\t\"fa-git-square\",\n\t\"fa-github\",\n\t\"fa-github-alt\",\n\t\"fa-github-square\",\n\t\"fa-gitlab\",\n\t\"fa-gittip\",\n\t\"fa-glass\",\n\t\"fa-glide\",\n\t\"fa-glide-g\",\n\t\"fa-globe\",\n\t\"fa-google\",\n\t\"fa-google-plus\",\n\t\"fa-google-plus-circle\",\n\t\"fa-google-plus-official\",\n\t\"fa-google-plus-square\",\n\t\"fa-google-wallet\",\n\t\"fa-graduation-cap\",\n\t\"fa-gratipay\",\n\t\"fa-grav\",\n\t\"fa-group\",\n\t\"fa-h-square\",\n\t\"fa-hacker-news\",\n\t\"fa-hand-grab-o\",\n\t\"fa-hand-lizard-o\",\n\t\"fa-hand-o-down\",\n\t\"fa-hand-o-left\",\n\t\"fa-hand-o-right\",\n\t\"fa-hand-o-up\",\n\t\"fa-hand-paper-o\",\n\t\"fa-hand-peace-o\",\n\t\"fa-hand-pointer-o\",\n\t\"fa-hand-rock-o\",\n\t\"fa-hand-scissors-o\",\n\t\"fa-hand-spock-o\",\n\t\"fa-hand-stop-o\",\n\t\"fa-handshake-o\",\n\t\"fa-hard-of-hearing\",\n\t\"fa-hashtag\",\n\t\"fa-hdd-o\",\n\t\"fa-header\",\n\t\"fa-headphones\",\n\t\"fa-heart\",\n\t\"fa-heart-o\",\n\t\"fa-heartbeat\",\n\t\"fa-history\",\n\t\"fa-home\",\n\t\"fa-hospital-o\",\n\t\"fa-hotel\",\n\t\"fa-hourglass\",\n\t\"fa-hourglass-1\",\n\t\"fa-hourglass-2\",\n\t\"fa-hourglass-3\",\n\t\"fa-hourglass-end\",\n\t\"fa-hourglass-half\",\n\t\"fa-hourglass-o\",\n\t\"fa-hourglass-start\",\n\t\"fa-houzz\",\n\t\"fa-html5\",\n\t\"fa-i-cursor\",\n\t\"fa-id-badge\",\n\t\"fa-id-card\",\n\t\"fa-id-card-o\",\n\t\"fa-ils\",\n\t\"fa-image\",\n\t\"fa-imdb\",\n\t\"fa-inbox\",\n\t\"fa-indent\",\n\t\"fa-industry\",\n\t\"fa-info\",\n\t\"fa-info-circle\",\n\t\"fa-inr\",\n\t\"fa-instagram\",\n\t\"fa-institution\",\n\t\"fa-internet-explorer\",\n\t\"fa-intersex\",\n\t\"fa-ioxhost\",\n\t\"fa-italic\",\n\t\"fa-joomla\",\n\t\"fa-jpy\",\n\t\"fa-jsfiddle\",\n\t\"fa-key\",\n\t\"fa-keyboard-o\",\n\t\"fa-krw\",\n\t\"fa-language\",\n\t\"fa-laptop\",\n\t\"fa-lastfm\",\n\t\"fa-lastfm-square\",\n\t\"fa-leaf\",\n\t\"fa-leanpub\",\n\t\"fa-legal\",\n\t\"fa-lemon-o\",\n\t\"fa-level-down\",\n\t\"fa-level-up\",\n\t\"fa-life-bouy\",\n\t\"fa-life-buoy\",\n\t\"fa-life-ring\",\n\t\"fa-life-saver\",\n\t\"fa-lightbulb-o\",\n\t\"fa-line-chart\",\n\t\"fa-link\",\n\t\"fa-linkedin\",\n\t\"fa-linkedin-square\",\n\t\"fa-linode\",\n\t\"fa-linux\",\n\t\"fa-list\",\n\t\"fa-list-alt\",\n\t\"fa-list-ol\",\n\t\"fa-list-ul\",\n\t\"fa-location-arrow\",\n\t\"fa-lock\",\n\t\"fa-long-arrow-down\",\n\t\"fa-long-arrow-left\",\n\t\"fa-long-arrow-right\",\n\t\"fa-long-arrow-up\",\n\t\"fa-low-vision\",\n\t\"fa-magic\",\n\t\"fa-magnet\",\n\t\"fa-mail-forward\",\n\t\"fa-mail-reply\",\n\t\"fa-mail-reply-all\",\n\t\"fa-male\",\n\t\"fa-map\",\n\t\"fa-map-marker\",\n\t\"fa-map-o\",\n\t\"fa-map-pin\",\n\t\"fa-map-signs\",\n\t\"fa-mars\",\n\t\"fa-mars-double\",\n\t\"fa-mars-stroke\",\n\t\"fa-mars-stroke-h\",\n\t\"fa-mars-stroke-v\",\n\t\"fa-maxcdn\",\n\t\"fa-meanpath\",\n\t\"fa-medium\",\n\t\"fa-medkit\",\n\t\"fa-meetup\",\n\t\"fa-meh-o\",\n\t\"fa-mercury\",\n\t\"fa-microchip\",\n\t\"fa-microphone\",\n\t\"fa-microphone-slash\",\n\t\"fa-minus\",\n\t\"fa-minus-circle\",\n\t\"fa-minus-square\",\n\t\"fa-minus-square-o\",\n\t\"fa-mixcloud\",\n\t\"fa-mobile\",\n\t\"fa-mobile-phone\",\n\t\"fa-modx\",\n\t\"fa-money\",\n\t\"fa-moon-o\",\n\t\"fa-mortar-board\",\n\t\"fa-motorcycle\",\n\t\"fa-mouse-pointer\",\n\t\"fa-music\",\n\t\"fa-navicon\",\n\t\"fa-neuter\",\n\t\"fa-newspaper-o\",\n\t\"fa-object-group\",\n\t\"fa-object-ungroup\",\n\t\"fa-odnoklassniki\",\n\t\"fa-odnoklassniki-square\",\n\t\"fa-opencart\",\n\t\"fa-openid\",\n\t\"fa-opera\",\n\t\"fa-optin-monster\",\n\t\"fa-outdent\",\n\t\"fa-pagelines\",\n\t\"fa-paint-brush\",\n\t\"fa-paper-plane\",\n\t\"fa-paper-plane-o\",\n\t\"fa-paperclip\",\n\t\"fa-paragraph\",\n\t\"fa-paste\",\n\t\"fa-pause\",\n\t\"fa-pause-circle\",\n\t\"fa-pause-circle-o\",\n\t\"fa-paw\",\n\t\"fa-paypal\",\n\t\"fa-pencil\",\n\t\"fa-pencil-square\",\n\t\"fa-pencil-square-o\",\n\t\"fa-percent\",\n\t\"fa-phone\",\n\t\"fa-phone-square\",\n\t\"fa-photo\",\n\t\"fa-picture-o\",\n\t\"fa-pie-chart\",\n\t\"fa-pied-piper\",\n\t\"fa-pied-piper-alt\",\n\t\"fa-pied-piper-pp\",\n\t\"fa-pinterest\",\n\t\"fa-pinterest-p\",\n\t\"fa-pinterest-square\",\n\t\"fa-plane\",\n\t\"fa-play\",\n\t\"fa-play-circle\",\n\t\"fa-play-circle-o\",\n\t\"fa-plug\",\n\t\"fa-plus\",\n\t\"fa-plus-circle\",\n\t\"fa-plus-square\",\n\t\"fa-plus-square-o\",\n\t\"fa-podcast\",\n\t\"fa-power-off\",\n\t\"fa-print\",\n\t\"fa-product-hunt\",\n\t\"fa-puzzle-piece\",\n\t\"fa-qq\",\n\t\"fa-qrcode\",\n\t\"fa-question\",\n\t\"fa-question-circle\",\n\t\"fa-question-circle-o\",\n\t\"fa-quora\",\n\t\"fa-quote-left\",\n\t\"fa-quote-right\",\n\t\"fa-ra\",\n\t\"fa-random\",\n\t\"fa-ravelry\",\n\t\"fa-rebel\",\n\t\"fa-recycle\",\n\t\"fa-reddit\",\n\t\"fa-reddit-alien\",\n\t\"fa-reddit-square\",\n\t\"fa-refresh\",\n\t\"fa-registered\",\n\t\"fa-remove\",\n\t\"fa-renren\",\n\t\"fa-reorder\",\n\t\"fa-repeat\",\n\t\"fa-reply\",\n\t\"fa-reply-all\",\n\t\"fa-resistance\",\n\t\"fa-retweet\",\n\t\"fa-rmb\",\n\t\"fa-road\",\n\t\"fa-rocket\",\n\t\"fa-rotate-left\",\n\t\"fa-rotate-right\",\n\t\"fa-rouble\",\n\t\"fa-rss\",\n\t\"fa-rss-square\",\n\t\"fa-rub\",\n\t\"fa-ruble\",\n\t\"fa-rupee\",\n\t\"fa-s15\",\n\t\"fa-safari\",\n\t\"fa-save\",\n\t\"fa-scissors\",\n\t\"fa-scribd\",\n\t\"fa-search\",\n\t\"fa-search-minus\",\n\t\"fa-search-plus\",\n\t\"fa-sellsy\",\n\t\"fa-send\",\n\t\"fa-send-o\",\n\t\"fa-server\",\n\t\"fa-share\",\n\t\"fa-share-alt\",\n\t\"fa-share-alt-square\",\n\t\"fa-share-square\",\n\t\"fa-share-square-o\",\n\t\"fa-shekel\",\n\t\"fa-sheqel\",\n\t\"fa-shield\",\n\t\"fa-ship\",\n\t\"fa-shirtsinbulk\",\n\t\"fa-shopping-bag\",\n\t\"fa-shopping-basket\",\n\t\"fa-shopping-cart\",\n\t\"fa-shower\",\n\t\"fa-sign-in\",\n\t\"fa-sign-language\",\n\t\"fa-sign-out\",\n\t\"fa-signal\",\n\t\"fa-signing\",\n\t\"fa-simplybuilt\",\n\t\"fa-sitemap\",\n\t\"fa-skyatlas\",\n\t\"fa-skype\",\n\t\"fa-slack\",\n\t\"fa-sliders\",\n\t\"fa-slideshare\",\n\t\"fa-smile-o\",\n\t\"fa-snapchat\",\n\t\"fa-snapchat-ghost\",\n\t\"fa-snapchat-square\",\n\t\"fa-snowflake-o\",\n\t\"fa-soccer-ball-o\",\n\t\"fa-sort\",\n\t\"fa-sort-alpha-asc\",\n\t\"fa-sort-alpha-desc\",\n\t\"fa-sort-amount-asc\",\n\t\"fa-sort-amount-desc\",\n\t\"fa-sort-asc\",\n\t\"fa-sort-desc\",\n\t\"fa-sort-down\",\n\t\"fa-sort-numeric-asc\",\n\t\"fa-sort-numeric-desc\",\n\t\"fa-sort-up\",\n\t\"fa-soundcloud\",\n\t\"fa-space-shuttle\",\n\t\"fa-spinner\",\n\t\"fa-spoon\",\n\t\"fa-spotify\",\n\t\"fa-square\",\n\t\"fa-square-o\",\n\t\"fa-stack-exchange\",\n\t\"fa-stack-overflow\",\n\t\"fa-star\",\n\t\"fa-star-half\",\n\t\"fa-star-half-empty\",\n\t\"fa-star-half-full\",\n\t\"fa-star-half-o\",\n\t\"fa-star-o\",\n\t\"fa-steam\",\n\t\"fa-steam-square\",\n\t\"fa-step-backward\",\n\t\"fa-step-forward\",\n\t\"fa-stethoscope\",\n\t\"fa-sticky-note\",\n\t\"fa-sticky-note-o\",\n\t\"fa-stop\",\n\t\"fa-stop-circle\",\n\t\"fa-stop-circle-o\",\n\t\"fa-street-view\",\n\t\"fa-strikethrough\",\n\t\"fa-stumbleupon\",\n\t\"fa-stumbleupon-circle\",\n\t\"fa-subscript\",\n\t\"fa-subway\",\n\t\"fa-suitcase\",\n\t\"fa-sun-o\",\n\t\"fa-superpowers\",\n\t\"fa-superscript\",\n\t\"fa-support\",\n\t\"fa-table\",\n\t\"fa-tablet\",\n\t\"fa-tachometer\",\n\t\"fa-tag\",\n\t\"fa-tags\",\n\t\"fa-tasks\",\n\t\"fa-taxi\",\n\t\"fa-telegram\",\n\t\"fa-television\",\n\t\"fa-tencent-weibo\",\n\t\"fa-terminal\",\n\t\"fa-text-height\",\n\t\"fa-text-width\",\n\t\"fa-th\",\n\t\"fa-th-large\",\n\t\"fa-th-list\",\n\t\"fa-themeisle\",\n\t\"fa-thermometer\",\n\t\"fa-thermometer-0\",\n\t\"fa-thermometer-1\",\n\t\"fa-thermometer-2\",\n\t\"fa-thermometer-3\",\n\t\"fa-thermometer-4\",\n\t\"fa-thermometer-empty\",\n\t\"fa-thermometer-full\",\n\t\"fa-thermometer-half\",\n\t\"fa-thermometer-quarter\",\n\t\"fa-thermometer-three-quarters\",\n\t\"fa-thumb-tack\",\n\t\"fa-thumbs-down\",\n\t\"fa-thumbs-o-down\",\n\t\"fa-thumbs-o-up\",\n\t\"fa-thumbs-up\",\n\t\"fa-ticket\",\n\t\"fa-times\",\n\t\"fa-times-circle\",\n\t\"fa-times-circle-o\",\n\t\"fa-times-rectangle\",\n\t\"fa-times-rectangle-o\",\n\t\"fa-tint\",\n\t\"fa-toggle-down\",\n\t\"fa-toggle-left\",\n\t\"fa-toggle-off\",\n\t\"fa-toggle-on\",\n\t\"fa-toggle-right\",\n\t\"fa-toggle-up\",\n\t\"fa-trademark\",\n\t\"fa-train\",\n\t\"fa-transgender\",\n\t\"fa-transgender-alt\",\n\t\"fa-trash\",\n\t\"fa-trash-o\",\n\t\"fa-tree\",\n\t\"fa-trello\",\n\t\"fa-tripadvisor\",\n\t\"fa-trophy\",\n\t\"fa-truck\",\n\t\"fa-try\",\n\t\"fa-tty\",\n\t\"fa-tumblr\",\n\t\"fa-tumblr-square\",\n\t\"fa-turkish-lira\",\n\t\"fa-tv\",\n\t\"fa-twitch\",\n\t\"fa-twitter\",\n\t\"fa-twitter-square\",\n\t\"fa-umbrella\",\n\t\"fa-underline\",\n\t\"fa-undo\",\n\t\"fa-universal-access\",\n\t\"fa-university\",\n\t\"fa-unlink\",\n\t\"fa-unlock\",\n\t\"fa-unlock-alt\",\n\t\"fa-unsorted\",\n\t\"fa-upload\",\n\t\"fa-usb\",\n\t\"fa-usd\",\n\t\"fa-user\",\n\t\"fa-user-circle\",\n\t\"fa-user-circle-o\",\n\t\"fa-user-md\",\n\t\"fa-user-o\",\n\t\"fa-user-plus\",\n\t\"fa-user-secret\",\n\t\"fa-user-times\",\n\t\"fa-users\",\n\t\"fa-vcard\",\n\t\"fa-vcard-o\",\n\t\"fa-venus\",\n\t\"fa-venus-double\",\n\t\"fa-venus-mars\",\n\t\"fa-viacoin\",\n\t\"fa-viadeo\",\n\t\"fa-viadeo-square\",\n\t\"fa-video-camera\",\n\t\"fa-vimeo\",\n\t\"fa-vimeo-square\",\n\t\"fa-vine\",\n\t\"fa-vk\",\n\t\"fa-volume-control-phone\",\n\t\"fa-volume-down\",\n\t\"fa-volume-off\",\n\t\"fa-volume-up\",\n\t\"fa-warning\",\n\t\"fa-wechat\",\n\t\"fa-weibo\",\n\t\"fa-weixin\",\n\t\"fa-whatsapp\",\n\t\"fa-wheelchair\",\n\t\"fa-wheelchair-alt\",\n\t\"fa-wifi\",\n\t\"fa-wikipedia-w\",\n\t\"fa-window-close\",\n\t\"fa-window-close-o\",\n\t\"fa-window-maximize\",\n\t\"fa-window-minimize\",\n\t\"fa-window-restore\",\n\t\"fa-windows\",\n\t\"fa-won\",\n\t\"fa-wordpress\",\n\t\"fa-wpbeginner\",\n\t\"fa-wpexplorer\",\n\t\"fa-wpforms\",\n\t\"fa-wrench\",\n\t\"fa-xing\",\n\t\"fa-xing-square\",\n\t\"fa-y-combinator\",\n\t\"fa-y-combinator-square\",\n\t\"fa-yahoo\",\n\t\"fa-yc\",\n\t\"fa-yc-square\",\n\t\"fa-yelp\",\n\t\"fa-yen\",\n\t\"fa-yoast\",\n\t\"fa-youtube\",\n\t\"fa-youtube-play\",\n\t\"fa-youtube-square\",\n];\n\nexport default fontAwesome;\n","import fontAwesomeList from \"./fa-icons\";\nimport {\n\tName,\n\tType,\n\tTitle,\n\tDefaultValue,\n\tAppBuilder,\n\tHelp,\n\tSequence,\n\tRoles,\n\tValueExpression,\n\tSelection,\n\tWidget,\n\tOnChange,\n\tMin,\n\tMax,\n\tJsonRelationalField,\n\tDomain,\n\tTargetJsonModel,\n\tTargetModel,\n\tGridView,\n\tFormView,\n\tRequired,\n\tColumnSequence,\n\tReadOnly,\n\tHidden,\n\tVisibleInGrid,\n\tShowIf,\n\tHideIf,\n\tIf,\n\tRequiredIf,\n\tReadOnlyIf,\n\tIncludeIf,\n\tValidIf,\n\tColSpan,\n\tShowTitle,\n\tOnNew,\n\tEditable,\n\tDummyType,\n\tCanSearch,\n\tAction,\n\tIfModule,\n\tHeight,\n\tField,\n\tCanMove,\n\tOrderBy,\n\tIncludeFrom,\n\tIncludeView,\n\tTransient,\n\tMassUpdate,\n\tColumn,\n\tFormula,\n\tIndex,\n\tDefault,\n\tUnique,\n\tInitParam,\n\tHashKey,\n\tLarge,\n\tMultiline,\n\tTranslatable,\n\tPassword,\n\tEncrypted,\n\tSearch,\n\tPrecision,\n\tScale,\n\tTZ,\n\tImage,\n\tOrphanRemoval,\n\tRef,\n\tMappedBy,\n\tCachable,\n\tSequential,\n\tRepository,\n\tLogUpdates,\n\tLang,\n\tImplements,\n\tTable,\n\tPersistable,\n\tStrategy,\n\tHashAll,\n\tExtends,\n\tIsGenerateMenu,\n\tMenuBuilderParent,\n\tMenuBuilderTitle,\n\tPackageName,\n\tEntitySelection,\n\tModel,\n\tStrong,\n\tColor,\n\tBackground,\n\tItemSpan,\n\tCss,\n\tPrompt,\n\tSelectionIn,\n\tValueAdd,\n\tValueDel,\n\tActive,\n\tRefresh,\n\tValue,\n\tSidebar,\n\tSelectionText,\n\tUpdateSelection,\n} from \"./propertyFields\";\nimport {\n\tStringField,\n\tIntegerField,\n\tStaticSelectField,\n\tSelectField,\n\tBooleanField,\n} from \"./fieldTypes\";\nimport { MODEL_TYPE } from \"./../constants\";\n\n/** Options */\nconst stringOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tSelection,\n\t\tUpdateSelection,\n\t\tSelectionText,\n\t\tSelectionIn,\n\t\tWidget,\n\t\tOnChange,\n\t\tMin,\n\t\tMax,\n\t\tStringField({ name: \"regex\", dependModelType: MODEL_TYPE.CUSTOM }),\n\t\tValue,\n\t],\n\tuiOptions: [\n\t\tRequired,\n\t\tReadOnly,\n\t\tBooleanField({\n\t\t\tname: \"nameField\",\n\t\t\ttitle: \"Name column\",\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\tHidden,\n\t\tVisibleInGrid,\n\t\tColumnSequence,\n\t\tCss,\n\t],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [\n\t\tColSpan,\n\t\tShowTitle,\n\t\tBooleanField({\n\t\t\tname: \"multiline\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t],\n};\n\nconst integerOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tSelection,\n\t\tUpdateSelection,\n\t\tSelectionText,\n\t\tSelectionIn,\n\t\tWidget,\n\t\tOnChange,\n\t\tMin,\n\t\tMax,\n\t\tValue,\n\t],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst decimalOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tWidget,\n\t\tOnChange,\n\t\tMin,\n\t\tMax,\n\t\tIntegerField({\n\t\t\tname: \"precision\",\n\t\t\tdefault: 6,\n\t\t}),\n\t\tIntegerField({\n\t\t\tname: \"scale\",\n\t\t\tdefault: 2,\n\t\t}),\n\t\tValue,\n\t],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst booleanOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [Widget, OnChange, Value],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst datetimeOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [Widget, OnChange, Value],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst panelOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, AppBuilder],\n\tuiOptions: [\n\t\tReadOnly,\n\t\tHidden,\n\t\tSidebar,\n\t\tBooleanField({\n\t\t\tname: \"canCollapse\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\tStringField({\n\t\t\tname: \"collapseIf\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\tColumnSequence,\n\t\tCss,\n\t\tActive,\n\t],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf],\n\troles: [Roles],\n\twidgetAttributes: [ItemSpan, ShowTitle],\n};\n\nconst panelStackOption = {\n\toverview: [Name({ existsCheck: true }), Type, AppBuilder],\n\tuiOptions: [\n\t\tReadOnly,\n\t\tHidden,\n\t\tSidebar,\n\t\tBooleanField({\n\t\t\tname: \"canCollapse\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\tStringField({\n\t\t\tname: \"collapseIf\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\tColumnSequence,\n\t\tCss,\n\t],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan],\n};\n\nconst panelTabOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, AppBuilder],\n\tuiOptions: [ReadOnly, Hidden, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf],\n\troles: [Roles],\n\twidgetAttributes: [ShowTitle],\n};\n\nconst buttonOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t\tPrompt,\n\t],\n\tfieldOptions: [\n\t\tWidget,\n\t\tSelectField({\n\t\t\tname: \"onClick\",\n\t\t\ttitle: \"On click\",\n\t\t\trequired: true,\n\t\t\tref: \"com.axelor.meta.db.MetaAction\",\n\t\t\trequiredFor: [\"button\"],\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t\tmultiple: true,\n\t\t\tcommaSeparated: true,\n\t\t\tcanAddNew: true,\n\t\t}),\n\t],\n\tuiOptions: [ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\troles: [Roles],\n\twidgetAttributes: [\n\t\tColSpan,\n\t\tShowTitle,\n\t\tStaticSelectField({\n\t\t\tname: \"icon\",\n\t\t\ttitle: \"Icon\",\n\t\t\tdata: fontAwesomeList,\n\t\t\thelper: \"https://fontawesome.com/cheatsheet\",\n\t\t\tparentField: \"widgetAttrs\",\n\t\t\tmodelType: MODEL_TYPE.CUSTOM,\n\t\t}),\n\t\t// StaticSelectField({\n\t\t// \tname: \"color\",\n\t\t// \tdata: [\n\t\t// \t\t\"btn-default\",\n\t\t// \t\t\"btn-warning\",\n\t\t// \t\t\"btn-info\",\n\t\t// \t\t\"btn-success\",\n\t\t// \t\t\"btn-primary\",\n\t\t// \t\t\"btn-danger\",\n\t\t// \t],\n\t\t// \ttitle: \"Color\",\n\t\t// }),\n\t],\n};\n\nconst seperatorOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tuiOptions: [Hidden, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan],\n};\n\nconst spacerOption = {\n\toverview: [Name({ existsCheck: true }), Type, AppBuilder],\n\tfieldOptions: [],\n\tuiOptions: [Hidden, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, ValidIf],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan],\n};\n\nconst labelOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, AppBuilder],\n\tfieldOptions: [Widget],\n\tuiOptions: [Required, Hidden, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst viewerOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, AppBuilder],\n\tfieldOptions: [Widget],\n\tuiOptions: [Required, Hidden, ReadOnly, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst manyToOneOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tDefaultValue,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tWidget,\n\t\tOnChange,\n\t\tJsonRelationalField,\n\t\tDomain,\n\t\tTargetModel,\n\t\tGridView,\n\t\tFormView,\n\t\tValue,\n\t],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst manyToManyAndOneToManyOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tWidget,\n\t\tOnChange,\n\t\tJsonRelationalField,\n\t\tDomain,\n\t\tTargetModel,\n\t\tGridView,\n\t\tFormView,\n\t\tValueAdd,\n\t\tValueDel,\n\t\tValue,\n\t],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst customRelationOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tTitle,\n\t\tAppBuilder,\n\t\tHelp,\n\t\tSequence,\n\t],\n\tfieldOptions: [\n\t\tWidget,\n\t\tOnChange,\n\t\tJsonRelationalField,\n\t\tDomain,\n\t\tTargetJsonModel,\n\t\tValue,\n\t],\n\tuiOptions: [Required, ReadOnly, Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, RequiredIf, ReadOnlyIf, IncludeIf, ValidIf],\n\tvalueExpr: [ValueExpression],\n\troles: [Roles],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst formOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\t{ ...Title, required: true },\n\t\tAppBuilder,\n\t\tStaticSelectField({\n\t\t\tname: \"formWidth\",\n\t\t\ttitle: \"Form width\",\n\t\t\tdata: [\"large\"],\n\t\t}),\n\t\tStringField({\n\t\t\tname: \"orderBy\",\n\t\t\ttitle: \"Order by\",\n\t\t}),\n\t\tIsGenerateMenu,\n\t\tMenuBuilderParent,\n\t\tMenuBuilderTitle,\n\t],\n\tactions: [\n\t\tSelectField({\n\t\t\ttitle: \"On new\",\n\t\t\tname: \"onNew\",\n\t\t\tref: \"com.axelor.meta.db.MetaAction\",\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t\tmultiple: true,\n\t\t\tcommaSeparated: true,\n\t\t\tcanAddNew: true,\n\t\t}),\n\t\tSelectField({\n\t\t\ttitle: \"On save\",\n\t\t\tname: \"onSave\",\n\t\t\tref: \"com.axelor.meta.db.MetaAction\",\n\t\t\tdependModelType: MODEL_TYPE.CUSTOM,\n\t\t\tmultiple: true,\n\t\t\tcommaSeparated: true,\n\t\t\tcanAddNew: true,\n\t\t}),\n\t],\n};\n\nconst commonOption = {\n\toverview: [Name(), Type, Title, AppBuilder],\n\tuiOptions: [Hidden, VisibleInGrid, ColumnSequence, Css],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf, IncludeIf, ValidIf],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst dummyOption = {\n\toverview: [Name(), DummyType],\n};\nconst viewOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\t{ ...Title, readOnly: true, translationView: false },\n\t\t// Editable,\n\t\t// OnNew,\n\t\t// OnSave,\n\t\t// OnLoad,\n\t\t// CanAttach,\n\t\t// CanCopy,\n\t\t// CanDelete,\n\t\t// CanEdit,\n\t\t// CanNew,\n\t\t// CanSave,\n\t\t// FormWidth,\n\t],\n};\n\nconst gridOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, Model, Editable],\n};\n\nconst panelDashletOption = {\n\toverview: [\n\t\tName({ existsCheck: true }),\n\t\tType,\n\t\tAction,\n\t\tTitle,\n\t\tCanSearch,\n\t\tIfModule,\n\t],\n\tuiOptions: [ReadOnly, Hidden, Height, Css, Refresh],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst menuItemOption = {\n\toverview: [Name({ existsCheck: true }), Type, Action],\n\t// conditions: [If, ShowIf, HideIf, ReadOnlyIf],\n\twidgetAttributes: [ShowTitle],\n};\n\nconst dividerOption = {\n\toverview: [Name({ existsCheck: true }), Type],\n\tconditions: [If, ShowIf, HideIf, IfModule],\n};\n\nconst menuOption = {\n\toverview: [Name({ existsCheck: true }), Type],\n\twidgetAttributes: [\n\t\tShowTitle,\n\t\t// StaticSelectField({\n\t\t// \tname: \"icon\",\n\t\t// \ttitle: \"Icon\",\n\t\t// \tdata: fontAwesomeList,\n\t\t// \thelper: \"https://fontawesome.com/cheatsheet\",\n\t\t// })\n\t],\n\tconditions: [If, IfModule, IncludeIf],\n};\n\nconst panelRelatedOption = {\n\toverview: [Name({ existsCheck: true }), Type, Title, Field, OnNew, OnChange],\n\tuiOptions: [FormView, GridView, Height, Editable, ReadOnly, Hidden, Css],\n\tconditions: [ShowIf, HideIf, ReadOnlyIf, ValidIf, CanMove, OrderBy],\n\twidgetAttributes: [ColSpan, ShowTitle],\n};\n\nconst panelIncludeOption = {\n\toverview: [Type, IncludeView, IncludeFrom, IfModule],\n\twidgetAttributes: [ShowTitle],\n};\n\nconst commonEntityOption = [\n\tName({ existsCheck: true }),\n\tType,\n\tTitle,\n\tHelp,\n\tColumn,\n\tIndex,\n\tDefault,\n\tRequired,\n\tReadOnly,\n\tUnique,\n\tHidden,\n\tTransient,\n\tInitParam,\n\tHashKey,\n\tMassUpdate,\n\tFormula,\n];\n\nconst stringEntity = {\n\toverview: [\n\t\t...commonEntityOption,\n\t\tBooleanField({\n\t\t\tname: \"namecolumn\",\n\t\t\ttitle: \"Name column\",\n\t\t}),\n\t\tEntitySelection,\n\t\tMin,\n\t\tMax,\n\t\tLarge,\n\t\tSearch,\n\t\tSequence,\n\t\tMultiline,\n\t\tTranslatable,\n\t\tPassword,\n\t\tEncrypted,\n\t],\n};\n\nconst decimalEntity = {\n\toverview: [\n\t\t...commonEntityOption,\n\t\tEntitySelection,\n\t\tMin,\n\t\tMax,\n\t\tPrecision,\n\t\tScale,\n\t],\n};\n\nconst integerEntity = {\n\toverview: [...commonEntityOption, EntitySelection, Min, Max],\n};\n\nconst dateEntity = {\n\toverview: [...commonEntityOption, EntitySelection],\n};\n\nconst timeEntity = {\n\toverview: [...commonEntityOption, EntitySelection],\n};\n\nconst datetimeEntity = {\n\toverview: [...commonEntityOption, EntitySelection, TZ],\n};\n\nconst longEntity = {\n\toverview: [...commonEntityOption, EntitySelection, Min, Max],\n};\n\nconst booleanEntity = {\n\toverview: [...commonEntityOption, EntitySelection],\n};\n\nconst binaryEntity = {\n\toverview: [...commonEntityOption, EntitySelection, Image, Encrypted],\n};\n\nconst oneToManyEntity = {\n\toverview: [...commonEntityOption, Ref, MappedBy, OrderBy, OrphanRemoval],\n};\n\nconst manyToManyEntity = {\n\toverview: [...commonEntityOption, Ref, MappedBy, OrderBy],\n};\n\nconst manyToOneEntity = {\n\toverview: [...commonEntityOption, Ref],\n};\n\nconst oneToOneEntity = {\n\toverview: [...commonEntityOption, Ref, MappedBy],\n};\n\nconst entityOption = {\n\toverview: [\n\t\tPackageName,\n\t\tName({ existsCheck: true }),\n\t\tSequential,\n\t\tCachable,\n\t\tRepository,\n\t\tLogUpdates,\n\t\tPersistable,\n\t\tLang,\n\t\tExtends,\n\t\tImplements,\n\t\tTable,\n\t\tStrategy,\n\t\tHashAll,\n\t],\n};\n\nconst hiliteOption = {\n\toverview: [Name({ existsCheck: true }), If, Color, Background, Strong, Css],\n};\n\nexport const options = [\n\t{ type: \"form\", value: viewOption },\n\t{ type: \"grid\", value: gridOption },\n\t{ type: \"modelForm\", value: formOption },\n\t{ type: \"entityForm\", value: entityOption },\n\t{ type: \"string\", value: stringOption },\n\t{ type: \"byte[]\", value: stringOption },\n\t{ type: \"integer\", value: integerOption },\n\t{ type: \"number\", value: integerOption },\n\t{ type: \"decimal\", value: decimalOption },\n\t{ type: \"bigdecimal\", value: decimalOption },\n\t{ type: \"boolean\", value: booleanOption },\n\t{ type: \"datetime\", value: datetimeOption },\n\t{ type: \"localdatetime\", value: datetimeOption },\n\t{ type: \"zoneddatetime\", value: datetimeOption },\n\t{ type: \"date\", value: datetimeOption },\n\t{ type: \"localdate\", value: datetimeOption },\n\t{ type: \"time\", value: datetimeOption },\n\t{ type: \"panel\", value: panelOption, dependModelType: MODEL_TYPE.BASE },\n\t{ type: \"panel-stack\", value: panelStackOption },\n\t{ type: \"panel-tab\", value: panelTabOption },\n\t{ type: \"button\", value: buttonOption },\n\t{ type: \"separator\", value: seperatorOption },\n\t{ type: \"spacer\", value: spacerOption },\n\t{ type: \"label\", value: labelOption },\n\t{ type: \"many-to-one\", value: manyToOneOption },\n\t{ type: \"many-to-many\", value: manyToManyAndOneToManyOption },\n\t{ type: \"one-to-many\", value: manyToManyAndOneToManyOption },\n\t{ type: \"json-many-to-one\", value: customRelationOption },\n\t{ type: \"json-many-to-many\", value: customRelationOption },\n\t{ type: \"json-one-to-many\", value: customRelationOption },\n\t{ type: \"include\", value: formOption },\n\t{ type: \"panel-tabs\", value: panelTabOption, showInCustomField: false },\n\t{ type: \"panel-dashlet\", value: panelDashletOption },\n\t{ type: \"panel-related\", value: panelRelatedOption },\n\t{ type: \"panel-include\", value: panelIncludeOption },\n\t{ type: \"text\", value: commonOption },\n\t{ type: \"long\", value: decimalOption },\n\t{ type: \"panel-dashlet\", value: commonOption },\n\t{ type: \"dashlet\", value: commonOption },\n\t{ type: \"static\", value: commonOption },\n\t{ type: \"one-to-one\", value: manyToOneOption },\n\t{ type: \"binary\", value: commonOption },\n\t{ type: \"field\", value: commonOption },\n\t{ type: \"dummy\", value: dummyOption },\n\t{ type: \"viewer\", value: viewerOption },\n\t{ type: \"editor\", value: labelOption },\n\t{ type: \"byte[]entity\", value: stringEntity },\n\t{ type: \"stringentity\", value: stringEntity },\n\t{ type: \"integerentity\", value: integerEntity },\n\t{ type: \"decimalentity\", value: decimalEntity },\n\t{ type: \"bigdecimalentity\", value: decimalEntity },\n\t{ type: \"dateentity\", value: dateEntity },\n\t{ type: \"localdateentity\", value: dateEntity },\n\t{ type: \"timeentity\", value: timeEntity },\n\t{ type: \"datetimeentity\", value: datetimeEntity },\n\t{ type: \"localdatetimeentity\", value: datetimeEntity },\n\t{ type: \"zoneddatetimeentity\", value: datetimeEntity },\n\t{ type: \"longentity\", value: longEntity },\n\t{ type: \"booleanentity\", value: booleanEntity },\n\t{ type: \"binaryentity\", value: binaryEntity },\n\t{ type: \"many-to-oneentity\", value: manyToOneEntity },\n\t{ type: \"many-to-manyentity\", value: manyToManyEntity },\n\t{ type: \"one-to-manyentity\", value: oneToManyEntity },\n\t{ type: \"one-to-oneentity\", value: oneToOneEntity },\n\t{ type: \"menu\", value: menuOption },\n\t{ type: \"item\", value: menuItemOption },\n\t{ type: \"divider\", value: dividerOption },\n\t{ type: \"hilite\", value: hiliteOption },\n];\n\nexport default options;\n","/** Set field types */\nexport const StringField = ({ ...props }) => ({\n\ttype: \"string\",\n\t...props,\n});\n\nexport const ObjectSelectionField = ({ ...props }) => ({\n\ttype: \"objectSelection\",\n\t...props,\n});\n\nexport const IntegerField = ({ ...props }) => ({\n\ttype: \"integer\",\n\t...props,\n});\n\nexport const SelectField = ({ ...props }) => ({\n\ttype: \"select\",\n\tvalueField: \"name\",\n\t...props,\n});\n\nexport const StaticSelectField = ({ ...props }) => ({\n\ttype: \"staticSelect\",\n\t...props,\n});\n\nexport const BooleanField = ({ ...props }) => ({\n\ttype: \"boolean\",\n\t...props,\n});\n\nexport default {\n\tStringField,\n\tObjectSelectionField,\n\tIntegerField,\n\tSelectField,\n\tStaticSelectField,\n\tBooleanField,\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Grid from \"./Grid\";\nimport { TYPE } from \"../constants\";\nimport { translate } from \"../utils\";\n\n/**\n * Panel Component\n * Used As Container to group Field Component like form group\n */\nfunction PanelComponent({ id, attrs, design, isTab = false, ...rest }) {\n\tconst errors = rest.errorList[id] || {};\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{(attrs.title ||\n\t\t\t\t[TYPE.toolbar, TYPE.menubar].includes(attrs.serverType)) && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\"panel-header\", {\n\t\t\t\t\t\tinline: isTab,\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{translate(attrs.title || attrs.autoTitle)}\n\t\t\t\t\t{attrs.serverType === TYPE.toolbar && (\n\t\t\t\t\t\t<i className=\"fa fa-wrench\" title=\"toolbar\" />\n\t\t\t\t\t)}\n\t\t\t\t\t{attrs.serverType === TYPE.menubar && (\n\t\t\t\t\t\t<i className=\"fa fa-bars\" title=\"menubar\" />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{errors.items && !isTab && (\n\t\t\t\t<div className={classNames(\"panel-children-error\")}>{errors.items}</div>\n\t\t\t)}\n\t\t\t{!isTab && (\n\t\t\t\t<Grid\n\t\t\t\t\tdesign={design}\n\t\t\t\t\tclassName=\"panel-body\"\n\t\t\t\t\titems={attrs.items || []}\n\t\t\t\t\tattrs={attrs}\n\t\t\t\t\tpanelId={id}\n\t\t\t\t\t_type={rest._type}\n\t\t\t\t\terrorList={rest.errorList}\n\t\t\t\t\tcanRemove={rest.canRemove}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nexport default React.memo(PanelComponent);\n","import { getExtendJson2, getWidgetObject } from \"./extensionGenerator\";\nimport { MODEL_TYPE } from \"./../constants\";\nimport Utils from \"./../utils\";\n\nfunction setAttributeOnNewWidget(items, widget, widgetId, state) {\n\tconst widgets = state.widgets;\n\tlet inserted = false;\n\tconst getWidgetName = () => widgets[widgetId] && widgets[widgetId].name;\n\tfor (let i = 0; i < items.length; i++) {\n\t\tconst item = items[i];\n\t\tif (item.name === getWidgetName()) {\n\t\t\titem[widget.attributes.name] = widget.attributes.value;\n\t\t\tinserted = true;\n\t\t}\n\t\tif (inserted) {\n\t\t\tbreak;\n\t\t}\n\t\tif (item.items && item.items.length) {\n\t\t\tconst _inserted = setAttributeOnNewWidget(\n\t\t\t\titem.items,\n\t\t\t\twidget,\n\t\t\t\twidgetId,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tif (_inserted) {\n\t\t\t\tinserted = _inserted;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inserted;\n}\n\nexport function generateExtension(list, state) {\n\tconst cleatVirtualAction = () => {\n\t\tconst exemptedAttributes = [\n\t\t\t\"widgetAttrs\",\n\t\t\t\"items\",\n\t\t\t\"current\",\n\t\t\t\"elements\",\n\t\t\t\"tz\",\n\t\t\t\"targetModel\",\n\t\t\t\"_type\",\n\t\t];\n\t\t[...list].forEach((item, i) => {\n\t\t\tif (item.name === \"insert\") {\n\t\t\t\tconst id = item.id;\n\t\t\t\tconst removeIndex = list.findIndex(\n\t\t\t\t\t(item) => item.name === \"replace\" && item.id === id && !item.target\n\t\t\t\t);\n\t\t\t\tconst insertIndex = list.findIndex(\n\t\t\t\t\t(item) => item.id === id && item.name === \"insert\"\n\t\t\t\t);\n\t\t\t\tif (removeIndex !== -1) {\n\t\t\t\t\tlist.splice(removeIndex, 1);\n\t\t\t\t\tlist.splice(insertIndex, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (item.name === \"attribute\") {\n\t\t\t\tconst id = item.id;\n\t\t\t\t// set blank values for default value\n\t\t\t\tif (\n\t\t\t\t\titem.attributes &&\n\t\t\t\t\tUtils.isDefaultValue(item.attributes.name, item.attributes.value)\n\t\t\t\t) {\n\t\t\t\t\tconst attrIndex = list.findIndex(\n\t\t\t\t\t\t(e) =>\n\t\t\t\t\t\t\te.id === id &&\n\t\t\t\t\t\t\te.name === \"attribute\" &&\n\t\t\t\t\t\t\te.attributes.name === item.attributes.name\n\t\t\t\t\t);\n\t\t\t\t\tlist.splice(attrIndex, 1, {\n\t\t\t\t\t\t...list[attrIndex],\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t...list[attrIndex].attributes,\n\t\t\t\t\t\t\tvalue: item.attributes.value,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\titem.attributes &&\n\t\t\t\t\texemptedAttributes.includes(item.attributes.name)\n\t\t\t\t) {\n\t\t\t\t\tconst attrIndex = list.findIndex(\n\t\t\t\t\t\t(item) =>\n\t\t\t\t\t\t\titem.id === id &&\n\t\t\t\t\t\t\titem.name === \"attribute\" &&\n\t\t\t\t\t\t\texemptedAttributes.includes(item.attributes.name)\n\t\t\t\t\t);\n\t\t\t\t\tlist.splice(attrIndex, 1);\n\t\t\t\t} else {\n\t\t\t\t\tlet processed = false;\n\t\t\t\t\tconst getWidgetName = () =>\n\t\t\t\t\t\tstate.widgets[id] && state.widgets[id].name;\n\t\t\t\t\tfor (let k = 0; k < state.extensionMoves.length; k++) {\n\t\t\t\t\t\tconst move = state.extensionMoves[k];\n\t\t\t\t\t\tif (move.name === \"insert\") {\n\t\t\t\t\t\t\tconst { elements } = move;\n\t\t\t\t\t\t\tfor (let j = 0; j < elements.length; j++) {\n\t\t\t\t\t\t\t\tconst element = elements[j];\n\t\t\t\t\t\t\t\tif (element.name === getWidgetName()) {\n\t\t\t\t\t\t\t\t\tstate.extensionMoves[k].elements[j][item.attributes.name] =\n\t\t\t\t\t\t\t\t\t\titem.attributes.value;\n\t\t\t\t\t\t\t\t\tprocessed = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (element.items && element.items.length) {\n\t\t\t\t\t\t\t\t\tlet inserted = setAttributeOnNewWidget(\n\t\t\t\t\t\t\t\t\t\telement.items,\n\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\tstate\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (inserted) {\n\t\t\t\t\t\t\t\t\t\tprocessed = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (processed) {\n\t\t\t\t\t\t\tconst attrIndex = list.findIndex(\n\t\t\t\t\t\t\t\t(item) => item.id === id && item.name === \"attribute\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tlist.splice(attrIndex, 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\tcleatVirtualAction();\n\tstate.extensionMoves.push(...list);\n}\n\nconst generateNestedView = (items) => {\n\tconst _items = items.map((item) => {\n\t\tlet _subItems = [];\n\t\tif (item.items) {\n\t\t\t_subItems = generateNestedView(item.items);\n\t\t}\n\t\treturn getWidgetObject(\n\t\t\t{ ...item, elements: _subItems },\n\t\t\t[],\n\t\t\tnull,\n\t\t\tMODEL_TYPE.BASE\n\t\t);\n\t});\n\n\treturn _items;\n};\n\nexport function getXML(extensionMoves, state) {\n\tconst patches = extensionMoves\n\t\t.map((move) => {\n\t\t\tlet fields;\n\t\t\tif (move.name === \"insert\") {\n\t\t\t\tfields = move.elements\n\t\t\t\t\t.map((field) => {\n\t\t\t\t\t\tif (field && field.items && field.items.length) {\n\t\t\t\t\t\t\tconst f = { ...field };\n\t\t\t\t\t\t\tf.elements = generateNestedView(field.items);\n\t\t\t\t\t\t\treturn f;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn field;\n\t\t\t\t\t})\n\t\t\t\t\t.filter((e) => e);\n\t\t\t}\n\t\t\tif (!move.target) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn getExtendJson2({\n\t\t\t\ttarget: move.target,\n\t\t\t\tposition: move.position,\n\t\t\t\tsource: move.source,\n\t\t\t\ttype: move.name,\n\t\t\t\twidgetAttrs: fields,\n\t\t\t\t...move.attributes,\n\t\t\t});\n\t\t})\n\t\t.filter((e) => e);\n\treturn patches;\n}\n\nfunction insertOnNewPanel(items, widget, panelId, state) {\n\tconst widgets = state.widgets;\n\tlet inserted = false;\n\tconst getPanelName = () => widgets[panelId].name;\n\tfor (let i = 0; i < items.length; i++) {\n\t\tconst item = items[i];\n\t\tif (item.name === getPanelName()) {\n\t\t\tif (item.items) {\n\t\t\t\titem.items.push(widget);\n\t\t\t} else {\n\t\t\t\titem.items = [widget];\n\t\t\t}\n\t\t\tinserted = true;\n\t\t}\n\t\tif (inserted) {\n\t\t\tbreak;\n\t\t}\n\t\tif (item.items && item.items.length) {\n\t\t\tconst _inserted = insertOnNewPanel(item.items, widget, panelId, state);\n\t\t\tif (_inserted) {\n\t\t\t\tinserted = _inserted;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inserted;\n}\n\nexport function processMoves(state, widget, id, panelId) {\n\tconst list = [];\n\tlet processed = false;\n\tconst widgets = state.widgets;\n\tconst getPanelName = () => widgets[panelId].name;\n\tfor (let i = 0; i < state.extensionMoves.length; i++) {\n\t\tconst move = state.extensionMoves[i];\n\t\tif (move.name === \"insert\") {\n\t\t\tconst { elements } = move;\n\t\t\tfor (let j = 0; j < elements.length; j++) {\n\t\t\t\tconst element = elements[j];\n\t\t\t\tif (\n\t\t\t\t\telement.name === getPanelName() &&\n\t\t\t\t\telement.items &&\n\t\t\t\t\telement.items.length === 0\n\t\t\t\t) {\n\t\t\t\t\tstate.extensionMoves[i].elements[j].items.push(widget);\n\t\t\t\t\tprocessed = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (element.items && element.items.length) {\n\t\t\t\t\tlet inserted = insertOnNewPanel(\n\t\t\t\t\t\telement.items,\n\t\t\t\t\t\twidget,\n\t\t\t\t\t\tpanelId,\n\t\t\t\t\t\tstate\n\t\t\t\t\t);\n\t\t\t\t\tif (inserted) {\n\t\t\t\t\t\tprocessed = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (processed) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (processed) {\n\t\tif (widget.xPath) {\n\t\t\tlist.push({ name: \"replace\", target: widget.xPath });\n\t\t}\n\t}\n\treturn list;\n}\n","import properties from \"./../Properties/list\";\nimport { MODEL_TYPE, TYPE } from \"./../constants\";\nimport { translate } from \"../utils\";\n\nexport function validate(field, modelType, isCustomField = false) {\n\tconst errors = {};\n\tlet selectedType =\n\t\tfield.serverType === \"field\" ? field.type : field.serverType || field.type;\n\tselectedType = selectedType && selectedType.toLowerCase().replace(/_/g, \"-\");\n\tlet property = properties.find((option) => option.type === selectedType);\n\tif (selectedType === \"form\") {\n\t\tif (modelType === MODEL_TYPE.CUSTOM) {\n\t\t\tproperty = properties.find((option) => option.type === \"modelForm\");\n\t\t} else if (modelType === MODEL_TYPE.ENTITY) {\n\t\t\tproperty = properties.find((option) => option.type === \"entityForm\");\n\t\t}\n\t}\n\tif (\n\t\t!isCustomField &&\n\t\tmodelType === MODEL_TYPE.BASE &&\n\t\t[\n\t\t\tTYPE.panel,\n\t\t\tTYPE.panelStack,\n\t\t\tTYPE.tabs,\n\t\t\tTYPE.menu,\n\t\t\tTYPE.menubar,\n\t\t\tTYPE.toolbar,\n\t\t].includes(selectedType)\n\t) {\n\t\tif (field.items && field.items.length === 0) {\n\t\t\tconst message =\n\t\t\t\tselectedType === TYPE.menu\n\t\t\t\t\t? translate(\"Atleast one menu item required\")\n\t\t\t\t\t: translate(\"Atleast one children required\");\n\t\t\terrors[\"items\"] = message;\n\t\t}\n\t}\n\tif (!property) {\n\t\treturn errors;\n\t}\n\tconst propertyList = Object.keys(property.value).reduce((lst = [], key) => {\n\t\treturn [...lst, ...property.value[key]];\n\t}, []);\n\tpropertyList.forEach((property) => {\n\t\tconst addErrorMessage = () => {\n\t\t\terrors[property.name] = `${translate(\n\t\t\t\tproperty.title || property.name\n\t\t\t)} ${translate(\"required\")}`;\n\t\t};\n\t\tif (\n\t\t\t(property.requiredFor &&\n\t\t\t\tproperty.requiredFor.includes(selectedType) &&\n\t\t\t\t!field[property.name]) ||\n\t\t\t(property.required && !field[property.name])\n\t\t) {\n\t\t\taddErrorMessage();\n\t\t}\n\t\tif (\n\t\t\tproperty.requiredWhen &&\n\t\t\t(property.requiredNegation\n\t\t\t\t? !field[property.requiredWhen]\n\t\t\t\t: field[property.requiredWhen]) &&\n\t\t\t!field[property.name]\n\t\t) {\n\t\t\tif (field.isSelectionField) {\n\t\t\t\taddErrorMessage();\n\t\t\t} else if ([\"menuBuilderTitle\"].includes(property.name)) {\n\t\t\t\taddErrorMessage();\n\t\t\t} else if (\n\t\t\t\t[\"selectionText\"].includes(property.name) &&\n\t\t\t\tfield.updateSelection\n\t\t\t) {\n\t\t\t\taddErrorMessage();\n\t\t\t}\n\t\t}\n\t\tif (property.regex) {\n\t\t\tconst re = new RegExp(property.regex);\n\t\t\tif (!re.test(field[property.name]) && !errors[property.name]) {\n\t\t\t\terrors[property.name] = translate(property.regexErrorMessage);\n\t\t\t}\n\t\t}\n\t});\n\treturn errors;\n}\n\nexport function validateParentPanelItems(state, panelId) {\n\tconst panel = state.widgets[panelId];\n\tconst errors = state.errorList[panelId] || {};\n\tif (panel) {\n\t\tif (panel.items && panel.items.length > 0) {\n\t\t\tif (errors.items) {\n\t\t\t\tdelete errors.items;\n\t\t\t}\n\t\t} else {\n\t\t\terrors.items = translate(\"Atleast one children required\");\n\t\t}\n\t\tif (Object.keys(errors).length) {\n\t\t\tstate.errorList[panelId] = errors;\n\t\t} else {\n\t\t\tdelete state.errorList[panelId];\n\t\t}\n\t}\n}\n\nexport function validateOnRemove(state, id) {\n\tconst errors = state.errorList[id];\n\tif (errors) {\n\t\tdelete state.errorList[id];\n\t}\n}\n","import {\n\tTYPE,\n\tIDS,\n\tItemTypes,\n\tentityFieldTypes as entityTypes,\n} from \"./constants\";\n\nexport const fieldTypes = [\n\t{\n\t\tname: \"Common\",\n\t\tvalue: [\n\t\t\t{\n\t\t\t\tname: \"label\",\n\t\t\t\ttitle: \"Label\",\n\t\t\t\ttype: \"label\",\n\t\t\t\timage: \"label.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tserverType: \"label\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"button\",\n\t\t\t\ttype: \"button\",\n\t\t\t\ttitle: \"Button\",\n\t\t\t\timage: \"button.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tserverType: \"button\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"separator\",\n\t\t\t\ttype: \"separator\",\n\t\t\t\ttitle: \"Separator\",\n\t\t\t\timage: \"seperator.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tserverType: \"separator\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"spacer\",\n\t\t\t\ttype: \"spacer\",\n\t\t\t\ttitle: \"Spacer\",\n\t\t\t\tserverType: \"spacer\",\n\t\t\t\timage: \"line_spacing.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"selection\",\n\t\t\t\ttitle: \"Selection\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\timage: \"integer.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tserverType: \"string\",\n\t\t\t\tisSelectionField: true,\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: \"Panels\",\n\t\tvalue: [\n\t\t\t{\n\t\t\t\tname: \"panel\",\n\t\t\t\ttype: ItemTypes.CONTAINER,\n\t\t\t\titems: [],\n\t\t\t\timage: \"panel.png\",\n\t\t\t\tid: IDS.createWidgets.panel,\n\t\t\t\tserverType: TYPE.panel,\n\t\t\t\tcols: 12,\n\t\t\t\tlayout: \"grid\",\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"Tabs\",\n\t\t\t\ttype: TYPE.tabs,\n\t\t\t\timage: \"panel_tabs.png\",\n\t\t\t\ttab: true,\n\t\t\t\titems: [],\n\t\t\t\tid: IDS.createWidgets.tabs,\n\t\t\t\tserverType: TYPE.panel,\n\t\t\t\tisNew: true,\n\t\t\t\tcolSpan: 12,\n\t\t\t\ttitle: \"Tabs\",\n\t\t\t\tcurrent: null,\n\t\t\t\tlayout: \"grid\",\n\t\t\t},\n\t\t],\n\t},\n];\n\nexport const modelFields = [\n\t{\n\t\tname: \"Fields\",\n\t\tvalue: [\n\t\t\t{\n\t\t\t\tname: \"string\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"String\",\n\t\t\t\timage: \"string.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"string\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"integer\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Integer\",\n\t\t\t\timage: \"integer.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"integer\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decimal\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Decimal\",\n\t\t\t\timage: \"decimal.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"decimal\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"boolean\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Boolean\",\n\t\t\t\timage: \"boolean.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"boolean\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"datetime\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Date time\",\n\t\t\t\timage: \"datetime.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"datetime\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"date\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Date\",\n\t\t\t\timage: \"date.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"date\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"time\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Time\",\n\t\t\t\timage: \"time.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"time\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tname: \"Relational fields\",\n\t\tvalue: [\n\t\t\t{\n\t\t\t\tname: \"manyToOne\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Many to one\",\n\t\t\t\timage: \"many-to-one.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"many-to-one\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"oneToMany\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"One to many\",\n\t\t\t\timage: \"one-to-many.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"one-to-many\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"manyToMany\",\n\t\t\t\ttype: ItemTypes.ITEM,\n\t\t\t\ttitle: \"Many to many\",\n\t\t\t\timage: \"many-to-many.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tisModelField: true,\n\t\t\t\tserverType: \"many-to-many\",\n\t\t\t\tcolSpan: 6,\n\t\t\t},\n\t\t],\n\t},\n];\n\nexport const entityFields = [\n\t{\n\t\tname: \"Fields\",\n\t\tvalue: [\n\t\t\t{\n\t\t\t\tname: \"string\",\n\t\t\t\ttype: entityTypes.string,\n\t\t\t\timage: \"string.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"boolean\",\n\t\t\t\ttype: entityTypes.boolean,\n\t\t\t\timage: \"boolean.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"long\",\n\t\t\t\ttype: entityTypes.long,\n\t\t\t\timage: \"long.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"integer\",\n\t\t\t\ttype: entityTypes.integer,\n\t\t\t\timage: \"integer.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"decimal\",\n\t\t\t\ttype: entityTypes.decimal,\n\t\t\t\timage: \"decimal.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"date\",\n\t\t\t\ttype: entityTypes.date,\n\t\t\t\timage: \"date.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"time\",\n\t\t\t\ttype: entityTypes.time,\n\t\t\t\timage: \"time.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"datetime\",\n\t\t\t\ttype: entityTypes.datetime,\n\t\t\t\timage: \"datetime.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"binary\",\n\t\t\t\ttype: entityTypes.binary,\n\t\t\t\timage: \"binary.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"manyToOne\",\n\t\t\t\ttype: entityTypes.manyToOne,\n\t\t\t\timage: \"many-to-one.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"manyToMany\",\n\t\t\t\ttype: entityTypes.manyToMany,\n\t\t\t\timage: \"many-to-many.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"oneToMany\",\n\t\t\t\ttype: entityTypes.oneToMany,\n\t\t\t\timage: \"one-to-many.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"oneToOne\",\n\t\t\t\ttype: entityTypes.oneToOne,\n\t\t\t\timage: \"one-to-one.png\",\n\t\t\t\tid: IDS.createWidgets.field,\n\t\t\t\tcolSpan: 12,\n\t\t\t},\n\t\t],\n\t},\n];\n","import Utils from \"./../utils\";\nimport { MODEL_TYPE, TYPE } from \"./../constants\";\n\nconst exemptedAttrs = [\n\t\"items\",\n\t\"cols\",\n\t\"serverType\",\n\t\"version\",\n\t\"type\",\n\t\"widgetAttrs\",\n\t\"current\",\n\t\"selectionList\",\n\t\"autoTitle\",\n\t\"isModelField\",\n\t\"elements\",\n\t\"relationship\",\n\t\"isDummy\",\n\t\"metaModel\",\n\t\"targetSearch\",\n\t\"layout\",\n\t\"massUpdate\",\n\t\"xPath\",\n\t\"tz\",\n];\n\nexport function getExtensionAttribute(patchList, target, keyName) {\n\tlet extend;\n\tfor (let i = 0; i < patchList.length; i++) {\n\t\tconst { elements = [], attributes: patchAttributes } = patchList[i];\n\t\tconst element = elements[0];\n\t\tif (element.name === \"attribute\" && patchAttributes.target === target) {\n\t\t\tconst attributes = element.attributes || {};\n\t\t\tif (attributes.name === keyName) {\n\t\t\t\textend = { ...patchList[i] };\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn extend;\n}\n\nfunction checkTarget(target, string, check) {\n\tconst splitTarget = Utils.exploreTarget(target);\n\tif (check) {\n\t\tconst newTarget = splitTarget[check];\n\t\tif (newTarget && newTarget === string) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn target === string;\n}\n\nexport function isExtensionRemove(patchList, target, check) {\n\tlet flag = false;\n\tfor (let i = 0; i < patchList.length; i++) {\n\t\tconst { attributes, elements = [] } = patchList[i];\n\t\tconst element = elements[0];\n\t\tif (\n\t\t\telement.name === \"replace\" &&\n\t\t\tattributes &&\n\t\t\tcheckTarget(attributes.target, target, check)\n\t\t) {\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn flag;\n}\n\nexport function isExtensionMove(patchList, widget, parentWidget) {\n\tlet flag = false;\n\tfor (let i = 0; i < patchList.length; i++) {\n\t\tconst { elements = [] } = patchList[i];\n\t\tconst element = elements[0];\n\t\tlet sourceName = `/${Utils.getWidgetType(widget)}[@name='${widget.name}']`;\n\t\tif (parentWidget && parentWidget.name) {\n\t\t\tsourceName = `//${Utils.getWidgetType(parentWidget)}[@name='${\n\t\t\t\tparentWidget.name\n\t\t\t}']${sourceName}`;\n\t\t}\n\t\tif (\n\t\t\telement.name === \"move\" &&\n\t\t\telement.attributes &&\n\t\t\telement.attributes.source === sourceName\n\t\t) {\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn flag;\n}\n\nfunction getWidgetAttrsObject(widget, modelType = MODEL_TYPE.BASE) {\n\treturn getWidgetObject(widget, [], null, modelType);\n}\n\nexport function getExtendJson2({\n\ttarget,\n\ttype,\n\tposition,\n\tsource,\n\tname,\n\tvalue,\n\twidgetAttrs,\n\titemSource,\n\t...rest\n}) {\n\tconst attributes = { target };\n\tlet elements = [];\n\tif (widgetAttrs && ![\"replace\", \"attribute\", \"move\"].includes(type)) {\n\t\tif (Array.isArray(widgetAttrs)) {\n\t\t\telements = widgetAttrs\n\t\t\t\t.map((widget) => {\n\t\t\t\t\treturn getWidgetAttrsObject(widget);\n\t\t\t\t})\n\t\t\t\t.filter((e) => e);\n\t\t} else {\n\t\t\telements.push(getWidgetAttrsObject(widgetAttrs));\n\t\t}\n\t}\n\tif (elements.length || [\"replace\", \"attribute\", \"move\"].includes(type)) {\n\t\tconst object = {\n\t\t\tattributes,\n\t\t\ttype: \"element\",\n\t\t\tname: \"extend\",\n\t\t\telements: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"element\",\n\t\t\t\t\tname: type,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t},\n\t\t\t\t\telements,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t\treturn JSON.parse(JSON.stringify(object));\n\t}\n\treturn;\n}\n\nexport function getWidgetObject(widget, other = [], view, modelType) {\n\tconst { id, image, elements = [], ...attributes } = widget;\n\tconst uiFields = [\n\t\t\"panel\",\n\t\t\"panel-related\",\n\t\t\"panel-dashlet\",\n\t\t\"panel-tabs\",\n\t\t\"panel-stack\",\n\t\t\"panel-include\",\n\t\t\"button\",\n\t\t\"label\",\n\t\t\"spacer\",\n\t\t\"separator\",\n\t\t\"menu\",\n\t\t\"item\",\n\t\t\"toolbar\",\n\t\t\"menubar\",\n\t\t\"divider\",\n\t];\n\tlet exempt = [...exemptedAttrs];\n\tlet field =\n\t\tmodelType === MODEL_TYPE.ENTITY\n\t\t\t? Utils.getEntityField(attributes.type)\n\t\t\t: uiFields.includes(attributes.type)\n\t\t\t? attributes.type\n\t\t\t: \"field\";\n\tfield = uiFields.includes(attributes.serverType)\n\t\t? attributes.serverType\n\t\t: field;\n\tfield = widget.tab ? \"panel-tabs\" : field;\n\tif (modelType === MODEL_TYPE.ENTITY) {\n\t\texempt = [\"colSpan\"];\n\t}\n\tif (attributes.type === TYPE.panelInclude) {\n\t\texempt = [...exempt, \"title\", \"colSpan\"];\n\t}\n\tif (field === TYPE.tabs) {\n\t\texempt = [...exempt, \"tab\", \"title\"];\n\t}\n\tif (field === \"spacer\") {\n\t\texempt = [...exempt, \"title\", \"isDummy\"];\n\t}\n\tif (field === TYPE.panelInclude) {\n\t\texempt = [...exempt, \"module\", \"name\"];\n\t}\n\tif ([TYPE.menu, TYPE.menuItem, TYPE.toolbar, TYPE.menubar].includes(field)) {\n\t\texempt = [...exempt, \"colSpan\"];\n\t}\n\tif ([TYPE.toolbar, TYPE.menubar].includes(field)) {\n\t\texempt = [...exempt, \"colSpan\", \"name\", \"title\"];\n\t}\n\tif ([TYPE.divider].includes(field)) {\n\t\texempt = [...exempt, \"colSpan\", \"title\"];\n\t}\n\tlet object = {};\n\tobject = {\n\t\tattributes: {\n\t\t\t...Utils.getWidgetAttrs(attributes, exempt, modelType),\n\t\t},\n\t\ttype: \"element\",\n\t\tname: field,\n\t\telements: [...other, ...elements],\n\t};\n\treturn object;\n}\n\nexport function generateView(widgets, items, modelType) {\n\tlet view = {};\n\tlet elements = [];\n\tif (items.length) {\n\t\titems.forEach((item) => {\n\t\t\tconst widget = widgets[item];\n\t\t\tlet subViews = [];\n\t\t\tif (widget) {\n\t\t\t\tif (widget.items && widget.items.length) {\n\t\t\t\t\tsubViews = generateView(widgets, widget.items, modelType);\n\t\t\t\t}\n\t\t\t\telements.push({\n\t\t\t\t\t...getWidgetObject(widget, subViews, view, modelType),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\treturn elements;\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Grid from \"./Grid\";\nimport { translate } from \"../utils\";\n\n/**\n * Menu Component\n * Used As Container to group Field Component like form group\n */\nfunction MenuComponent({ id, attrs, design, isTab = true, ...rest }) {\n\tconst errors = rest.errorList[id] || {};\n\tconst [openMenu, setOpenMenu] = React.useState(false);\n\n\tconst handleToggleMenu = React.useCallback((e) => {\n\t\te.stopPropagation();\n\t\tsetOpenMenu((m) => !m);\n\t}, []);\n\n\tconst arrow = openMenu ? \"down\" : \"up\";\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\"menu-header\", {\n\t\t\t\t\tinline: isTab,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<div className=\"menu-toggle-button\" onClick={handleToggleMenu}>\n\t\t\t\t\t<i className={`fa fa-chevron-${arrow}`} />\n\t\t\t\t</div>\n\t\t\t\t<span>{translate(attrs.title || attrs.autoTitle)}</span>\n\t\t\t\t<div className=\"menu-toggle-button\" onClick={handleToggleMenu}>\n\t\t\t\t\t<i className={`fa fa-chevron-${arrow}`} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{errors.items && !isTab && (\n\t\t\t\t<div className={classNames(\"panel-children-error\")}>{errors.items}</div>\n\t\t\t)}\n\t\t\t{openMenu && (\n\t\t\t\t<Grid\n\t\t\t\t\tdesign={design}\n\t\t\t\t\tclassName=\"panel-body\"\n\t\t\t\t\titems={attrs.items || []}\n\t\t\t\t\tattrs={attrs}\n\t\t\t\t\tpanelId={id}\n\t\t\t\t\t_type={rest._type}\n\t\t\t\t\terrorList={rest.errorList}\n\t\t\t\t\tcanRemove={rest.canRemove}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nexport default React.memo(MenuComponent);\n","import Field from \"./Field\";\nimport Panel from \"./Panel\";\nimport TabPanel from \"./TabPanel\";\nimport Form from \"./Form\";\nimport Menu from \"./Menu\";\n\n// common Registery contains all Form Components\nconst Registery = {\n\tfield: { component: Field, props: { className: \"field-container\" } },\n\tdump_field: {\n\t\tcomponent: Field,\n\t\tprops: { className: \"field-container dump\" },\n\t},\n\tpanel: { component: Panel, props: { className: \"panel\" } },\n\tmenubar: { component: Panel, props: { className: \"panel menubar\" } },\n\tmenu: { component: Menu, props: { className: \"panel menu\" } },\n\ttoolbar: { component: Panel, props: { className: \"panel toolbar\" } },\n\t\"panel-stack\": { component: Panel, props: { className: \"panel\" } },\n\t\"panel-include\": { component: Panel, props: { className: \"panel\" } },\n\tform: { component: Form, props: { className: \"form-layout\" } },\n\tcustomForm: { component: Form, props: { className: \"form-layout\" } },\n\t\"panel-tabs\": {\n\t\tcomponent: TabPanel,\n\t\tprops: { className: \"panel tabs-panel\" },\n\t},\n};\n\nexport default Registery;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { compose } from \"recompose\";\nimport { DragSource, DropTarget } from \"react-dnd\";\n\nimport { useStore } from \"../store/context\";\nimport { TYPE as WIDGET_TYPE, IDS, MODEL_TYPE, FIELD_TYPE } from \"../constants\";\nimport Registry from \"./Registery\";\nimport { translate } from \"../utils\";\n\n// Unique Type for Widget\nconst TYPE = Symbol();\n\n// DragSource\nconst CardSource = {\n\t// evaluate widget is draggable or not\n\tcanDrag(props) {\n\t\tconst { state } = props;\n\t\tconst isCustomField = props._type === \"customField\";\n\t\t// temporary restrict real view movement\n\t\tif (\n\t\t\tstate.modelType === MODEL_TYPE.BASE &&\n\t\t\t!isCustomField &&\n\t\t\t!props.isPalleteField\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\treturn !(\n\t\t\tprops.id === IDS.dumpField ||\n\t\t\tprops.attrs.draggable === false ||\n\t\t\tprops.attrs.isDummy ||\n\t\t\tprops.attrs.type === WIDGET_TYPE.form\n\t\t);\n\t},\n\t// event, raise when start dragging widget\n\tbeginDrag(props) {\n\t\tconst _props = { ...props };\n\t\tconst isPanel = _props.attrs.serverType === \"panel\";\n\t\tif (\n\t\t\tprops.state.modelType === MODEL_TYPE.CUSTOM ||\n\t\t\tprops._type === \"customField\"\n\t\t) {\n\t\t\t_props.attrs = {\n\t\t\t\t..._props.attrs,\n\t\t\t\tmodel: \"com.axelor.meta.db.MetaJsonRecord\",\n\t\t\t\tmodelField: \"attrs\",\n\t\t\t\twidgetAttrs: JSON.stringify({\n\t\t\t\t\tcolSpan: JSON.parse(_props.attrs.widgetAttrs || \"{}\").colSpan,\n\t\t\t\t\tshowTitle: !isPanel,\n\t\t\t\t}),\n\t\t\t};\n\t\t} else if (props.state.modelType === MODEL_TYPE.BASE) {\n\t\t\tif (_props.attrs.isModelField) {\n\t\t\t\t_props.attrs = {\n\t\t\t\t\t..._props.attrs,\n\t\t\t\t\t...(_props.attrs.serverType !== \"field\" && {\n\t\t\t\t\t\ttype: _props.attrs.serverType,\n\t\t\t\t\t}),\n\t\t\t\t\tserverType: \"field\",\n\t\t\t\t};\n\t\t\t}\n\t\t\t_props.attrs = {\n\t\t\t\t..._props.attrs,\n\t\t\t\twidgetAttrs: JSON.stringify({\n\t\t\t\t\tshowTitle: !isPanel,\n\t\t\t\t}),\n\t\t\t};\n\t\t}\n\t\tprops.onDrag(props.id, { props: _props });\n\t\treturn { ...props };\n\t},\n\t// event, raise when dragging widget is droped on target or somewhere else\n\t// reset tasks\n\tendDrag(props, monitor) {\n\t\t// check widget is dropped or not, if not reset back to its position for existing element\n\t\t// for new element, remove it from schema\n\t\tprops.onDrag(null, {\n\t\t\tisDrop: monitor.didDrop(),\n\t\t\tprops: {},\n\t\t\tnewProps: monitor.getItem(),\n\t\t});\n\t},\n\t// currently dragged element, special case for nested drag source\n\tisDragging(props, monitor) {\n\t\treturn props.id === monitor.getItem().id;\n\t},\n};\n\n// DropTarget\nconst CardTarget = {\n\t// event, raised when one widget is hover on another widget\n\n\thover(props, monitor) {\n\t\tlet {\n\t\t\tindex: dragIndex,\n\t\t\tpanelId: dragPanelId,\n\t\t\tid: dragId,\n\t\t\tattrs: dragAttrs,\n\t\t} = monitor.getItem();\n\t\tlet {\n\t\t\tindex: hoverIndex,\n\t\t\tpanelId: hoverPanelId,\n\t\t\tid: hoverId,\n\t\t\tattrs: hoverAttrs,\n\t\t\tstate,\n\t\t\tmeta,\n\t\t\tsetHoverAttr,\n\t\t} = props;\n\t\tconst panelSet = [\n\t\t\tWIDGET_TYPE.panel,\n\t\t\tWIDGET_TYPE.panelDashlet,\n\t\t\tWIDGET_TYPE.panelRelated,\n\t\t\tWIDGET_TYPE.panelInclude,\n\t\t];\n\t\tconst isCustomField = props._type === \"customField\";\n\t\tconst widgets =\n\t\t\tprops._type === \"customField\" ? state.customFieldWidgets : state.widgets;\n\t\tconst parentPanel = props.panelId ? widgets[props.panelId] : null;\n\n\t\t/**\n\t\t * Don't allow tabs to move if in edit state\n\t\t * Don't allow tabs drop in first row or in between panels\n\t\t */\n\t\tif (!meta) return;\n\t\tif (dragAttrs.type === WIDGET_TYPE.tabs) {\n\t\t\tif (meta.row === 0 && !dragAttrs.isNew) return;\n\t\t\tif (meta.grid) {\n\t\t\t\tlet maxIndex = Math.max(...meta.grid.map((o) => o.rowIndex));\n\t\t\t\tif (meta.row < maxIndex) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//Don't allow panel after tabs\n\t\tif (dragAttrs.type === WIDGET_TYPE.panel) {\n\t\t\tconst { grid, row } = meta;\n\t\t\tconst gridTab = grid && grid.find((f) => f.type === WIDGET_TYPE.tabs);\n\t\t\tif (gridTab && gridTab.rowIndex < row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// temporary restrict real view movement\n\t\tif (state.modelType === MODEL_TYPE.BASE && !isCustomField) {\n\t\t\treturn;\n\t\t}\n\t\tif (state.modelType !== MODEL_TYPE.ENTITY) {\n\t\t\tif ([WIDGET_TYPE.menubar, WIDGET_TYPE.toolbar].includes(dragAttrs.type)) {\n\t\t\t\tconst bar = Object.values(state.widgets || {}).find((w) =>\n\t\t\t\t\t[WIDGET_TYPE.menubar, WIDGET_TYPE.toolbar].includes(w.type)\n\t\t\t\t);\n\t\t\t\tconst rowCount = bar ? 2 : 0;\n\t\t\t\tif (hoverPanelId) return;\n\t\t\t\tif (!meta) return;\n\t\t\t\tif (meta.row > rowCount || meta.col !== 1) return;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(state.modelType === MODEL_TYPE.CUSTOM || isCustomField) &&\n\t\t\t\t[WIDGET_TYPE.menubar, WIDGET_TYPE.toolbar].includes(\n\t\t\t\t\tdragAttrs.serverType\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t![WIDGET_TYPE.menuItem, WIDGET_TYPE.menu, WIDGET_TYPE.divider].includes(\n\t\t\t\t\tdragAttrs.serverType\n\t\t\t\t) &&\n\t\t\t\tparentPanel &&\n\t\t\t\tparentPanel.type === WIDGET_TYPE.menu\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t[WIDGET_TYPE.menuItem, WIDGET_TYPE.divider].includes(\n\t\t\t\t\tdragAttrs.serverType\n\t\t\t\t) &&\n\t\t\t\t(!parentPanel || parentPanel.type !== WIDGET_TYPE.menu)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t[WIDGET_TYPE.menu].includes(dragAttrs.serverType) &&\n\t\t\t\t(!parentPanel ||\n\t\t\t\t\t![WIDGET_TYPE.menu, WIDGET_TYPE.menubar].includes(parentPanel.type))\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tparentPanel &&\n\t\t\t\tparentPanel.type === WIDGET_TYPE.menubar &&\n\t\t\t\tdragAttrs.type !== WIDGET_TYPE.menu\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tparentPanel &&\n\t\t\t\tparentPanel.type === WIDGET_TYPE.toolbar &&\n\t\t\t\tdragAttrs.type !== FIELD_TYPE.button\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t!parentPanel &&\n\t\t\t\t![\n\t\t\t\t\t...panelSet,\n\t\t\t\t\tWIDGET_TYPE.tabs,\n\t\t\t\t\tWIDGET_TYPE.panelStack,\n\t\t\t\t\tWIDGET_TYPE.menubar,\n\t\t\t\t\tWIDGET_TYPE.toolbar,\n\t\t\t\t].includes(dragAttrs.type)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// when stacked is true do not allow to drop field except specified panel types.\n\t\t\tif (\n\t\t\t\tparentPanel &&\n\t\t\t\tparentPanel.type === WIDGET_TYPE.panelStack &&\n\t\t\t\t!panelSet.includes(dragAttrs.type)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tparentPanel &&\n\t\t\t\tparentPanel.type === WIDGET_TYPE.tabs &&\n\t\t\t\t!panelSet.includes(dragAttrs.type)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tstate.modelType === MODEL_TYPE.CUSTOM ||\n\t\t\t\tprops._type === \"customField\"\n\t\t\t) {\n\t\t\t\t// let hasPanel = false;\n\t\t\t\tif (\n\t\t\t\t\t[\n\t\t\t\t\t\tWIDGET_TYPE.panelDashlet,\n\t\t\t\t\t\tWIDGET_TYPE.panelInclude,\n\t\t\t\t\t\tWIDGET_TYPE.panelRelated,\n\t\t\t\t\t\tWIDGET_TYPE.panelStack,\n\t\t\t\t\t].includes(dragAttrs.type)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// restrict nested panel drop in custom model\n\t\t\t\tconst widgets =\n\t\t\t\t\tprops._type === \"customField\"\n\t\t\t\t\t\t? state.customFieldWidgets\n\t\t\t\t\t\t: state.widgets;\n\t\t\t\tconst stateItems =\n\t\t\t\t\tprops._type === \"customField\" ? state.customFieldItems : state.items;\n\t\t\t\tconst hasTabPanel =\n\t\t\t\t\tObject.keys(widgets).findIndex(\n\t\t\t\t\t\t(widgetKey) => widgets[widgetKey].type === WIDGET_TYPE.tabs\n\t\t\t\t\t) !== -1;\n\t\t\t\tif (\n\t\t\t\t\thasTabPanel &&\n\t\t\t\t\tdragAttrs.type === WIDGET_TYPE.tabs &&\n\t\t\t\t\tdragAttrs.isNew\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t[WIDGET_TYPE.panel, WIDGET_TYPE.tabs].includes(dragAttrs.type) &&\n\t\t\t\t\tprops.panelId &&\n\t\t\t\t\t!stateItems.includes(props.panelId)\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// paneltab can drop inside panel tab\n\t\t\t\tif (\n\t\t\t\t\tparentPanel &&\n\t\t\t\t\tdragAttrs.type === WIDGET_TYPE.panel &&\n\t\t\t\t\tparentPanel.type !== WIDGET_TYPE.tabs\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tparentPanel &&\n\t\t\t\t\tdragAttrs.type === WIDGET_TYPE.tabs &&\n\t\t\t\t\tparentPanel.type === WIDGET_TYPE.panel\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { hoverAttr } = state;\n\t\t\t\tconst { widgetAttrs = \"{}\" } = hoverAttr;\n\t\t\t\tconst _attrs = JSON.parse(widgetAttrs);\n\n\t\t\t\tif (\n\t\t\t\t\tparentPanel &&\n\t\t\t\t\tdragAttrs.type === WIDGET_TYPE.panel &&\n\t\t\t\t\tparentPanel.type === WIDGET_TYPE.tabs &&\n\t\t\t\t\t!_attrs.tab\n\t\t\t\t) {\n\t\t\t\t\tsetHoverAttr({\n\t\t\t\t\t\ttitle: dragAttrs.title || translate(\"Tab\"),\n\t\t\t\t\t\twidgetAttrs: JSON.stringify({ tab: \"true\" }),\n\t\t\t\t\t});\n\t\t\t\t} else if (\n\t\t\t\t\t!parentPanel &&\n\t\t\t\t\tdragAttrs.type === WIDGET_TYPE.panel &&\n\t\t\t\t\t_attrs.tab\n\t\t\t\t) {\n\t\t\t\t\tconst attrs = JSON.parse(dragAttrs.widgetAttrs || \"{}\");\n\t\t\t\t\tsetHoverAttr({\n\t\t\t\t\t\ttitle: dragAttrs.title,\n\t\t\t\t\t\twidgetAttrs: JSON.stringify({ ...attrs, tab: \"false\" }),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (props.panelId) {\n\t\t\t\t\tconst parentPanel = widgets[props.panelId];\n\t\t\t\t\tif (\n\t\t\t\t\t\tparentPanel &&\n\t\t\t\t\t\t[WIDGET_TYPE.tabs, WIDGET_TYPE.panelStack].includes(dragAttrs.type)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tWIDGET_TYPE.panelDashlet,\n\t\t\t\t\t\t\tWIDGET_TYPE.panelRelated,\n\t\t\t\t\t\t\tWIDGET_TYPE.panelInclude,\n\t\t\t\t\t\t].includes(parentPanel.type)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (dragAttrs.isCoreField === false && props._type === \"customField\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// skip for same item drag n drop\n\t\t// skip for dragging widget in same panel\n\t\t// skip for other hover elements(monitor.isOver) specially for nested target\n\t\t// skip for dragging field directly on form\n\t\tif (\n\t\t\t(hoverIndex === dragIndex && dragPanelId === hoverPanelId) ||\n\t\t\t((hoverAttrs.type !== \"form\" && hoverAttrs.id) || []).indexOf(dragId) >\n\t\t\t\t-1 ||\n\t\t\t(dragAttrs.items || []).indexOf(hoverId) > -1 ||\n\t\t\t!monitor.isOver({ shallow: true }) ||\n\t\t\t(dragAttrs.type === WIDGET_TYPE.field &&\n\t\t\t\thoverAttrs.type === WIDGET_TYPE.form) ||\n\t\t\t(dragAttrs.type === WIDGET_TYPE.field && props.tabId !== undefined) ||\n\t\t\t(props.state.hoverWidget &&\n\t\t\t\tprops.state.hoverWidget.id === hoverId &&\n\t\t\t\tprops.state.hoverWidget.index === hoverIndex &&\n\t\t\t\tprops.state.hoverWidget.panelId === hoverPanelId)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only for current dragging widget\n\t\tif (dragId === props.state.dragWidget) {\n\t\t\ttry {\n\t\t\t\tif (dragId && !dragAttrs.isNew && dragPanelId === hoverPanelId) {\n\t\t\t\t\tif (dragIndex + 1 === hoverIndex || dragIndex - 1 === hoverIndex) {\n\t\t\t\t\t\tprops.state.hoverWidget && props.onHover(null);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst { isMoved } = props.onMove(\n\t\t\t\t\t{\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\tpanelId: dragPanelId,\n\t\t\t\t\t\t\tindex: dragIndex,\n\t\t\t\t\t\t\tid: dragId,\n\t\t\t\t\t\t\tattrs: dragAttrs,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdestination: {\n\t\t\t\t\t\t\tpanelId: hoverPanelId,\n\t\t\t\t\t\t\tindex: hoverIndex,\n\t\t\t\t\t\t\tid: hoverId,\n\t\t\t\t\t\t\tattrs: hoverAttrs,\n\t\t\t\t\t\t\t_type: props._type,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\ttrue,\n\t\t\t\t\tprops._type\n\t\t\t\t);\n\t\t\t\tif (isMoved && props.onHover) {\n\t\t\t\t\tprops.onHover({\n\t\t\t\t\t\tmeta: props.meta || {},\n\t\t\t\t\t\tid: hoverId,\n\t\t\t\t\t\tindex: hoverIndex,\n\t\t\t\t\t\tpanelId: hoverPanelId,\n\t\t\t\t\t\tposition:\n\t\t\t\t\t\t\tprops.panelColumns &&\n\t\t\t\t\t\t\t(`${props.panelColumns}` === \"1\" ||\n\t\t\t\t\t\t\t\t`${props.panelColumns}` === `${dragAttrs.colSpan}`) &&\n\t\t\t\t\t\t\tprops.tabId === undefined\n\t\t\t\t\t\t\t\t? \"top\"\n\t\t\t\t\t\t\t\t: \"default\",\n\t\t\t\t\t\tattrs: hoverAttrs,\n\t\t\t\t\t\t_type: props._type,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tprops.state.hoverWidget && props.onHover(null);\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\tif (parentPanel && parentPanel.widgetAttrs) {\n\t\t\tlet parentWidgetAttrs = JSON.parse(parentPanel.widgetAttrs || \"{}\");\n\t\t\tlet dragAttrsWidgetAttrs = JSON.parse(dragAttrs.widgetAttrs || \"{}\");\n\t\t\tif (parentWidgetAttrs.itemSpan && !dragAttrsWidgetAttrs.colSpan) {\n\t\t\t\tsetHoverAttr({\n\t\t\t\t\tcolSpan: parentWidgetAttrs.itemSpan,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n};\n\nfunction Widget(props) {\n\tlet {\n\t\tid,\n\t\tisDragging,\n\t\tconnectDragSource,\n\t\tconnectDropTarget,\n\t\thighlighted,\n\t\thovered,\n\t\ttabId,\n\t\tclassName,\n\t\tcomponent: DefaultWidgetComponent,\n\t\tattrs,\n\t\tstate,\n\t\tupdate,\n\t\tonWidgetChange,\n\t\terrorList = {},\n\t\t...rest\n\t} = props;\n\tconst { dragWidget } = state;\n\tconst _widgets =\n\t\trest._type === \"customField\" ? state.customFieldWidgets : state.widgets;\n\t// special case for new element\n\t// hide/remove element from schema, if it drag outside form container(id=1)\n\tReact.useEffect(() => {\n\t\tupdate((draft) => {\n\t\t\tdraft.hoverWidget && (draft.hoverWidget.visible = hovered);\n\t\t});\n\t}, [update, hovered, id, dragWidget, attrs]);\n\n\tlet registryField = Registry[attrs.type] || Registry.field;\n\n\tif (rest.isTab && !Registry[attrs.type]) {\n\t\tregistryField = Registry[\"panel\"];\n\t}\n\n\tlet { component: WidgetComponent, props: componentProps = {} } =\n\t\tregistryField;\n\n\tif (DefaultWidgetComponent) {\n\t\tWidgetComponent = DefaultWidgetComponent;\n\t}\n\n\tlet isFormField = true;\n\tif (Object.values(IDS.createWidgets).indexOf(id) > -1) {\n\t\tisFormField = false;\n\t\tconnectDropTarget = (e) => e;\n\t}\n\tconst isEdit = isFormField && state.editWidget === id;\n\tconst isTabWidget = tabId !== undefined;\n\tconst isTabWidgetContent = isTabWidget ? !rest.isTab : false;\n\tconst showRemove =\n\t\tisFormField &&\n\t\tNumber(id) > 0 &&\n\t\t!isTabWidgetContent &&\n\t\trest.design &&\n\t\trest.canRemove !== false;\n\tif (\n\t\tisTabWidgetContent ||\n\t\t(id && id !== IDS.form && typeof id !== \"symbol\" && !attrs.isDummy)\n\t) {\n\t\tconnectDropTarget = (e) => e;\n\t}\n\tif (attrs.isExist === false || (!rest.design && IDS.dumpField)) return null;\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{connectDragSource(\n\t\t\t\tconnectDropTarget(\n\t\t\t\t\t<div\n\t\t\t\t\t\t{...componentProps}\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\"widget\",\n\t\t\t\t\t\t\tcomponentProps.className,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"dummy-widget\": attrs.isDummy,\n\t\t\t\t\t\t\t\tedit: isEdit,\n\t\t\t\t\t\t\t\thighlighted: highlighted,\n\t\t\t\t\t\t\t\thovered: hovered,\n\t\t\t\t\t\t\t\tactive: isFormField && isDragging,\n\t\t\t\t\t\t\t\t\"form-field\": isFormField,\n\t\t\t\t\t\t\t\t\"panel-field\": attrs.type === \"panel\",\n\t\t\t\t\t\t\t\t\"non-title-panel\":\n\t\t\t\t\t\t\t\t\tattrs.type === \"panel\" && !rest.isTab && !attrs.title,\n\t\t\t\t\t\t\t\t// \"dummy-field\": attrs.serverType === \"field\",\n\t\t\t\t\t\t\t\t\"error-field\": Boolean(errorList[id]),\n\t\t\t\t\t\t\t\t\"pallete-field\": rest.isPalleteField,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t_type={rest._type}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\tif (isFormField && rest.onSelect) {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tid !== IDS.dumpField && rest.onSelect(id, rest._type);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isTabWidget) {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tif (id !== IDS.dumpField && _widgets[tabId]) {\n\t\t\t\t\t\t\t\t\tonWidgetChange(tabId, {\n\t\t\t\t\t\t\t\t\t\tcurrent: id,\n\t\t\t\t\t\t\t\t\t\t_type: rest._type,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!isTabWidgetContent &&\n\t\t\t\t\t\t\tstate.hoverWidget &&\n\t\t\t\t\t\t\ttypeof id !== \"symbol\" &&\n\t\t\t\t\t\t\tNumber(id) >= 0 &&\n\t\t\t\t\t\t\tstate.hoverWidget.index === rest.index &&\n\t\t\t\t\t\t\tstate.hoverWidget.visible !== false &&\n\t\t\t\t\t\t\tstate.hoverWidget.panelId === rest.panelId && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t\t\"hover-liner\",\n\t\t\t\t\t\t\t\t\t\t{ \"dummy-widget\": attrs.isDummy || id === 0 },\n\t\t\t\t\t\t\t\t\t\tstate.hoverWidget.position\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t{WidgetComponent && (\n\t\t\t\t\t\t\t<WidgetComponent\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tisDragging={state.dragWidget === id}\n\t\t\t\t\t\t\t\tattrs={attrs}\n\t\t\t\t\t\t\t\t_type={rest._type}\n\t\t\t\t\t\t\t\terrorList={errorList}\n\t\t\t\t\t\t\t\tcanRemove={rest.canRemove}\n\t\t\t\t\t\t\t\tdraggable={attrs.type !== WIDGET_TYPE.menubar}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{showRemove && !state.dragWidget && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tif (rest.onRemove) {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\trest.onRemove(rest.panelId, rest.index, id, rest._type);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"widget-remove\"\n\t\t\t\t\t\t\t\ttitle={translate(\"Remove Widget\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fa fa-remove\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nconst SimpleWidget = (props) => (\n\t<Widget\n\t\t{...props}\n\t\tconnectDropTarget={(e) => e}\n\t\tconnectDragSource={(e) => e}\n\t/>\n);\n\nconst DraggableWidget = compose(\n\tDropTarget(TYPE, CardTarget, (connect, monitor) => ({\n\t\thighlighted: false,\n\t\thovered: monitor.isOver(),\n\t\tconnectDropTarget: connect.dropTarget(),\n\t})),\n\tDragSource(TYPE, CardSource, (connect, monitor) => ({\n\t\tconnectDragSource: connect.dragSource(),\n\t\tisDragging: monitor.isDragging(),\n\t}))\n)(Widget);\n\nexport const WidgetComponent = (props) => {\n\tconst store = useStore();\n\tconst { state } = store;\n\tconst _widgets =\n\t\tprops._type === \"customField\" ? state.customFieldWidgets : state.widgets;\n\tconst attrs =\n\t\t_widgets && _widgets[props.id] ? _widgets[props.id] : props.attrs || {};\n\tconst _props = { ...store, attrs };\n\tconst draggable = attrs.type !== WIDGET_TYPE.menubar;\n\n\tif (props.design || draggable)\n\t\treturn <DraggableWidget {..._props} {...props} />;\n\treturn <SimpleWidget {..._props} {...props} />;\n};\n\nexport default React.memo(WidgetComponent);\n","import React from \"react\";\nimport Grid from \"./Grid\";\nimport { PANEL_TYPE } from \"../constants\";\n\n/**\n * Form Component\n * Used As Main Container i.e. <form />\n */\nfunction FormComponent({ attrs = {}, items = [], design, widgets, ...rest }) {\n\t// render top level items as Widgets using Context FormConsumer\n\tconst rootPanel = React.useMemo(() => {\n\t\tconst sidebar = items.filter(\n\t\t\t(k) => widgets[k] && [\"true\", true].includes(widgets[k].sidebar)\n\t\t);\n\t\tconst mainItems = items.filter(\n\t\t\t(k) => widgets[k] && ![\"true\", true].includes(widgets[k].sidebar)\n\t\t);\n\t\tconst hasSidebar = sidebar.length > 0;\n\n\t\treturn hasSidebar\n\t\t\t? {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlayout: PANEL_TYPE.grid,\n\t\t\t\t\t\t\titems: mainItems,\n\t\t\t\t\t\t\tcolSpan: 9,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlayout: PANEL_TYPE.grid,\n\t\t\t\t\t\t\titems: sidebar,\n\t\t\t\t\t\t\tcolSpan: 3,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlayout: PANEL_TYPE.grid,\n\t\t\t\t\t\t\titems: mainItems,\n\t\t\t\t\t\t\tcolSpan: 12,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t  };\n\t}, [items, widgets]);\n\n\treturn (\n\t\t<div className=\"flex-container\">\n\t\t\t{rootPanel.items.map(({ items, colSpan, ...attrs }, i) => (\n\t\t\t\t<div className={`flex-item span-${colSpan}`} key={i}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tdesign={design}\n\t\t\t\t\t\tclassName=\"form-body\"\n\t\t\t\t\t\titems={items}\n\t\t\t\t\t\tattrs={attrs}\n\t\t\t\t\t\t_type={rest._type}\n\t\t\t\t\t\twidgets={widgets}\n\t\t\t\t\t\terrorList={rest.errorList}\n\t\t\t\t\t\tcanRemove={rest.canRemove}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default FormComponent;\n","import React, { useState, useEffect } from \"react\";\nimport AxelorService from \"../services/axelor.rest\";\nimport { fetchCustomModel } from \"../Toolbar/api\";\nimport { translate, getDefaultGridFormName } from \"../utils\";\n\nconst metaViewService = new AxelorService({\n\tmodel: \"com.axelor.meta.db.MetaView\",\n});\nconst excludedUITypes = [\"panel\", \"label\", \"spacer\", \"button\"];\n\nconst showInGrid = (item) => {\n\treturn (\n\t\t!excludedUITypes.includes(item.type) && item.visibleInGrid && !item.hidden\n\t);\n};\n\nfunction RelationalFieldGridView({ attrs, id }) {\n\tconst {\n\t\tgridView,\n\t\ttargetModel: target,\n\t\ttitle,\n\t\tautoTitle,\n\t\taction,\n\t\ttargetJsonModel,\n\t} = attrs || {};\n\tconst [gridItems, setGridItems] = useState([]);\n\tconst [gridTitle, setGridTitle] = useState(null);\n\n\tuseEffect(() => {\n\t\tasync function getGrid() {\n\t\t\tlet viewName = gridView;\n\t\t\tif (action) {\n\t\t\t\tconst _context = {\n\t\t\t\t\t_id: null,\n\t\t\t\t};\n\t\t\t\tconst data = {\n\t\t\t\t\taction,\n\t\t\t\t\tmodel: \"com.axelor.meta.db.MetaAction\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcontext: _context,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\tconst actionResult = await metaViewService.action(data);\n\t\t\t\tif (\n\t\t\t\t\tactionResult.data &&\n\t\t\t\t\tactionResult.data[0] &&\n\t\t\t\t\tactionResult.data[0].view &&\n\t\t\t\t\tactionResult.data[0].view.views\n\t\t\t\t) {\n\t\t\t\t\tconst view = actionResult.data[0].view.views.find(\n\t\t\t\t\t\t(v) => v.type === \"grid\"\n\t\t\t\t\t);\n\t\t\t\t\tif (view) {\n\t\t\t\t\t\tviewName = view.name;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetJsonModel) {\n\t\t\t\tlet model;\n\t\t\t\tif (!targetJsonModel.name && targetJsonModel.id) {\n\t\t\t\t\tmodel = await fetchCustomModel(targetJsonModel.id);\n\t\t\t\t}\n\t\t\t\tviewName = getDefaultGridFormName(\n\t\t\t\t\tmodel || targetJsonModel,\n\t\t\t\t\tfalse,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst payload = {\n\t\t\t\tmodel: target,\n\t\t\t\tdata: {\n\t\t\t\t\ttype: \"grid\",\n\t\t\t\t\tname: viewName,\n\t\t\t\t},\n\t\t\t};\n\t\t\tif (viewName) {\n\t\t\t\tmetaViewService.view(payload).then((res) => {\n\t\t\t\t\tif (res.data && res.data.view) {\n\t\t\t\t\t\tconst { items = [], title } = res.data.view;\n\t\t\t\t\t\tsetGridTitle(title);\n\t\t\t\t\t\tif (targetJsonModel) {\n\t\t\t\t\t\t\tconst gridItems = [];\n\t\t\t\t\t\t\titems.forEach((item) => {\n\t\t\t\t\t\t\t\tconst { jsonFields = [] } = item;\n\t\t\t\t\t\t\t\tjsonFields.forEach((i) => {\n\t\t\t\t\t\t\t\t\tif (showInGrid(i)) {\n\t\t\t\t\t\t\t\t\t\tgridItems.push(i);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetGridItems(() => [...(gridItems || [])]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst { fields = [], jsonAttrs = [] } = res.data;\n\t\t\t\t\t\tlet displayFields = {};\n\t\t\t\t\t\tfields.forEach((field) => {\n\t\t\t\t\t\t\tdisplayFields[field.name] = field.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst allFields = items.map((i) => {\n\t\t\t\t\t\t\treturn { ...i, title: displayFields[i.name] };\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (jsonAttrs && jsonAttrs.length > 0) {\n\t\t\t\t\t\t\tjsonAttrs.forEach((i) => {\n\t\t\t\t\t\t\t\tif (showInGrid(i)) {\n\t\t\t\t\t\t\t\t\tallFields.push(i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetGridItems(allFields);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetGridItems([]);\n\t\t\t}\n\t\t}\n\t\tgetGrid();\n\t}, [gridView, target, targetJsonModel, id, action]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"one-to-many-header\">\n\t\t\t\t<span>{translate(title || gridTitle || autoTitle)}</span>\n\t\t\t</div>\n\t\t\t<table>\n\t\t\t\t<tbody className=\"one-to-many-row\">\n\t\t\t\t\t{[...Array(3)].map((e, index) => (\n\t\t\t\t\t\t<tr style={{ display: \"flex\" }} key={`row_${index}`}>\n\t\t\t\t\t\t\t{gridItems.map((item, i) => (\n\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\tclassName=\"one-to-many-col one-to-many-col-border\"\n\t\t\t\t\t\t\t\t\tkey={`td_${i}`}\n\t\t\t\t\t\t\t\t\tstyle={{ borderBottom: index === 0 ? \"1px solid #ddd\" : \"\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{index === 0 && item\n\t\t\t\t\t\t\t\t\t\t? translate(item.title || item.autoTitle)\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n}\n\nexport default RelationalFieldGridView;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { IDS, FIELD_TYPE, TYPE } from \"../constants\";\nimport RelationalFieldGridView from \"./RelationalFieldGridView\";\nimport { translate } from \"../utils\";\n\n// filter html(tags) compatible attributes\nconst filterInputProps = (props) => {\n\tconst allowed = [\n\t\t\"name\",\n\t\t\"title\",\n\t\t\"defaultValue\",\n\t\t\"placeholder\",\n\t\t\"readOnly\",\n\t\t\"checked\",\n\t\t\"disabled\",\n\t\t\"rows\",\n\t\t\"required\",\n\t];\n\t// return valid object with values\n\treturn allowed.reduce((obj, attr) => {\n\t\tif (props[attr] !== undefined) obj[attr] = props[attr];\n\t\tif (attr === \"required\") {\n\t\t\tobj[attr] = props[attr] === \"true\";\n\t\t}\n\t\treturn obj;\n\t}, {});\n};\n\n// Plain Textbox\nexport const TextInput = (props) => {\n\treturn (\n\t\t<input type=\"text\" autoComplete=\"off\" {...props} className=\"text-input\" />\n\t);\n};\n\n// Multiline Textbox i.e. Textarea\nexport const MultiTextInput = (props) => {\n\treturn <textarea rows={6} {...props} />;\n};\n\n// Blank Spacer to fill up space between two cells of Grid\nexport const Spacer = (props) => <div className=\"spacer\" />;\n\nexport const Separator = (props) => (\n\t<div className=\"spacer\">\n\t\t<hr className=\"separator-field\" />\n\t</div>\n);\n\nexport const Boolean = ({ inputProps, ...props }) => (\n\t<div className=\"boolean-wrapper\">\n\t\t<input {...inputProps} type=\"checkbox\" />\n\t\t<span className=\"boolean-text\" title={translate(props.title || props.name)}>\n\t\t\t{translate(props.title || props.name)}\n\t\t</span>\n\t</div>\n);\n\n// Button component\nexport const Button = ({ title, ...props }) => (\n\t<div className=\"button-container\">\n\t\t<button {...props} className=\"button-view\" title={translate(title)}>\n\t\t\t{translate(title)}\n\t\t</button>\n\t</div>\n);\n\nexport const MenuItem = ({ title, ...props }) => (\n\t<div className=\"menu-item-container\">{translate(title)}</div>\n);\n\nexport const Hilite = ({ color, background, strong }) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\n\t\t\t\t`hilite hilite hilite-background-${background} hilite-text-${color}`,\n\t\t\t\t{ \"hilite-strong\": strong }\n\t\t\t)}\n\t\t>\n\t\t\thilite\n\t\t</div>\n\t);\n};\n\n/**\n * Form \"Field\" Component\n * Used For User Inputs\n */\nfunction FieldComponent({ id, attrs }) {\n\t// check for dump field for empty panels\n\tif (id === IDS.dumpField) {\n\t\treturn <div className=\"dump-field\" />;\n\t}\n\n\tconst { name, title, serverType, multiline, type, autoTitle, widget } = attrs;\n\tconst inputProps = filterInputProps(attrs);\n\tlet _type =\n\t\tserverType && serverType !== \"field\" ? serverType.toLowerCase() : type;\n\tconst DefaultWidget = () => (\n\t\t<React.Fragment>\n\t\t\t{\n\t\t\t\t<label\n\t\t\t\t\tclassName=\"widget label\"\n\t\t\t\t\ttitle={translate(title || attrs.autoTitle || name)}\n\t\t\t\t>\n\t\t\t\t\t{translate(title || attrs.autoTitle || name)}\n\t\t\t\t</label>\n\t\t\t}\n\t\t\t{multiline ? (\n\t\t\t\t<MultiTextInput {...inputProps} />\n\t\t\t) : attrs.widget === \"Image\" ? (\n\t\t\t\t<img\n\t\t\t\t\talt={title || attrs.autoTitle || name}\n\t\t\t\t\tsrc=\"./images/not_found.png\"\n\t\t\t\t\tclassName=\"image-widget\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<TextInput\n\t\t\t\t\ttype={serverType === FIELD_TYPE.number ? \"number\" : \"text\"}\n\t\t\t\t\t{...inputProps}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tswitch (_type?.toLowerCase()) {\n\t\tcase FIELD_TYPE.boolean:\n\t\t\treturn (\n\t\t\t\t<Boolean\n\t\t\t\t\ttitle={title || autoTitle}\n\t\t\t\t\tname={name}\n\t\t\t\t\tinputProps={inputProps}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase FIELD_TYPE.spacer:\n\t\t\treturn <Spacer />;\n\t\tcase FIELD_TYPE.hilite:\n\t\t\treturn <Hilite {...attrs} />;\n\t\tcase FIELD_TYPE.separator:\n\t\tcase TYPE.divider:\n\t\t\treturn <Separator />;\n\t\tcase TYPE.menuItem:\n\t\t\treturn <MenuItem title={title} />;\n\t\tcase FIELD_TYPE.button:\n\t\t\treturn <Button {...inputProps} title={title || name} />;\n\t\tcase \"selection\":\n\t\tcase \"label\": {\n\t\t\treturn <span dangerouslySetInnerHTML={{ __html: title }} />;\n\t\t}\n\t\tcase \"panel-dashlet\":\n\t\tcase \"panel-related\":\n\t\tcase \"one-to-many\":\n\t\tcase \"json-one-to-many\":\n\t\t\treturn <RelationalFieldGridView attrs={attrs} id={id} />;\n\t\tcase \"many-to-many\":\n\t\tcase \"json-many-to-many\":\n\t\t\treturn widget !== \"TagSelect\" ? (\n\t\t\t\t<RelationalFieldGridView attrs={attrs} id={id} />\n\t\t\t) : (\n\t\t\t\t<DefaultWidget />\n\t\t\t);\n\t\tdefault:\n\t\t\treturn <DefaultWidget />;\n\t}\n}\n\nexport default FieldComponent;\n"],"sourceRoot":""}