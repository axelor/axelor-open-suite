/*
 * Axelor Business Solutions
 *
 * Copyright (C) 2022 Axelor (<http://axelor.com>).
 *
 * This program is free software: you can redistribute it and/or  modify
 * it under the terms of the GNU Affero General Public License, version 3,
 * as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
(this["webpackJsonpaxelor-assignment-builder"]=this["webpackJsonpaxelor-assignment-builder"]||[]).push([[0],{169:function(e,t,a){},170:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),c=(a(169),a(12)),l=a(259),s=a(142),u=(a(170),a(8)),d=a.n(u),f=a(32),b=a(19),m=a(20),p=a(5),j=a(244),v=a(145),h=a(258),O=a(76),g=a(240),x=a(140),y=a.n(x),C=a(141),w=a.n(C),k=a(54),F=a(71),N=a.n(F),S=a(25),M=a(268),T=a(196),R=a(264),E=a(124),_=a.n(E),L=["createdBy","createdOn","updatedBy","updatedOn","version","id"],I={CONTEXT:"context",SELF:"self",NONE:"none",SOURCE:"source",PARENT:"parent"},P="CUSTOM",A={date:"DD/MM/YYYY",time:"HH:mm:ss",datetime:"DD/MM/YYYY HH:mm"},B=["one_to_one","many_to_one","many_to_many","one_to_many","json_one_to_one","json_many_to_one","json_many_to_many","json_one_to_many"],V=["many_to_many","one_to_many","json_many_to_many","json_one_to_many"],J=["panel","label","spacer","button"],K=a(15),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return JSON.parse(JSON.stringify({name:e.name,version:e.version,type:e.type,fullName:e.fullName,modelType:e.modelType,title:e.title,targetJsonModel:e.targetJsonModel,jsonModel:e.jsonModel,targetModel:e.targetModel,id:e.id,target:e.target}))}))};function U(e,t,a,n){t.json;var r=[],o=function(e){var t,r,o=e.value,i=(e.contextModel,e.modelSubField),c=(e.selfField,e.subFieldName,e.sourceField,o&&o.from||a),l=null===o||void 0===o?void 0:o.selected,s=function(e){var t="";return e&&e.forEach((function(e){if(e.name){var a=Fe(e.name);t=t?"".concat(t,"?.").concat(a):"".concat(a)}})),t}(i);e.type.toLowerCase();if(c===I.CONTEXT&&(l=s?{value:s}:null),c===I.SOURCE)if(s){var u=i[0],d=null===n||void 0===n?void 0:n.fullName,f=null===u||void 0===u?void 0:u.fullName;n.modelType===P&&(d=null===n||void 0===n?void 0:n.name),u.modelType===P&&(f=null===u||void 0===u?void 0:u.name),l=f&&d&&f===d?{value:"SOURCE"}:{value:s}}else l=null;if(c===I.SELF&&(l=s?{value:s}:null),[I.PARENT].includes(c)&&(null===(t=l)||void 0===t?void 0:t.value)&&"object"===typeof(null===(r=l)||void 0===r?void 0:r.value)){var b=Fe(l.value.name);l=s?{value:"".concat(b,"?.").concat(s)}:{value:b}}return l||null};return e.forEach((function(e){e.name,e.subFieldName,e.contextModel;var n,i=e.value,c=e.dataPath,l=(e.target,e.type),s=Object(p.a)({},i),u=s||{},d=u.fields,f=(u.selected,function(e){return e.target?e.target.split(".").pop():e.targetModel?e.targetModel.split(".").pop():null}(e)),b=e.jsonTarget,m=null===(n=e.jsonModel)||void 0===n?void 0:n.name;if("object"===typeof d&&d&&(s.fields=U(i.fields,t)),s.selected=o(e),s&&!s.from&&(s.from=a),!e.isRemoved&&s.selected&&![void 0,null].includes(s.selected.value)){var j={dataPath:c,type:l,target:f||void 0,value:s,name:e.name,modelSubField:D(e.modelSubField)||void 0,sourceField:e.sourceField||void 0,selfField:e.selfField||void 0};"many-to-one"===l.toLowerCase()&&(j.jsonModel=m||void 0,!m&&b&&(j.jsonModel=b||void 0)),"json-many-to-one"===l.toLowerCase()&&(j.target=e["targetJsonModel.name"]),r.push(JSON.parse(JSON.stringify(j)))}})),r}var z,H=a(125),W=a(126),X={};var Y=new(function(){function e(){Object(H.a)(this,e);var t=new Headers;t.append("Accept","application/json"),t.append("Content-Type","application/json"),t.append("X-Requested-With","XMLHttpRequest"),t.append("X-CSRF-Token",function(e){var t=document.cookie||"";return t!==z&&(z=t,X=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),X[e]}("CSRF-TOKEN")),this.baseURL="..",this.headers=t}return Object(W.a)(e,[{key:"fetch",value:function(e){function t(t,a,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,a){return fetch(e,a).then((function(e){return-1!==["head","delete"].indexOf(t.toLowerCase())?e:e.headers.get("content-type").includes("application/json")?e.json():e})).catch((function(e){}))}))},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({method:"POST",credentials:"include",headers:this.headers,mode:"cors",body:JSON.stringify(a)},t);return"GET"===t.method&&delete n.body,this.fetch("".concat(this.baseURL).concat(0===e.indexOf("/")?e:"/".concat(e)),t.method,n)}},{key:"get",value:function(e){return this.request(e,{method:"GET"})}},{key:"post",value:function(e,t){return this.request(e,{method:"POST"},t)}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(p.a)({offset:0},t),n="ws/rest/".concat(e,"/search");return this.post(n,a)}},{key:"fields",value:function(e){return this.post("/ws/meta/view/fields",e)}},{key:"fetchFields",value:function(e){var t="/ws/meta/fields/".concat(e);return this.get(t)}},{key:"fetchRecord",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="ws/rest/".concat(e,"/").concat(t,"/fetch");return this.post(n,a)}},{key:"add",value:function(e,t){var a={data:t},n="ws/rest/".concat(e);return this.post(n,a)}},{key:"action",value:function(e,t){return this.post("/ws/action/"+e,t)}}]),e}());function q(e){return G.apply(this,arguments)}function G(){return(G=Object(b.a)(d.a.mark((function e(t){var a,n,r,o,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("ws/rest/com.axelor.meta.db.MetaSelect/search",{data:{_domain:"self.name = :name",_domainContext:{name:t}},fields:["name","items"],offset:0,limit:1,sortBy:null});case 2:if(a=e.sent,n=a.data,!(r=n&&n[0])){e.next=12;break}return o=r.items,e.next=9,Y.post("ws/rest/com.axelor.meta.db.MetaSelectItem/search",{data:{_domain:"self.id in (:list)",_domainContext:{list:o.map((function(e){return e.id}))}},fields:["title","value","color","data","order"],offset:0,limit:-1,sortBy:["order"]});case 9:return i=e.sent,c=i.data,e.abrupt("return",c);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return Q.apply(this,arguments)}function Q(){return(Q=Object(b.a)(d.a.mark((function e(){var t,a,n,r,o,i,c,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},a=l.length>1?l[1]:void 0,e.t1=!a||"metaModel"===a,!e.t1){e.next=7;break}return e.next=6,te(t);case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=[];case 10:if(n=e.t0,e.t3=!a||"metaJsonModel"===a,!e.t3){e.next=16;break}return e.next=15,ne(t);case 15:e.t3=e.sent;case 16:if(e.t2=e.t3,e.t2){e.next=19;break}e.t2=[];case 19:for(r=e.t2,o=[],i=0;i<n.length;i++)o.push(Object(p.a)(Object(p.a)({},n[i]),{},{type:"metaModel"}));for(c=0;c<r.length;c++)o.push(Object(p.a)(Object(p.a)({},r[c]),{},{type:"metaJsonModel"}));return e.abrupt("return",o||[]);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(b.a)(d.a.mark((function e(t){var a,n,r,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,Y.search("com.axelor.meta.db.MetaModel",{data:{criteria:[{fieldName:"name",operator:"=",value:t}]},fields:["name","metaFields","id","fullName"]});case 3:if((n=e.sent)&&-1!==n.status&&(r=(n||{}).data,a=(void 0===r?[]:r)[0]||null),a){e.next=11;break}return o=[{fieldName:"name",operator:"=",value:t}],e.next=9,ne(o);case 9:i=e.sent,a=i[0];case 11:return e.abrupt("return",a||null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(b.a)(d.a.mark((function e(t){var a,n,r,o,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t&&t.search&&a.push({fieldName:"fullName",operator:"like",value:t.search}),e.next=4,Y.search("com.axelor.meta.db.MetaModel",{data:{criteria:a},fields:["name","metaFields","id","fullName"]});case 4:return n=e.sent,r=[],t&&t.search&&r.push({fieldName:"name",operator:"like",value:t.search}),e.next=9,ne(r);case 9:if(o=e.sent,!n||-1!==n.status){e.next=12;break}return e.abrupt("return",[]);case 12:return i=(n||{}).data,c=void 0===i?[]:i,e.abrupt("return",[].concat(Object(m.a)(c),Object(m.a)(o)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return re.apply(this,arguments)}function re(){return(re=Object(b.a)(d.a.mark((function e(){var t,a,n,r,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.next=3,Y.search("com.axelor.meta.db.MetaJsonModel",{data:{criteria:t}});case 3:if(!(a=e.sent)||-1!==a.status){e.next=6;break}return e.abrupt("return",[]);case 6:return n=(a||{}).data,r=void 0===n?[]:n,e.abrupt("return",r.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{modelType:P})})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(b.a)(d.a.mark((function e(t){var a,n,r,o,i,c,l,s,u,f,b,p,j,v,h=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.length>1&&void 0!==h[1]&&h[1],a=[],n="".concat(t.fullName||t.target),t.modelType!==P&&n){e.next=25;break}return r=[{fieldName:"jsonModel.name",operator:"=",value:t.name}],o={criteria:r},e.next=8,Y.search("com.axelor.meta.db.MetaJsonField",{data:o,fields:["type","nameField","required","model","targetModel","targetJsonModel","targetJsonModel.name","modelField","jsonModel","jsonModel.name","title","name","selection"],sortBy:["title"]});case 8:i=e.sent,c=(i||{}).data,l=void 0===c?[]:c,s=0;case 11:if(!(s<l.length)){e.next=23;break}if(!(u=l[s]).selection){e.next=18;break}return e.next=16,q(u.selection);case 16:f=e.sent,u.selectionList=f;case 18:u.jsonModel&&(u.jsonModel.name=u["jsonModel.name"]),a.push(u);case 20:s++,e.next=11;break;case 23:e.next=33;break;case 25:return e.next=27,Y.fetchFields(n);case 27:if(!(b=e.sent)||-1!==b.status){e.next=30;break}return e.abrupt("return",[]);case 30:p=(b||{}).data,j=void 0===p?[]:p,a=Object(m.a)(j.fields),Object.keys(j.jsonFields).forEach((function(e){var t,n=j.jsonFields[e];(t=a).push.apply(t,Object(m.a)(Object.values(n)))}));case 33:return v=Me(a,"title"),e.abrupt("return",v.filter((function(e){return!J.includes(e.type)})));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(d.a.mark((function e(t){var a,n,r,o,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.targetModel){e.next=7;break}return e.next=3,oe({fullName:t.targetModel});case 3:return a=e.sent,e.abrupt("return",a);case 7:if(!t.targetJsonModel){e.next=16;break}return n=[{fieldName:"jsonModel.id",operator:"=",value:t.targetJsonModel.id}],r={criteria:n},e.next=12,Y.search("com.axelor.meta.db.MetaJsonField",{data:r,fields:["type","nameField","required","model","targetModel","targetJsonModel","targetJsonModel.name","modelField","jsonModel","jsonModel.name","title","name"],sortBy:["title"]});case 12:return o=e.sent,i=(o||{}).data,c=(void 0===i?[]:i).map((function(e){return e.jsonModel&&(e.jsonModel.name=e["jsonModel.name"]),e})),e.abrupt("return",Object(m.a)(c));case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(b.a)(d.a.mark((function e(t,a){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.add(t.model,a);case 2:if(!(n=e.sent)||-1!==n.status){e.next=5;break}return e.abrupt("return",null);case 5:return r=(n||{}).data,o=void 0===r?[]:r,e.abrupt("return",o[0]||null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(b.a)(d.a.mark((function e(t,a){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.fetchRecord(t,a);case 2:if(!(n=e.sent)||-1!==n.status){e.next=5;break}return e.abrupt("return",null);case 5:return r=(n||{}).data,o=void 0===r?[]:r,e.abrupt("return",o[0]||null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return me.apply(this,arguments)}function me(){return(me=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.search("com.axelor.meta.db.MetaJsonRecord",{data:{criteria:[{fieldName:"jsonModel",operator:"=",value:t}],operator:"and"}});case 2:if(!(a=e.sent)||-1!==a.status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",a&&a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return je.apply(this,arguments)}function je(){return(je=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.search("com.axelor.meta.db.MetaJsonRecord",{data:{_domain:t}});case 2:if(!(a=e.sent)||-1!==a.status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",a&&a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return he.apply(this,arguments)}function he(){return(he=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.search("com.axelor.meta.db.MetaJsonField",{data:{_domain:"self.jsonModel.name = '".concat(t,"' and self.nameField = true")},fields:["name"]});case 2:if(!((a=e.sent)&&a.status>-1)){e.next=5;break}return e.abrupt("return",a.data&&a.data[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.search(t);case 2:if(!(a=e.sent)||-1!==a.status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",a&&a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(b.a)(d.a.mark((function e(t,a){var n,r,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"action-mapper-method-create-script-from-json",n={data:{context:{_model:a,_jsonString:t}}},e.next=4,Y.action("action-mapper-method-create-script-from-json",n);case 4:if(r=e.sent,o=r.data,i=void 0===o?[]:o,!(Array.isArray(i)&&i[0]&&i[0].values&&i[0].values._scriptString)){e.next=9;break}return e.abrupt("return",i[0].values._scriptString);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=a(53),we=a.n(Ce);function ke(e,t){var a=r.a.useRef(null),n=function(){return a.current&&clearTimeout(a.current)},o=function(e){return a.current=setTimeout(e,t)};return r.a.useEffect((function(){return function(){return n()}}),[]),function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n(),o((function(){return e.apply(void 0,a)}))}}function Fe(e){if(e)return e.charAt(0).toLowerCase()+e.slice(1)}function Ne(e){if(e)return e.charAt(0).toUpperCase()+e.slice(1)}function Se(e){return window._t&&"string"===typeof e?window._t(e):e}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.sort((function(e,a){var n=e[t],r=a[t];return n<r?-1:n>r?1:0}))}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g,"_").toLowerCase()},n=[].concat(Object(m.a)(L),Object(m.a)(t)),r=e.filter((function(e){return-1===n.indexOf(e.name)}));return r.filter((function(e){return!V.includes(a(e.type))}))}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/-/g,"_").toLowerCase();return-1!==B.indexOf(t)}function Ee(e){var t=e.targetName,a=(e.name,e.name);return t&&(a="".concat(a,".").concat(t)),a}var _e="row",Le=a(3),Ie=function(e){return"_selectId"===e?"id":e},Pe=Object(T.a)((function(e){return{listbox:{maxHeight:"300px !important"}}}));function Ae(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),s=Object(c.a)(l,2),u=s[0],f=s[1],m=Object(n.useState)(e.isMulti?[]:null),j=Object(c.a)(m,2),v=j[0],h=j[1],O=Object(n.useState)(""),x=Object(c.a)(O,2),y=x[0],C=x[1],w=e.name,k=e.value,F=e.onChange,N=e.options,T=e.optionLabelKey,E=void 0===T?"title":T,L=e.optionValueKey,I=void 0===L?"id":L,P=e.isMulti,A=void 0!==P&&P,B=e.title,V=e.fetchAPI,J=e.inline,K=e.InputProps,D=e.error,U=e.filterSelectedOptions,z=void 0!==U&&U,H=e.disableCloseOnSelect,W=void 0===H||H,X=e.readOnly,Y=void 0!==X&&X,q=e.concatValue,G=e.inputRootClass,$=Object(S.a)(e,["name","value","onChange","options","optionLabelKey","optionValueKey","isMulti","title","fetchAPI","inline","InputProps","error","filterSelectedOptions","disableCloseOnSelect","readOnly","concatValue","inputRootClass"]),Q=Pe(),Z=Object(n.useState)(!1),ee=Object(c.a)(Z,2),te=ee[0],ae=ee[1],ne=r.a.useCallback((function(e){return N&&N.find((function(t){return t&&t[Ie(I)]===e.trim()}))}),[N,I]);function re(){return(re=Object(b.a)(d.a.mark((function e(){var t,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:"",C(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=ke((function(){return re.apply(this,arguments)}),400);function ie(e){"Backspace"===e.key&&v&&v[Ie(E)]===y&&F(null,"backspace")}function ce(e,t){F("string"===typeof k?A?e.map((function(e){return e&&e[Ie(I)]})).join(",")||[]:e&&e[Ie(I)]:e,t)}Object(n.useEffect)((function(){var e=!0;return o&&(f([]),ae(!0),V?Object(b.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V({search:y});case 2:a=t.sent,e&&(f(a),ae(!1));case 4:case"end":return t.stop()}}),t)})))():(f(N),ae(!1))),function(){e=!1,ae(!1)}}),[V,N,y,o]),Object(n.useEffect)((function(){if("string"===typeof k){var e=k.split(",");h(A?e.map((function(e){return ne(e)})):ne(e[0]))}else h(k||(A?[]:null))}),[k,A,ne]);var le=function(e){return"metaJsonModel"===(e&&e.type)?"".concat(e&&e[Ie(E)]?e[Ie(E)]:""," (Custom model)")||!1:"fieldName"===w?"".concat(Se(e&&e.title?e.title:"")," (").concat(e&&e[Ie(E)],")"):e?e[Ie(E)]&&q&&e[Ie(I)]?"".concat(e[Ie(E)]," (").concat(e[Ie(I)],")"):e[Ie(E)]?e[Ie(E)]:e.name?e.name:e.id?e.id.toString():"":""};return Object(Le.jsx)(R.a,Object(p.a)(Object(p.a)({getOptionSelected:function(e,t){return A?e[Ie(I)]===t[Ie(I)]:le(e)===le(t)},getOptionLabel:function(e){return le(e)},loading:te,id:_()("select-widget"),open:o,onOpen:function(){return i(!0)},onClose:function(){return i(!1)},disabled:Y,value:v?A?Array.isArray(v)?v:[]:v:A?[]:null,onChange:function(e,t,a){return ce(t,a)},options:u||[],multiple:A,filterSelectedOptions:z,onInputChange:function(e,t){return oe(t)},classes:{option:"menu-item",inputRoot:G},renderInput:function(e){return Object(Le.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{error:D,label:J?"":B,fullWidth:!0,onClick:function(){Y||i(!0)},InputProps:Object(p.a)(Object(p.a)(Object(p.a)({},K),e.InputProps),{},{endAdornment:Object(Le.jsxs)(r.a.Fragment,{children:[te?Object(Le.jsx)(g.a,{className:Q.circularProgress,size:15}):null,e.InputProps.endAdornment]})})},A?{}:{onKeyDown:ie}))}},A?{disableCloseOnSelect:W}:{}),$))}var Be=a(252),Ve=a(255),Je=a(257),Ke=a(251),De=a(256),Ue=a(250),ze=a(192),He=a(138),We=a.n(He),Xe=a(253),Ye=a(254),qe=a(266),Ge=a(241),$e=a(242),Qe=a(243),Ze=a(265),et=a(245),tt=a(246),at=Object(k.a)({dialogPaper:{minHeight:"75vh",maxHeight:"75vh"},cardContent:{height:"100%",minWidth:250,paddingLeft:0,paddingRight:0},cardContentItemText:{fontSize:12,lineHeight:.5,paddingBottom:8},cardContentItemContainer:{marginLeft:10},cardContentItemTitle:{fontSize:16},cardActionView:{justifyContent:"flex-end"},noFields:{textAlign:"center",color:"gray"},dialogTitle:{"& > h2":{display:"flex",justifyContent:"space-between"}},capitalizeText:{textTransform:"capitalize"},subHeaderRow:{borderBottom:"1px solid #eee",paddingLeft:16,paddingRight:16,paddingBottom:8,display:"flex"},fieldListViewContainer:{marginLeft:16,marginRight:2,marginTop:8,overflowY:"auto",height:"53.8vh"},searchField:{width:"75%","& input":{padding:"8px 0 7px !important"}},checkbox:{color:"#2185D0 !important","&$checked":{color:"#2185D0 !important",backgrounColor:"#2185D0 !important"}},selectButton:{backgroundColor:"#0275d8",textTransform:"capitalize","&:hover":{backgroundColor:"#025aa5",borderColor:"#014682"}},cancelButton:{backgroundColor:"#fff",borderColor:"#cccccc",textTransform:"capitalize",color:"#333333","&:hover":{backgroundColor:"#e6e6e6",borderColor:"#adadad"}}});function nt(e){var t,a,o=e.data,i=e.onSubmit,l=e.open,s=e.onClose,u=at(),d=r.a.useState([]),f=Object(c.a)(d,2),b=f[0],p=f[1],v=r.a.useState(!1),h=Object(c.a)(v,2),g=h[0],x=h[1],y=r.a.useState(""),C=Object(c.a)(y,2),w=C[0],k=C[1],F=Object.values(o).filter((function(e){return!1!==e.isRemoved})),N=r.a.useCallback((function(e){e.stopPropagation(),s(),p([])}),[s]),S=r.a.useCallback((function(e){e.stopPropagation();var t=F.filter((function(e,t){return-1!==b.indexOf(e.name)}));i&&i(t),N(e),x(!1)}),[i,b,N,F]),T=r.a.useCallback((function(e){e.stopPropagation();var t=e.target,a=t.value;t.checked;p((function(e){return-1!==e.indexOf(a)?(x(!1),Object(m.a)(e.filter((function(e){return e!==a})))):[].concat(Object(m.a)(e),[a])}))}),[]),R=r.a.useCallback((function(e){p(e?F.map((function(e){return e.name})):[]),x(e)}),[F]),E=r.a.useCallback((function(e){k(e.target.value)}),[]);return Object(n.useEffect)((function(){k("")}),[l]),Object(Le.jsx)(r.a.Fragment,{children:Object(Le.jsxs)(qe.a,{fullWidth:!0,open:l,classes:{paper:u.dialogPaper},onClose:N,"aria-labelledby":"scroll-dialog-title",children:[Object(Le.jsx)(Ge.a,{id:"scroll-dialog-title",className:u.dialogTitle,children:Object(Le.jsx)("span",{children:"Select Fields"})}),Object(Le.jsxs)($e.a,{dividers:!0,classes:{root:u.cardContent},children:[Object(Le.jsxs)("div",{className:u.subHeaderRow,children:[Object(Le.jsx)(Qe.a,{control:Object(Le.jsx)(Ze.a,{classes:{root:u.checkbox},onChange:function(){return R(!g)},value:g,checked:g})}),Object(Le.jsx)(M.a,{classes:{root:u.searchField},placeholder:"Search fields",onChange:function(e){return E(e)}})]}),Object(Le.jsxs)("div",{className:u.fieldListViewContainer,children:[(t=F,a=w,a?t.filter((function(e){return(e.title||"").toLowerCase().includes(a.toLowerCase())||(e.name||"").toLowerCase().includes(a.toLowerCase())})):t).map((function(e,t){return Object(Le.jsx)(j.a,{container:!0,children:Object(Le.jsx)(Qe.a,{control:Object(Le.jsx)(Ze.a,{classes:{root:u.checkbox},onChange:T,value:e.name,checked:-1!==b.indexOf(e.name)}),label:Object(Le.jsxs)("div",{className:u.cardContentItemContainer,children:[Object(Le.jsx)(O.a,{className:u.cardContentItemTitle,children:e.title}),Object(Le.jsx)(O.a,{className:u.cardContentItemText,children:e.name})]})})},t)})),0===F.length&&Object(Le.jsx)(O.a,{className:u.noFields,children:"No fields available"})]})]}),Object(Le.jsxs)(et.a,{className:u.cardActionView,children:[Object(Le.jsx)(tt.a,{className:u.cancelButton,variant:"contained",color:"secondary",onClick:N,children:"Close"}),Object(Le.jsx)(tt.a,{className:u.selectButton,variant:"contained",color:"primary",onClick:S,children:"OK"})]})]})})}var rt=r.a.memo(nt),ot=a(133),it=a.n(ot),ct=Object(k.a)({container:{display:"flex"},input:{width:"100%",display:"flex",position:"relative","& > div:before":{border:0}},parentField:{marginRight:5,color:"#3f51b5"},clickableView:{cursor:"pointer","& input":{cursor:"pointer"}},fieldName:{fontSize:12},fieldNameColumn:{width:"unset"},addFieldButton:{padding:0,marginLeft:5}}),lt=function(e){var t=e.type.replace(/-/g,"_").toLowerCase();return-1!==B.indexOf(t)};function st(e){var t=ct(),a=e.item,n=e.handleAdd,o=r.a.useState(!1),i=Object(c.a)(o,2),l=i[0],s=i[1],u=function(e){if(lt(e)){var t=e.value;return(null===t||void 0===t?void 0:t.fields)||null}return null}(a);return r.a.useEffect((function(){a&&lt(a)&&a.subFieldName&&s(!0)}),[a]),a?Object(Le.jsxs)("div",{className:N()(t.input),children:[Object(Le.jsx)(j.a,{container:!0,direction:"column",className:t.fieldNameColumn,children:Object(Le.jsx)(O.a,{title:a.name,children:a.title||a.autoTitle||a.name})}),Object(Le.jsx)("div",{children:u&&l&&Object(Le.jsx)(rt,{data:u,iconButton:!0,onSubmit:function(e){return n(e)},icon:Object(Le.jsx)(it.a,{}),buttonTitle:"Add Fields",iconButtonClassName:t.addFieldButton})})]}):null}var ut=r.a.memo(st),dt=a(236);function ft(e){var t=e.name,a=e.title,n=e.autoTitle,o=e.value,i=void 0===o?"":o,l=(e.onChange,e.onBlur),s=e.readOnly,u=e.inline,d=e.InputProps,f=e.style,b=Object(S.a)(e,["name","title","autoTitle","value","onChange","onBlur","readOnly","inline","InputProps","style"]),m=r.a.useState(),j=Object(c.a)(m,2),v=j[0],h=j[1];return r.a.useEffect((function(){h(i)}),[i]),u?Object(Le.jsx)(dt.a,Object(p.a)({style:Object(p.a)({width:"100%"},f),placeholder:a,inputProps:{"aria-label":a},name:t,onChange:function(e){return h(e.target.value)},onBlur:function(e){return l(e.target.value)},autoComplete:"off",readOnly:s,disabled:s,value:v||""},b)):Object(Le.jsx)(M.a,Object(p.a)({label:a||n,name:t,style:Object(p.a)({width:"100%"},f),onChange:function(e){return h(e.target.value)},onBlur:l,autoComplete:"off",InputProps:Object(p.a)({readOnly:s},d),value:v||"",className:b.className},b))}ft.defaultProps={rows:3,readOnly:!1};var bt=ft;function mt(e){var t=e.type,a=void 0===t?"integer":t,o=e.title,i=e.onChange,l=e.value,s=void 0===l?0:l,u=(e.readOnly,e.scale),d=void 0===u?2:u,f=(e.customeFormat,e.onBlur),b=Object(S.a)(e,["type","title","onChange","value","readOnly","scale","customeFormat","onBlur"]),m=Object(n.useState)(s),j=Object(c.a)(m,2),v=j[0],h=j[1],O=Object(n.useCallback)((function(e){return Number(Number(e).toFixed("integer"===a?0:d))}),[a,d]);return r.a.useEffect((function(){h(O(s))}),[s,h,O]),Object(Le.jsx)(bt,Object(p.a)({onChange:h,title:o,type:"number",value:"".concat(v),onBlur:function(e){i(O(e.target.value)),h(O(e.target.value)),f&&f(e)}},b))}mt.defaultProps={readOnly:!1};var pt=mt,jt=a(134),vt=a(247),ht=a(248),Ot=a(262),gt=a(22),xt={date:vt.a,time:ht.a,datetime:Ot.a};var yt=function(e){var t=e.inline,a=e.type,o=void 0===a?"date":a,i=Object(S.a)(e,["inline","type"]),l=Object(n.useState)(!1),s=Object(c.a)(l,2),u=s[0],d=s[1],f=r.a.useRef(),b=(i.name,i.title),m=i.format,j=(i.error,i.onChange),v=Object(S.a)(i,["name","title","format","error","onChange"]),h=xt[o];return r.a.useEffect((function(){u&&(f.current=v.value)}),[u,v.value]),Object(Le.jsx)(gt.a,{utils:jt.a,children:Object(Le.jsx)(h,Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({autoOk:!0,open:u,ampm:!1,views:"date"===o?["date"]:"datetime"===o?["date","hours","minutes"]:"time"===o?["hours","minutes","seconds"]:["date"],onChange:function(e){f.current=e,j(e)},PopoverProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},disableToolbar:!0,variant:"inline"},t?{invalidDateMessage:""}:{}),{},{style:Object(p.a)({width:"100%"},t?{margin:0}:{}),label:t?"":b,format:m||A[o]},"time"!==o?{animateYearScrolling:!1}:{}),v),{},{onKeyDown:function(e){40===e.keyCode&&d(!0)},onClose:function(){j(f.current),d(!1)},onOpen:function(){return d(!0)}}))})},Ct=a(271),wt=a(238),kt=a(270),Ft=a(263),Nt=Object(k.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},select:{width:"100%"}}}));function St(e){var t=e.name,a=e.value,n=void 0===a?"":a,r=e.onChange,o=e.options,i=e.title,c=e.className,l=Object(S.a)(e,["name","value","onChange","options","title","className"]),s=Nt();return Object(Le.jsxs)(wt.a,{className:N()(s.formControl,c),children:[Object(Le.jsx)(kt.a,{children:i}),Object(Le.jsx)(Ft.a,Object(p.a)(Object(p.a)({value:n,onChange:function(e){return r(e.target.value)},name:t,style:{marginRight:8},classes:{select:s.select}},l),{},{children:o&&Array.isArray(o)&&o.map((function(e,t){var a=e.name,n=e.title;return Object(Le.jsx)(Ct.a,{value:a,children:n},t)}))}))]})}Object(k.a)({container:{display:"flex",flexDirection:"row"},selection:{minWidth:150,marginRight:20}});var Mt=a(260),Tt=a(261),Rt={border:"1px dashed gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white"},Et=function(e){var t=e.id,a=(e.text,e.index),r=e.moveCard,o=Object(S.a)(e,["id","text","index","moveCard"]),i=Object(n.useRef)(null),l=Object(Mt.a)({accept:_e,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var n;if(i.current){var o=e.index,c=a;if(o!==c){var l=null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(l.bottom-l.top)/2,u=t.getClientOffset().y-l.top;o<c&&u<s||o>c&&u>s||(r(o,c),e.index=c)}}}}),s=Object(c.a)(l,2),u=s[0].handlerId,d=s[1],f=Object(Tt.a)({type:_e,item:function(){return{id:t,index:a}},collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(c.a)(f,3),m=b[0].isDragging,j=b[1],v=b[2],h=m?0:1;return j(d(i)),o.children({preview:v,ref:i,style:Object(p.a)(Object(p.a)({},Rt),{},{opacity:h}),handlerId:u})},_t=a(267),Lt=a(137),It=a.n(Lt),Pt=Object(k.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)},rightIcon:{width:"0.8em",height:"0.8em"}}})),At=function(e){return"_selectId"===e?"id":e};var Bt=function(e){var t=e.sourceModel,a=e.value,n=e.onChange,o=e.parentRow,i=e.targetModel,c=e.isContext,l=void 0!==c&&c,s=e.isM2o,u=void 0!==s&&s,f=Object(S.a)(e,["sourceModel","value","onChange","parentRow","targetModel","isContext","isM2o"]),m=Pt(),j=function(){if(Array.isArray(a)&&a.length){var e=a.filter((function(e){return e.name})),n=e[e.length-1];return l&&e.length-1===0?n:"com.axelor.meta.db.MetaJsonRecord"===n.model&&n.targetModel?{fullName:n.targetModel}:n.target?{fullName:n.target}:{fullName:n.model}}return t||(o?{fullName:o.target}:i||void 0)},v=r.a.useCallback((function(e,t){if("remove-option"===t){var r=function(e,t){for(var a,n=function(n){var r=e[n];if(-1===t.findIndex((function(e){return e.name===r.name})))return a=n,"break"},r=0;r<e.length&&"break"!==n(r);r++);return a}(a,e);r&&e.splice(r,e.length-1)}n(e)}),[a,n]),h=function(e){var t=f.optionLabelKey,a=f.optionValueKey,n=f.concatValue,r=f.name;return"metaJsonModel"===(e&&e.type)?"".concat(e&&e[At(t)]?e[At(t)]:""," (Custom model)")||!1:"fieldName"===r?"".concat(Se(e&&e.title?e.title:"")," (").concat(e&&e[At(t)],")"):e?e[At(t)]&&n&&e[At(a)]?"".concat(e[At(t)]||e[At(a)]):e[At(t)]?e[At(t)]:e.name?e.name:e.id?e.id.toString():"":""};return Object(Le.jsx)("div",{className:f.containerClassName,children:Object(Le.jsx)(Ae,Object(p.a)({title:e.title,isMulti:!0,fetchAPI:Object(b.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&a&&a[0])){e.next=3;break}if("SOURCE"!==a[0].title){e.next=3;break}return e.abrupt("return",[]);case 3:if(!l||Array.isArray(a)&&a.length){e.next=9;break}return e.next=6,$();case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,oe(j());case 11:e.t0=e.sent;case 12:return n=e.t0,t&&(!a||a.length<1)&&(r=Object.assign({},t,{title:"SOURCE"}),n.splice(0,0,Object(p.a)({},r))),u&&a&&a.length>0&&(n=n.filter((function(e){return["many_to_one","one_to_one"].includes(e.type.toLowerCase())&&!L.includes(e.name)}))),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)}))),value:a,onChange:v,renderTags:function(e,t){return e.map((function(a,n){return Object(Le.jsxs)(r.a.Fragment,{children:[Object(Le.jsx)(_t.a,Object(p.a)({title:a[At(f.optionValueKey)],label:h(a),className:m.chip},t({index:n}))),n<e.length-1&&Object(Le.jsx)(It.a,{className:m.rightIcon})]},n)}))}},f))})},Vt=Object(k.a)((function(e){return{root:{width:"100%",overflowX:"auto",height:"86vh",overflowY:"auto"},table:{minWidth:650,"& td":{padding:"0px 16px !important"}},tableRowRoot:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"& .MuiInput-underline:before":{borderBottom:0}},input:{width:"100%"},error:{fontSize:"0.7em",position:"absolute",paddingTop:1,color:"red",fontWeight:"bold"},valueInputContainer:{position:"relative"},radioInput:{padding:4},iconButton:{padding:"8px",marginTop:7},deleteIcon:{color:"#0275d8"},headerTitle:{paddingLeft:0,textAlign:"center"},addFieldButton:{left:10,top:7,textTransform:"capitalize"},searchField:{marginLeft:20,"&>div":{marginTop:10}}}})),Jt=(I.SELF,I.CONTEXT,I.NONE,function(e){return e.type.replace(/-/g,"_").toLowerCase()}),Kt=function(e,t,a){var n=[{title:"Self",id:I.SELF},{title:"Context",id:I.CONTEXT},{title:"Expression",id:I.NONE},{title:"Source",id:I.SOURCE}],r=Object(K.get)(t,"value.from",a);return t&&[I.CONTEXT,I.SELF,I.SOURCE].includes(r)&&n.push({title:"Parent",id:I.PARENT}),n},Dt=function(e){var t,a=(e.value||{}).selected;return a&&"object"===typeof a.value?a.value:(a&&(t=a.value),{name:t})},Ut=function(e){var t=(e.value||{}).selected,a=void 0===t?{}:t;if(a)return Re(e.type)?Object(f.a)({},a.targetName,a.value):a.value},zt=function(e){var t={};return e.subField&&(t.borderBottom="0px"),t},Ht=function(e,t,a){var n;return e.id===I.PARENT?!(null===t||void 0===t||null===(n=t.value)||void 0===n?void 0:n.selected):e.id===I.SOURCE&&!a},Wt=function(e,t){var a=e.contextModel,n=Object(K.get)(e,"value.from",t);return a&&"context"===n?{fullName:a.target}:[I.SELF,I.SOURCE,I.PARENT].includes(n)?{fullName:Dt(e).target}:{}},Xt=function(e,t,a){var n;(t&&t[e.targetName]&&(n=e.targetName),!n&&a&&t&&t[a]&&(n=a),n)||(n=(t?t.name:null)?"name":"_selectId");return n};function Yt(e){e.operator;var t=e.editor,a=e.internalProps,r=(e.parentType,a.onChange),o=a.value,i=Object(S.a)(a,["onChange","value"]),l=Vt(),s=i.field,u=void 0===s?{}:s,f=u.targetName,m=u.target,j=u.targetModel,v=(u.model,u.jsonTarget,Object(n.useState)(null)),h=Object(c.a)(v,2),O=h[0],g=h[1],x=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],j||u["targetJsonModel.name"],"com.axelor.meta.db.MetaJsonRecord"!==m||!u.domain){e.next=12;break}return e.next=5,pe(u.domain);case 5:return t=e.sent,e.next=8,ve(u.jsonTarget);case 8:a=e.sent,g(a&&a.name),e.next=21;break;case 12:if(!u.targetJsonModel){e.next=18;break}return e.next=15,be(u["targetJsonModel.name"]);case 15:t=e.sent,e.next=21;break;case 18:return e.next=20,Oe(m||j);case 20:t=e.sent;case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=o._selectId?Object(p.a)(Object(p.a)({},o),{},{id:o._selectId}):o;return Object(Le.jsx)(Ae,{name:"fieldValue",title:"Value",placeholder:"Value",fetchAPI:x,isMulti:!1,optionValueKey:f,optionLabelKey:f,onChange:function(e){"string"!==typeof e&&(e&&e.length>0?e.find((function(e){return e[f]})):e[f]),r({name:"fieldValue",value:e,nameField:O},t)},value:y||[],classes:{root:l.MuiAutocompleteRoot}})}function qt(e){var t=e.Component,a=(e.operator,e.editor),n=e.internalProps,r=n.onChange,o=n.value,i=(n.value2,n.classes,n.style),c=(n.targetName,Object(S.a)(n,["onChange","value","value2","classes","style","targetName"]));return Object(Le.jsx)(t,Object(p.a)({name:"fieldValue",onChange:function(e){return r({name:"fieldValue",value:e},a)},value:o,style:i},c))}var Gt=r.a.memo((function(e){var t=e.type,a=e.operator,n=void 0===a?"=":a,r=e.onChange,o=e.value,i=e.classes,c=e.parentType,l=e.editor,s=Object(S.a)(e,["type","operator","onChange","value","classes","parentType","editor"]),u=Object(p.a)({value:o.fieldValue,value2:o.fieldValue2,onChange:r},s),d=[],f={};switch(t){case"one_to_one":case"many_to_one":case"many_to_many":case"one_to_many":case"json_one_to_one":case"json_many_to_one":case"json_many_to_many":case"json_one_to_many":return Object(Le.jsx)(Yt,{operator:n,editor:l,internalProps:Object(p.a)(Object(p.a)({},u),{},{value:o.fieldValue}),parentType:c});case"date":case"time":case"datetime":return Object(Le.jsx)(qt,{Component:yt,operator:n,editor:l,internalProps:Object(p.a)(Object(p.a)({type:t,value:function(e){return e?we()(e,A[t]):null}(o.fieldValue),onChange:function(e,a){var n=e.name,o=e.value;return r({name:n,value:o&&o.format(A[t])},a)}},s),{},{margin:"none",classes:i,style:{width:"250px !important"}})});case"integer":case"long":case"decimal":return f={Component:(d=s.field.selectionList&&s.field.selectionList.map((function(e){var t=e.title,a=e.value,n=e.data;return{name:n&&n.value||a,title:t}})))?St:pt,operator:n,editor:l,internalProps:Object(p.a)({},d?Object(p.a)({options:d,classes:i},u):Object(p.a)(Object(p.a)({type:t},u),{},{margin:"none",classes:i,style:{width:"250px !important"}}))},Object(Le.jsx)(qt,Object(p.a)({},f));case"enum":return d=s.field.selectionList.map((function(e){var t=e.title,a=e.value,n=e.data;return{name:n&&n.value||a,title:t}})),Object(Le.jsx)(qt,{Component:St,operator:n,editor:l,internalProps:Object(p.a)({options:d,classes:i},u)});case"boolean":var b=[{title:"Yes",value:!0},{title:"No",value:!1}];return Object(Le.jsx)(Ae,{optionLabelKey:"title",optionValueKey:"value",options:b,value:b.find((function(e){return e.value===o.fieldValue})),onChange:function(e){return r({value:e.value})}});default:return f={Component:(d=s.field&&s.field.selectionList&&s.field.selectionList.map((function(e){var t=e.title,a=e.value,n=e.data;return{name:n&&n.value||a,title:t}})))?St:bt,operator:n,editor:l,internalProps:Object(p.a)({},d?Object(p.a)(Object(p.a)({options:d,classes:i},u),{},{value:o.fieldValue,className:i.input}):Object(p.a)(Object(p.a)({classes:i},u),{},{onBlur:function(e){return u.onChange(e.target)},margin:"none",style:{width:"100%"}}))},Object(Le.jsx)(qt,Object(p.a)({},f))}}));var $t=function(e){var t=Vt(),a=e.onRowChange,n=e.data,o=void 0===n?[]:n,i=e.metaFields,l=void 0===i?[]:i,s=e.onRemove,u=e.errors,f=e.onClearError,h=e.onSubFieldAdd,O=e.handleAdd,g=e.sourceModel,x=e.targetModel,y=e.manageFieldClick,C=e.handleFieldSearch,w=e.onReorder,k=r.a.useState([{name:void 0}]),F=Object(c.a)(k,2),N=(F[0],F[1]),S=r.a.useCallback((function(){return g?I.SOURCE:I.NONE}),[g]),T=r.a.useCallback(function(){var e=Object(b.a)(d.a.mark((function e(t,n,r,o){var i,c,l,s,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target.value,c=t.target.nameField,u&&u[o.dataPath]&&i&&f(o.dataPath),l=n,s=i,b=Object(K.get)(o,"value.from",S()),"value"===n&&(l="".concat(n,".selected"),m=i,p=i?Xt(o,i,c):Object(K.get)(o,"value.selected.targetName"),!Re(o.type)||b&&b!==I.NONE||"object"!==typeof m||(m="_selectId"===p?i.id:i[p]),s={value:m},b===I.NONE&&Re(o.type)&&(s.targetName=p)),(["contextModel","sourceField","selfField"].includes(n)||[I.SELF,I.SOURCE,I.PARENT].includes(b)&&"value"===n)&&a&&a(o,r,"modelSubField",[]),a&&a(o,r,l,s);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),[a,u,f,S]),R=(r.a.useCallback((function(e){u&&u[e]&&f(e)}),[f,u]),r.a.useCallback((function(e){s&&s(e)}),[s])),E=(r.a.useCallback((function(e){N(Object(m.a)(e))}),[]),r.a.useCallback((function(e,a){var n=arguments.length>3?arguments[3]:void 0;if(e.isRemoved||e.isHidden)return null;var r=Object(K.get)(e,"value.from",S());return Object(Le.jsx)(Et,{index:a,id:e.name,moveCard:w,children:function(o){var i=o.ref,c=o.style,s=o.handlerId,u=o.preview;return Object(Le.jsxs)(Ue.a,{"data-handler-id":s,ref:u,style:Object(p.a)({},c),classes:{root:t.tableRowRoot},children:[Object(Le.jsx)(Ke.a,{align:"left",ref:i,style:{cursor:"move"},children:Object(Le.jsx)("div",{children:Object(Le.jsx)(We.a,{})})}),Object(Le.jsx)(Ke.a,{style:Object(p.a)({},zt(e)),children:Object(Le.jsx)(ut,{name:"name",className:t.input,item:e,onChange:function(e){return T(e,"name",a)},onSubFieldAdd:h,handleAdd:O,onSubFieldChange:function(e){T(e,"subFieldName",a)}})}),Object(Le.jsx)(Ke.a,{children:"="}),Object(Le.jsx)(Ke.a,{style:Object(p.a)({},zt(e)),className:t.valueInputContainer,children:r===I.SELF?Object(Le.jsx)(Bt,{optionValueKey:"name",optionLabelKey:"title",concatValue:!0,parentRow:n,targetModel:x,value:e.modelSubField,onChange:function(t){return T({target:{value:t}},"modelSubField",a,e)}}):r===I.SOURCE?Object(Le.jsx)(Bt,{optionValueKey:"name",optionLabelKey:"title",concatValue:!0,sourceModel:g,value:e.modelSubField,onChange:function(t){return T({target:{value:t}},"modelSubField",a,e)}}):r===I.PARENT?Object(Le.jsx)(Ae,{optionValueKey:"name",optionLabelKey:"title",concatValue:!0,options:l,fetchAPI:function(){return oe(Wt(n,S()))},value:Dt(e),onChange:function(t){return T({target:{value:t}},"value",a,e)}}):r===I.CONTEXT?Object(Le.jsx)(Bt,{optionValueKey:"name",optionLabelKey:"title",concatValue:!0,isContext:!0,value:e.modelSubField,onChange:function(t){return T({target:{value:t}},"modelSubField",a,e)}}):Object(Le.jsx)(Gt,{row:e,type:Jt(e),onChange:function(t,n){T({target:t},"value",a,e)},value:{fieldValue:Ut(e),fieldValue2:""},classes:t,field:e.subFieldName||e})}),Object(Le.jsx)(Ke.a,{style:Object(p.a)({},zt(e)),size:"small",children:Object(Le.jsx)(Ae,{disableClearable:!0,options:Kt(0,n,S()),value:r||S(),getOptionDisabled:function(e){return Ht(e,n,g)},onChange:function(t){return T({target:{value:t}},"value.from",a,e)}})}),Object(Le.jsx)(Ke.a,{style:void 0!==e.level?Object(p.a)({borderBottom:"0px"},zt(e)):Object(p.a)({},zt(e)),children:Object(Le.jsx)(v.a,{size:"medium",onClick:function(){return R(e)},className:t.iconButton,children:Object(Le.jsx)(Be.a,{title:"Remove field",children:Object(Le.jsx)(Xe.a,{fontSize:"small",className:t.deleteIcon})})})})]})}},e.name)}),[t,R,T,l,h,O,g,S,x,w]));return Object(Le.jsxs)(ze.a,{className:t.root,children:[Object(Le.jsxs)(j.a,{container:!0,style:{backgroundColor:"#FAFAFA"},children:[Object(Le.jsx)(v.a,{variant:"contained",color:"primary",startIcon:Object(Le.jsx)(Ye.a,{}),className:t.addFieldButton,onClick:y,title:"Manage Fields",children:Object(Le.jsx)(Ye.a,{})}),Object(Le.jsx)(M.a,{classes:{root:t.searchField},placeholder:"Search fields",onChange:function(e){return C(e)}})]}),Object(Le.jsxs)(Ve.a,{className:t.table,"aria-label":"simple table",stickyHeader:!0,children:[Object(Le.jsxs)("colgroup",{children:[Object(Le.jsx)("col",{style:{width:"3%"}}),Object(Le.jsx)("col",{style:{width:"27%",minWidth:300}}),Object(Le.jsx)("col",{style:{width:"15px"}}),Object(Le.jsx)("col",{style:{width:"50%",minWidth:200}}),Object(Le.jsx)("col",{style:{width:"210px",minWidth:230}}),Object(Le.jsx)("col",{style:{width:"5%"}})]}),Object(Le.jsx)(De.a,{children:Object(Le.jsxs)(Ue.a,{children:[Object(Le.jsx)(Ke.a,{align:"left",children:"\xa0"}),Object(Le.jsx)(Ke.a,{className:t.headerTitle,children:"Field name"}),Object(Le.jsx)(Ke.a,{className:t.headerTitle}),Object(Le.jsx)(Ke.a,{className:t.headerTitle,children:"Value"}),Object(Le.jsx)(Ke.a,{className:t.headerTitle,style:{width:220},children:"Value from"}),Object(Le.jsx)(Ke.a,{className:t.headerTitle})]})}),Object(Le.jsx)(Je.a,{children:o.map((function(e,t){return E(e,t)}))})]})]})},Qt=a(139),Zt=r.a.createContext();function ea(){return r.a.useContext(Zt)}var ta=function(e){var t=e.children,a=function(e){var t=r.a.useState(e),a=Object(c.a)(t,2),n=a[0],o=a[1];return[n,r.a.useCallback((function(e){return o(Object(Qt.a)(e))}),[o])]}({builderFields:[]}),n=Object(c.a)(a,2),o={state:n[0],update:n[1]};return Object(Le.jsx)(Zt.Provider,{value:o,children:t})},aa=Object(k.a)({table:{minWidth:650},input:{width:"13%",marginRight:20},metaFieldGrid:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},newRecordSwitch:{marginTop:10,marginLeft:5},newRecordSwitchText:{display:"flex",flexDirection:"column",justifyContent:"center"},newRecordInputView:{display:"flex",flexDirection:"row",marginTop:5},modelFieldSelection:{marginRight:20,marginLeft:50},addModelFieldIcon:{marginLeft:15},saveButton:{marginLeft:10},cardContent:{overflow:"auto",height:600},cardContentItemText:{lineHeight:3},cardActionView:{justifyContent:"flex-end"},capitalizeText:{textTransform:"capitalize"},saveButtonText:{marginLeft:10},saveMessageAlert:{width:"100%",marginBottom:10,display:"flex",justifyContent:"space-between"},topView:{margin:"10px 10px 0px 10px"},searchField:{flexDirection:"row",width:"12%","& input":{paddingBottom:0}},loaderView:{position:"absolute",left:0,right:0,top:0,bottom:0,height:"100%",backgroundColor:"rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"999"},saveIcon:{},selectContainer:{minWidth:150,marginBottom:10},targetModelInputRoot:{marginTop:"22px !important"}}),na=function(e){return e?I.SOURCE:I.NONE},ra=function(e){var t="";return e.forEach((function(e){t=""===t?e.name:"".concat(t,".").concat(e.name)})),t},oa=function(e){return e.targetJsonModel?e.targetJsonModel.id:e.targetModel},ia=function(e){return e?e.filter((function(e){return Object.keys(e).length>0})):e},ca=function(e){return e.target&&"com.axelor.meta.db.MetaJsonRecord"!==e.target?Object(p.a)(Object(p.a)({},e),{},{fullName:e.target}):e.targetModel?Object(p.a)(Object(p.a)({},e),{},{fullName:e.targetModel}):Object(p.a)(Object(p.a)({},e),{},{modelType:P,name:e.jsonTarget})},la=function(e,t){var a,n=e;if(e&&(null===e||void 0===e?void 0:e.selected)&&(null===e||void 0===e||null===(a=e.selected)||void 0===a?void 0:a.value)){var r="".concat(e.selected.value).split(".");r.slice(1).map((function(e){return{name:e}}));if(t===I.CONTEXT)return{contextModel:{name:Ne(r[0])}};if(t===I.SELF)return n.selected=Object(p.a)(Object(p.a)({},n.selected),{},{value:r[0]}),{value:n}}return{}},sa=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=a.find((function(e){return e.name===t.name}));if(!n)for(var r=0;r<a.length;r++){var o=a[r],i=Object(K.get)(o,"value.fields");if(i&&(n=e(t,i)))break}return n},ua=function e(t,a){return t.map((function(t){var n=Object(p.a)({},t),r=!1;if(n.value&&n.value.fields){var o=e(n.value.fields,a);r=-1!==o.findIndex((function(e){return!1===e.isHidden})),n=Object(p.a)(Object(p.a)({},n),{},{value:Object(p.a)(Object(p.a)({},n.value),{},{fields:o})})}return t.name.toLowerCase().includes(a.toLowerCase())||r?n.isHidden=!1:n.isHidden=!0,n}))},da=function e(t){var a=t.fields,n=void 0===a?[]:a,r=t.from,o=void 0===r?I.PARENT:r,i=t.shouldChangeFrom,c=void 0===i||i;return n.map((function(t){var a=Object(p.a)({},t);if(Object(K.get)(a,"value.from")===o&&(c&&(a.value.from=I.NONE),a.value&&a.value.selected&&(a=Object.assign({},Object(p.a)(Object(p.a)({},a),{},{value:Object(p.a)(Object(p.a)({},a.value),{},{selected:Object(p.a)(Object(p.a)({},a.value.selected),{},{value:null})})}))),a.modelSubField=[]),a.value&&a.value.fields){var n=Object(m.a)(e({fields:a.value.fields,from:o,shouldChangeFrom:c}));a=Object.assign({},Object(p.a)(Object(p.a)({},a),{},{value:Object(p.a)(Object(p.a)({},a.value),{},{fields:n})}))}return a}))};var fa=function(e){var t=e.params,a=aa(),n=ea(),o=n.state,i=n.update,l=o.builderFields,s=r.a.useState(),u=Object(c.a)(s,2),x=u[0],C=u[1],k=r.a.useState(),F=Object(c.a)(k,2),S=F[0],M=F[1],T=r.a.useState(),R=Object(c.a)(T,2),E=R[0],_=R[1],L=r.a.useState([]),A=Object(c.a)(L,2),B=A[0],V=A[1],J=r.a.useState(!1),D=Object(c.a)(J,2),z=D[0],H=D[1],W=r.a.useState(null),X=Object(c.a)(W,2),Y=(X[0],X[1]),q=r.a.useState(!1),G=Object(c.a)(q,2),$=G[0],Q=G[1],ee=r.a.useState({}),ae=Object(c.a)(ee,2),ne=ae[0],re=ae[1],ie=r.a.useState([]),le=Object(c.a)(ie,2),ue=le[0],fe=le[1],be=r.a.useState({}),me=Object(c.a)(be,2),pe=me[0],je=me[1],ve=r.a.useState(!1),he=Object(c.a)(ve,2),Oe=(he[0],he[1]),ge=r.a.useState(!1),ye=Object(c.a)(ge,2),Ce=ye[0],we=ye[1],Fe=r.a.useCallback((function(e){i((function(t){Object(K.set)(t,"builderFields",e)}))}),[i]),Ne=r.a.useCallback((function(e,t,a,n){i((function(t){var r=t.builderFields.findIndex((function(t){return t.name===e.name})),o=t.builderFields[r];if("value.from"===a&&[I.CONTEXT,I.SELF].includes(Object(K.get)(o,"value.from"))){var i=Object(K.get)(o,"value.fields",[]);if(i.length){var c=da({fields:i});Object(K.set)(t.builderFields,"[".concat(r,"].value.fields"),c)}}if("value.selected"===a&&[I.CONTEXT,I.SELF].includes(Object(K.get)(o,"value.from"))){var l=Object(K.get)(o,"value.fields",[]);if(l.length){var s=da({fields:l,shouldChangeFrom:!1});Object(K.set)(t.builderFields,"[".concat(r,"].value.fields"),s)}}Object(K.set)(t.builderFields,"[".concat(r,"].").concat(a),n)}))}),[i]),Se=r.a.useCallback((function(e){i((function(t){var a=t.builderFields.findIndex((function(t){return t.name===e.name}));-1!==a&&(t.builderFields[a].isRemoved=!0)}))}),[i]),Me=r.a.useCallback(function(){var e=Object(b.a)(d.a.mark((function e(a,n){var r,o,c,l,s,u,b,m,j,v,h,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=32;break}if(r=a.target||oa(a),o=ne[r],c=JSON.parse(x[t.resultMetaField]||"{}"),l=Object(K.get)(c,"fields",[]),ne[r]){e.next=24;break}if(S.modelType!==P){e.next=12;break}return e.next=9,ce(Object(p.a)({},a));case 9:o=e.sent,e.next=15;break;case 12:return e.next=14,oe(ca(a));case 14:o=e.sent;case 15:re(Object(f.a)({},r,o)),s="".concat(a.dataPath,".value.fields"),u=[],b=sa(a,l),m=Object(K.get)(b,"value.fields",[]),Te(o).forEach((function(e,t){var a=m.find((function(t){return t.name===e.name}))||{},n=("".concat(s,"[").concat(t,"].value"),a.value),r=Object(K.get)(a,"value.from"),o=la(n,r);u.push(Object(p.a)(Object(p.a)({},e),{},{dataPath:"".concat(s,"[").concat(t,"]"),from:r,value:n,hideFields:!0,isRemoved:!0,modelSubField:a.modelSubField},o))})),i((function(e){Object(K.set)(e.builderFields,"".concat(a.dataPath,".value.fields"),u),Object(K.set)(e.builderFields,"".concat(a.dataPath,".hideFields"),!1)})),e.next=30;break;case 24:j=[],v="".concat(a.dataPath,".value.fields"),h=sa(a,l),O=Object(K.get)(h,"value.fields",[]),Te(o).forEach((function(e,t){var a=O.find((function(t){return t.name===e.name}))||{},n=("".concat(v,"[").concat(t,"].value"),a.value),r=Object(K.get)(a,"value.from"),o=la(n,r);j.push(Object(p.a)(Object(p.a)({},e),{},{dataPath:"".concat(v,"[").concat(t,"]"),from:r,value:n,hideFields:!0,isRemoved:!1,modelSubField:a.modelSubField},o))})),i((function(e){Object(K.set)(e.builderFields,"".concat(a.dataPath,".value.fields"),j),Object(K.set)(e.builderFields,"".concat(a.dataPath,".hideFields"),!1)}));case 30:e.next=33;break;case 32:i((function(e){Object(K.set)(e.builderFields,"".concat(a.dataPath,".hideFields"),!0)}));case 33:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[S,ne,i,x,t]),Re=r.a.useCallback((function(e){i((function(t){e.forEach((function(e){Object(K.set)(t.builderFields,"".concat(e.dataPath,".isRemoved"),!1)}))}))}),[i]),_e=(r.a.useCallback((function(e){Fe((function(e){return Object(m.a)(ue.map((function(t){var a=e.findIndex((function(e){return e.name===t.name}));return-1!==a?e[a]:t})))}))}),[ue,Fe]),r.a.useCallback(function(){var e=Object(b.a)(d.a.mark((function e(a){var n,r,o,c,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=JSON.parse(n[t.resultMetaField]||"{}"),o=Object(K.get)(r,"fields",[]),c=new Array(o.length),Te(Object(m.a)(a)).forEach((function(e,t){var a=o.findIndex((function(t){return t.name===e.name})),n=o[a]||{},r=("".concat(e.name,".value"),n.value),i=Object(K.get)(n,"value.from"),l=la(r,i),s=Object(p.a)(Object(p.a)({},e),{},{path:Ee(e),from:i,value:r,hideFields:!0,isRemoved:!r,modelSubField:ia(n.modelSubField),selfField:n.selfField,sourceField:n.sourceField},l);-1!==a?(s.dataPath="[".concat(a,"]"),c.splice(a,1,Object(p.a)({},s))):(s.dataPath="[".concat(c.length,"]"),c.push(Object(p.a)({},s)))})),i((function(e){Object(K.set)(e,"builderFields",c.filter((function(e){return e})))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,i])),Ie=r.a.useCallback(function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,oe(t);case 3:n=e.sent,fe(Object(m.a)(n)),je({}),_e(n,a);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[_e]),Pe=r.a.useCallback((function(e){je((function(t){return JSON.parse(JSON.stringify(Object(K.set)(t,e,void 0)))}))}),[]),Be=r.a.useCallback(Object(b.a)(d.a.mark((function e(){var a,n,r,o,i,c,s,u,b,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je({}),n=JSON.parse(x[t.resultMetaField]||"{}"),r=U(l,n,na(E),E),o={fields:r,targetModel:S.name,sourceModel:ra(B),sourceModelList:B,newRecord:$,isJson:S.modelType===P},i=JSON.stringify(Object(p.a)({},o)),(c=t.model)||(c="CUSTOM"===S.modelType?"com.axelor.meta.db.MetaJsonRecord":S.fullName),e.next=9,xe(i,c);case 9:return s=e.sent,u=s||"",b=Object(p.a)(Object(p.a)({},x),{},(a={},Object(f.a)(a,t.resultMetaField,i),Object(f.a)(a,t.resultField,u),Object(f.a)(a,t.targetField,o.targetModel),Object(f.a)(a,t.sourceField,o.sourceModel),a)),H(!0),e.next=15,se(t,b);case 15:m=e.sent,H(!1),m?(Y({message:"Builder data saved successfully",severity:"success"}),C(Object(p.a)({},m))):Y({message:"Failed to save builder data",severity:"error"});case 18:case"end":return e.stop()}}),e)}))),[l,t,S,x,E,$,B]),Ve=r.a.useCallback(function(){var e=Object(b.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(a),Y(null),r=Object(p.a)(Object(p.a)({},x),{},(n={},Object(f.a)(n,t.resultMetaField,null),Object(f.a)(n,t.resultField,""),n)),C(r),Ie(a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ie,t,x]),Je=(r.a.useCallback((function(e){if(null===e){var t=da({fields:l,from:I.SOURCE,shouldChangeFrom:!0});Fe(Object(m.a)(t))}else{var a=da({fields:l,from:I.SOURCE,shouldChangeFrom:!1});Fe(Object(m.a)(a))}_([e])}),[l,Fe]),r.a.useCallback((function(e){Oe(e.currentTarget)}),[]),r.a.useCallback((function(){Oe(null)}),[]),r.a.useCallback((function(){return Y(null)}),[]),ke(r.a.useCallback((function(e){var t=ua(l,e);Fe(Object(m.a)(t))}),[l,Fe]),400)),Ke=r.a.useCallback((function(e){var t=e.target.value;Je(t)}),[Je]),De=r.a.useCallback((function(){we(!0)}),[]),Ue=r.a.useCallback((function(){we(!1)}),[]),ze=r.a.useCallback((function(e,t){i((function(a){var n=a.builderFields[e];a.builderFields.splice(e,1),a.builderFields.splice(t,0,n)}))}),[i]);return r.a.useEffect((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var a,n,r,o,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=24;break}return e.next=3,de(t.model,t.id);case 3:if(a=e.sent,C(Object(p.a)({},a)),!a){e.next=23;break}if(!(n=JSON.parse(a[t.resultMetaField]||"{}"))){e.next=21;break}return e.next=10,Z(n.targetModel);case 10:return r=e.sent,o=n.sourceModelList&&n.sourceModelList[n.sourceModelList.length-1]||{},i=o.target?o.target.split(".").pop():o.name,e.next=15,Z(i);case 15:c=e.sent,V(Object(m.a)(n.sourceModelList)),M(r),_(c),Q(n.newRecord),Ie(r,a);case 21:e.next=24;break;case 23:Y({message:"Record is not available",severity:"error"});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,Ie]),Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsxs)(j.a,{container:!0,children:[Object(Le.jsxs)(j.a,{container:!0,className:a.topView,children:[Object(Le.jsx)(j.a,{container:!0,justify:"space-between",style:{marginBottom:10},children:Object(Le.jsx)(j.a,{item:!0,className:a.metaFieldGrid,children:Object(Le.jsx)(j.a,{container:!0,children:Object(Le.jsx)(rt,{data:l,onSubmit:function(e){return Re(e)},icon:Object(Le.jsx)(y.a,{}),buttonTitle:"Add Fields",iconButton:!0,buttonClassName:a.modelFieldSelection,iconButtonClassName:a.addModelFieldIcon,open:Ce,onClose:Ue})})})}),Object(Le.jsxs)(j.a,{container:!0,style:{marginBottom:10},children:[Object(Le.jsx)(v.a,{classes:{colorPrimary:a.saveIcon},color:"primary",onClick:Be,className:N()(a.iconButtonClassName),children:Object(Le.jsx)(w.a,{})}),Object(Le.jsx)(Ae,{className:a.input,name:"metaModal",title:"Target Model",placeholder:"Target Model",fetchAPI:function(e){return te(e)},optionLabelKey:"name",onChange:function(e){return Ve(e)},value:S,inputRootClass:a.targetModelInputRoot}),Object(Le.jsx)(Bt,{containerClassName:a.selectContainer,title:"Source Model",optionValueKey:"name",optionLabelKey:"name",concatValue:!0,isM2o:!0,isContext:!0,value:B,onChange:function(e){var t=e.map((function(e){return!e.fullName&&e.target?Object(p.a)(Object(p.a)({},e),{},{fullName:e.target}):e}));V(Object(m.a)(t)),_(Object(p.a)({},t[t.length-1]))}}),Object(Le.jsxs)(j.a,{item:!0,className:a.newRecordInputView,children:[Object(Le.jsx)(h.a,{className:a.newRecordSwitch,checked:$,onChange:function(e){return Q(e.target.checked)}}),Object(Le.jsx)(O.a,{className:a.newRecordSwitchText,children:"New Record"})]})]})]}),Object(Le.jsx)($t,{builderFields:l,data:l,onRowChange:Ne,onRemove:Se,metaFields:ue,errors:pe,onClearError:Pe,onSubFieldAdd:Me,handleAdd:Re,sourceModel:E,targetModel:S,manageFieldClick:De,handleFieldSearch:Ke,onReorder:ze})]}),z&&Object(Le.jsx)("div",{className:a.loaderView,children:Object(Le.jsx)(g.a,{size:32})})]})};function ba(){var e=r.a.useState(null),t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){for(var e={},t=/[?&]([^=#]+)=([^&#]*)/g,a=window.location.href,r=t.exec(a);r;)e[r[1]]=r[2],r=t.exec(a);n(e)}),[]),Object(Le.jsx)("div",{className:"App",children:Object(Le.jsx)(fa,{params:a})})}function ma(){return Object(Le.jsx)(l.a,{backend:s.a,children:Object(Le.jsx)(ta,{children:Object(Le.jsx)(ba,{})})})}i.a.render(Object(Le.jsx)(ma,{}),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.233460fd.chunk.js.map