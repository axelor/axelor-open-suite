<?xml version="1.0" ?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models http://axelor.com/xml/ns/domain-models/domain-models_6.1.xsd">

  <module name="base" package="com.axelor.apps.base.db"/>

  <entity name="ICalendarEvent" table="ICAL_EVENT" sequential="true">
    <string name="uid" column="calendar_uid" unique="true" equalsInclude="false" title="UID"/>
    <string name="url" title="URL"/>
    <string name="subject" required="true" namecolumn="true" title="Subject" large="true"/>
    <string name="description" title="Description" large="true"/>
    <string name="status" title="Status"/>
    <datetime name="startDateTime" required="true" title="Start date"/>
    <datetime name="endDateTime" required="true" title="End date"/>
    <boolean name="allDay" title="All day"/>
    <string name="location" title="Location" large="true"/>
    <string name="geo" title="Geo. coordinates"/>
    <many-to-one name="calendar" ref="com.axelor.apps.base.db.ICalendar"/>
    <many-to-one name="organizer" ref="com.axelor.apps.base.db.ICalendarUser"
      title="Organizer"/>
    <one-to-many name="attendees" ref="com.axelor.apps.base.db.ICalendarUser"
      title="Attendees" mappedBy="event" orphanRemoval="false"/>
    <string name="computedAttendeeList" large="true" title="Attendees"/>
    <integer name="visibilitySelect" title="Visibility"
      selection="i.cal.event.visibility.select" default="1"/>
    <integer name="disponibilitySelect" title="Availability"
      selection="i.cal.event.disponibility.select" default="1"/>
    <string name="subjectTeam" large="true"/>
    <integer name="typeSelect" title="Type" selection="icalendar.event.type.select"
      required="true"/>
    <integer name="sequence"/>
    <many-to-one name="user" column="user_id" ref="com.axelor.auth.db.User"
      title="Assigned to"/>
    <many-to-one name="recurrenceConfiguration"
      ref="com.axelor.apps.base.db.RecurrenceConfiguration"/>
    <many-to-one name="parentEvent" ref="com.axelor.apps.base.db.ICalendarEvent"/>
    <many-to-one name="weeklyPlanning" ref="com.axelor.apps.base.db.WeeklyPlanning"/>
    <finder-method name="findByUid" using="uid"/>

    <extra-code>
      	<![CDATA[
      		// TYPE SELECT
      		public static final int TYPE_EVENT = 0;
	  		public static final int TYPE_CALL = 1;
	  		public static final int TYPE_MEETING = 2;
	  		public static final int TYPE_TASK = 3;
	  		public static final int TYPE_LEAVE = 4;

	  		public static final Integer VISIBILITY_PUBLIC = 1;
	  		public static final Integer VISIBILITY_PRIVATE = 2;
	  		public static final Integer DISPONIBILITY_BUSY = 1;
	  		public static final Integer DISPONIBILITY_AVAILABLE = 2;

			public static final String MONDAY = "monday";
			public static final String TUESDAY = "tuesday";
			public static final String WEDNESDAY = "wednesday";
			public static final String THURSDAY = "thursday";
			public static final String FRIDAY = "friday";
			public static final String SATURDAY = "saturday";
			public static final String SUNDAY = "sunday";

			public static final String MONDAY_MORNING = "monday morning";
			public static final String MONDAY_AFTERNOON = "monday afternoon";
			public static final String TUESDAY_MORNING = "tuesday morning";
			public static final String TUESDAY_AFTERNOON = "tuesday afternoon";
			public static final String WEDNESDAY_MORNING = "wednesday morning";
			public static final String WEDNESDAY_AFTERNOON = "wednesday afternoon";
			public static final String THURSDAY_MORNING = "thursday morning";
			public static final String THURSDAY_AFTERNOON = "thursday afternoon";
			public static final String FRIDAY_MORNING = "friday morning";
			public static final String FRIDAY_AFTERNOON = "friday afternoon";
			public static final String SATURDAY_MORNING = "saturday morning";
			public static final String SATURDAY_AFTERNOON = "saturday afternoon";
			public static final String SUNDAY_MORNING = "sunday morning";
			public static final String SUNDAY_AFTERNOON = "sunday afternoon";
	  ]]>
    </extra-code>

    <track subscribe="true">
      <field name="subject"/>
      <field name="startDateTime"/>
      <field name="endDateTime" on="UPDATE"/>
      <field name="computedAttendeeList"/>
    </track>

  </entity>


</domain-models>
