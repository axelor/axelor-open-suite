<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_7.2.xsd">

  <grid model="com.axelor.apps.base.db.Pricing" title="Pricing" id="supplychain-pricing-grid"
    groupBy="" name="pricing-grid" orderBy="company,product,productCategory,startDate,name"
    extension="true">
    <extend target="//field[@name='concernedModel']">
      <attribute name="hidden" value="true"/>
    </extend>
  </grid>

  <form title="Pricing" id="supplychain-pricing-form" name="pricing-form"
    model="com.axelor.apps.base.db.Pricing" extension="true">
    <extend target="/">
      <attribute name="onNew" value="supplychain-action-group-pricing-onnew"/>
      <attribute name="onLoad" value="supplychain-action-group-pricing-onload"/>
    </extend>

    <extend target="//field[@name='concernedModel']">
      <attribute name="hidden" value="true"/>
    </extend>
  </form>

  <action-group name="supplychain-action-group-pricing-onnew">
    <action name="action-group-pricing-onnew"/>
    <action name="supplychain-action-pricing-attrs-fill-concerned-model"/>
    <action name="supplychain-action-pricing-attrs-set-hidden-attrs"/>
  </action-group>

  <action-group name="supplychain-action-group-pricing-onload">
    <action name="action-pricing-group-attrs-pricing-line-list"/>
    <action name="supplychain-action-pricing-attrs-set-hidden-attrs"/>
  </action-group>

  <action-attrs name="supplychain-action-pricing-attrs-fill-concerned-model">
    <attribute for="concernedModel" name="value"
      expr="eval: __repo__(MetaModel).all().filter('self.name = \'FreightCarrierPricing\'').fetchOne()"/>
  </action-attrs>

  <action-attrs name="supplychain-action-pricing-attrs-set-hidden-attrs">
    <attribute name="hidden" for="product"
      expr="eval: (typeSelect == com.axelor.apps.base.db.repo.PricingRepository.PRICING_TYPE_SELECT_FREIGHT_CARRIER_PRICING)"/>
    <attribute name="hidden" for="productCategory"
      expr="eval: (typeSelect == com.axelor.apps.base.db.repo.PricingRepository.PRICING_TYPE_SELECT_FREIGHT_CARRIER_PRICING)"/>
  </action-attrs>
</object-views>