(this["webpackJsonpaxelor-purchase"]=this["webpackJsonpaxelor-purchase"]||[]).push([[0],{116:function(e,t,a){e.exports=a(153)},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(210),l=a(42),u=a(10),s=a(14),d=a(188),m=a(206),f=a(207),p=a(208),v=a(37),h=a(2),g=a(213),b=a(6),E=Object(d.a)((function(e){return{chip:{backgroundColor:Object(b.c)(e.palette.secondary.main,.04)},icon:{backgroundColor:Object(b.c)(e.palette.secondary.main,.04)},iconSelected:{color:e.palette.secondary.main},chipSelected:{backgroundColor:e.palette.secondary.light},chipClickable:{"&:focus, &:hover":{backgroundColor:e.palette.secondary.light}}}}));function y(e){var t=e.icon,a=e.label,n=e.isSelected,o=e.onClick,c=E();return r.a.createElement(g.a,{label:a,icon:r.a.createElement(t,{fontSize:"small",classes:{root:Object(h.a)(c.icon,Object(v.a)({},c.iconSelected,n))}}),classes:{root:Object(h.a)(c.chip,Object(v.a)({},c.chipSelected,n)),clickable:c.chipClickable},onClick:o})}y.defaultProps={Icon:function(){return null},onClick:function(){}};var T=y,C=a(191),k=a(5),O=Object(k.a)((function(){return{root:{position:"relative",width:"100%",overflow:"hidden",backgroundColor:"#ffffff",borderRadius:4},elevation1:{boxShadow:"0px 0px 30px rgba(0,0,0,0.15)"}}}))(C.a),w=a(28),x=a(192),D=Object(d.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"#eef3fd"},bottom:{color:e.palette.secondary.main,animationDuration:"250ms",position:"absolute"}}}));var P,I=function(e){var t=e.className,a=Object(w.a)(e,["className"]),n=D();return r.a.createElement("div",{className:Object(h.a)(n.root,t)},r.a.createElement(x.a,Object.assign({variant:"determinate",value:100,className:n.top,size:24,thickness:4},a)),r.a.createElement(x.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:n.bottom,size:24,thickness:4},a)))},j=a(201),N=a(212),A=a(35),S=a.n(A),L=a(31),q=a(65),F=a(66),V=a(92),R=a.n(V),B={};function Q(e){var t=document.cookie||"";return t!==P&&(P=t,B=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),B[e]}var W=function(){function e(t,a){Object(q.a)(this,e),this.http=t,this.entity=a}return Object(F.a)(e,[{key:"insert",value:function(e){return this.http.put("/ws/rest/"+this.entity,e)}},{key:"update",value:function(e){return this.http.post("/ws/rest/"+this.entity,e)}},{key:"delete",value:function(e){return this.http.delete("/ws/rest/"+this.entity+"/"+e)}},{key:"deleteAll",value:function(e){return this.http.post("/ws/rest/".concat(this.entity,"/removeAll"),{records:e.map((function(e){return{id:e.id,version:e.version}}))})}},{key:"fetch",value:function(e,t){return this.http.post("/ws/rest/"+this.entity+"/"+e+"/fetch",t)}},{key:"copy",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/copy",t)}},{key:"details",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/details?name="+t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/ws"+(this.entity?"/rest/".concat(this.entity):"")+"/search",e)}}]),e}(),U=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.baseURL,n=void 0===a?"/":a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(q.a)(this,e),this.instance=R.a.create({baseURL:n}),this.interceptor=r}return Object(F.a)(e,[{key:"catchError",value:function(e){console.log("catch error",e),this.callback?this.callback(e):"".concat(e).includes("401")}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=a.headers,o=void 0===r?{}:r,c=a.token,i=void 0===c||c,l=a.withCredentials,u=void 0===l||l,s=Object(L.a)({},i?{"X-CSRF-Token":Q("CSRF-TOKEN")}:{},{},n||Object.assign({},{accept:"application/json","x-requested-with":"XMLHttpRequest"},o,Object.keys(t).length?{"content-type":"application/json"}:{})),d=Object.assign({url:e,method:"POST",headers:s,data:"application/json"===s["content-type"]?JSON.stringify(t):t},a,{withCredentials:u});return"GET"!==d.method&&"HEAD"!==d.method||!d.data||delete d.data,this.instance(d)}},{key:"intercept",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=Object.assign({method:a,withCredentials:!0},o),i=function(){return t.request(e,n,c,r)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise((function(t,a){setTimeout((function(){a(new Error("Request failed Timeout"))}),e)}))};return Promise.race([l(),i().then((function(e){return 401===e.status?t.catchError({logout:!0}):e.data}))]).catch(this.catchError.bind(this))}},{key:"get",value:function(e,t,a){return this.intercept(e,"GET",{},t,a)}},{key:"post",value:function(e,t,a){return this.intercept(e,"POST",t,a)}},{key:"patch",value:function(e,t,a){return this.intercept(e,"PATCH",t,a)}},{key:"put",value:function(e,t,a){return this.intercept(e,"PUT",t,a)}},{key:"delete",value:function(e,t){return this.intercept(e,"DELETE",{},t)}},{key:"head",value:function(e,t){return this.intercept(e,"HEAD",{},t)}},{key:"action",value:function(e,t){return this.intercept("/ws/action"+e,"POST",t)}},{key:"rest",value:function(e){return new W(this,e)}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},this.config||{},t);return this.request("/callback",{username:a.username,password:a.password},{token:!1}).then((function(t){var n=null;if(void 0===t)throw new Error("Failed To Connect !!");return t&&401===t.status?n=!1:t&&200===t.status&&(n=!0,e.config=a),n})).catch(this.catchError.bind(this))}},{key:"logout",value:function(){return this.get("/logout")}},{key:"info",value:function(){return this.get("/ws/app/info")}},{key:"checkInfo",value:function(){return this.request("/ws/app/info",{},{method:"GET"}).then((function(e){return e.data})).then((function(e){return{appUser:e,app:{name:e["application.name"],version:e["application.version"],description:e["application.description"]},user:{id:e["user.id"],code:e["user.login"],name:e["user.name"],language:e["user.lang"]||"en",email:e["user.login"],theme:e["user.theme"]||""}}}))}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,c){var i=new XMLHttpRequest,l="/ws/files/upload",u=function(){return a["X-File-Id"]?e.intercept((function(){return e.delete("".concat(l,"/").concat(a["X-File-Id"]))})):Promise.resolve(!0)};i.open("POST",l,!0),Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.withCredentials=!0,i.overrideMimeType("application/octet-stream"),i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-CSRF-Token",Q("CSRF-TOKEN")),i.onload=function(){n(100)},r.abort=function(){return i.abort(),u()},i.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 401:throw this.callbackInterceptor(),new Error("Unauthorized !!");case 200:try{var e=JSON.parse(i.responseText);o(e)}catch(t){o(i.responseText)}break;default:u(),c({status:i.status})}},i.upload.onprogress=function(e){var t=a["X-File-Size"],o=parseFloat(a["X-File-Offset"])+e.loaded,c=Math.round(o/t*100);r.progress=c>95?"95%":c+"%",r.transfer=function(e,t){var a=function(e){return e>1e9?parseFloat(e/1e9).toFixed(2)+" GB":e>1e6?parseFloat(e/1e6).toFixed(2)+" MB":e>=1e3?parseFloat(e/1e3).toFixed(2)+" KB":e+" B"};return a(e||0)+"/"+a(t)}(o,t),r.loaded=o===t,e.lengthComputable&&n(e.loaded/e.total*100,r)},i.send(t)}))}}]),e}())({baseURL:"../"}),z=a(93),M=a.n(z),H=a(94),Y=a.n(H);function G(e){return M.a.stringify(e)}function X(e){if(e&&0===e.status)return e;throw new Error(e.message)}function J(e){return e&&Y()(e,"YYYY-MM-DD","fr").format("DD/MM/YYYY")}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return{id:e.id,name:e.productName,qty:Z(e.qty),unitPrice:t?K(Z(e.price),t):Z(e.price),vat:e.taxLine&&e.taxLine.value?K(Z(100*e.taxLine.value),"%"):"",discount:t?K(Z(e._discountTotal||"0.00"),t):"0.00",total:t?K(Z(e.inTaxTotal),t):Z(e.inTaxTotal)}}))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.parseFloat(e).toFixed(t)}function K(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?e+" "+t:e+t}function $(e){return e&&e.currency&&e.currency.symbol}function ee(e){var t=$(e);if(!t)return e;var a=function(e){return K(e,t)};return Object.assign(e,{total:a(e.total),totalTax:a(e.totalTax),totalWithoutTax:a(e.totalWithoutTax),totalDiscount:a(e.totalDiscount)})}function te(e){return ee(function(e){var t=$(e);return{type:"Order",id:e.id,date:J(e.orderDate),sequence:e.saleOrderSeq||"N/A",total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:e.mainInvoicingAddressStr,deliveryAddress:e.deliveryAddressStr,status:function(e){switch(e){case 1:case 2:return["DRAFT"];case 3:return["INVOICED"];case 4:return["INVOICED","PAID"];case 5:return["CANCELLED"];default:return[]}}(e.statusSelect),lines:_(e.saleOrderLineList,t),invoices:e.invoices}}(e))}function ae(e){return ee(function(e){var t=$(e);return{type:"Quotation",id:e.id,date:J(e.orderDate),sequence:e.saleOrderSeq||"N/A",total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:e.mainInvoicingAddressStr,deliveryAddress:e.deliveryAddressStr,status:function(e){switch(e){case 1:return["DRAFT"];case 2:return["FINALIZED"];case 3:return["INVOICED"];case 4:return["INVOICED","PAID"];case 5:return["CANCELLED"];default:return[]}}(e.statusSelect),lines:_(e.saleOrderLineList,t),orders:e.orders,invoices:e.invoices}}(e))}function ne(e){return ee(function(e){var t=$(e),a={type:"Invoice",id:e.id,date:J(e.invoiceDate),sequence:e.invoiceSeq||"",total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",amountDue:t?K(e.amountRemaining||"0.00",t):"0.00",currency:e.currency,invoicingAddress:e.addressStr,deliveryAddress:e.addressStr,status:function(e){switch(e){case 1:return["DRAFT"];case 2:return["VALIDATED"];case 3:return["VENTILATED"];case 4:return["CANCELLED"];case 5:default:return[]}}(e.statusSelect),lines:_(e.invoiceLineList,t),paymentLines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{date:J(e.paymentDate),amount:t?K(Z(e.amount),t):Z(e.amount)}}))}(e.invoicePaymentList),orders:e.orders};return 0===Number(e.amountRemaining)?a.status.push("PAID"):Number(e.amountRemaining)<Number(e.inTaxTotal)&&a.status.push("PARTIALLY PAID"),a}(e))}function re(e){return e.data||(e.data=[]),e}function oe(){return{data:[],total:0}}function ce(e){return e&&e.data}function ie(e,t){return e.data&&(e.data=t(e.data)),e}function le(e){return ie(e,(function(e){return e.map(ae)}))}function ue(e){return ie(e,(function(e){return e.map(te)}))}function se(e){return ie(e,(function(e){return e.map(ne)}))}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"File.pdf";return U.get(e,{"Content-Type":"application/octect"},{responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),n.click()}))}var me={fetchQuotations:function(e){var t="/ws/portal/quotations";return e&&(t=t+"?"+G(e)),U.get(t).then(X).then(re).then(le).catch(oe)},fetchQuotation:function(e){var t="/ws/portal/quotations/".concat(e);return U.get(t).then(X).then(ce).then(ae)},fetchOrders:function(e){var t="/ws/portal/orders";return e&&(t=t+"?"+G(e)),U.get(t).then(X).then(re).then(ue).catch(oe)},fetchOrder:function(e){var t="/ws/portal/orders/".concat(e);return U.get(t).then(X).then(ce).then(te)},confirmOrder:function(e){return U.post("/ws/portal/orders/".concat(e,"/confirm")).then(X)},cancelOrder:function(e){return U.post("/ws/portal/orders/".concat(e,"/cancel")).then(X)},downloadQuotationPDF:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Quotation.pdf",a="/ws/portal/quotations/print/".concat(e);return de(a,t)},downloadOrderPDF:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Order.pdf",a="/ws/portal/orders/print/".concat(e);return de(a,t)},downloadInvoicePDF:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invoice.pdf",a="/ws/portal/invoices/print/".concat(e);return de(a,t)},fetchInvoices:function(e){var t="/ws/portal/invoices";return e&&(t=t+"?"+G(e)),U.get(t).then(X).then(re).then(se).catch(oe)},fetchInvoice:function(e){var t="/ws/portal/invoices/".concat(e);return U.get(t).then(X).then(ce).then(ne)},fetchTranslations:function(e){return U.post("/ws/portal/translate",e).then((function(e){e&&0===e.status||(e.data=[]);var t=e.data;return Array.isArray(t)?t.reduce((function(e,t){return e[t.key]=t.message,e}),{}):{}})).catch((function(){return{}}))},fetchConfiguration:function(){return U.get("/ws/portal/config").then(X).then(ce).then((function(e){return{isQuotationRequestActive:!0}})).catch((function(){return{isQuotationRequestActive:!1}}))},fetchInfo:function(){return U.checkInfo()}},fe=a(154),pe=a(200),ve=a(199),he=a(103),ge=a.n(he),be=a(108),Ee=a(109),ye=a(39),Te=a(193),Ce=a(214),ke=a(95),Oe=a(96),we={en:a(98),fr:a(99)},xe=Ee.a.createInstance(),De=navigator.language.includes("fr")?"fr":"en";xe.use(ye.e).use(Oe.a).use(ke.a).init({lng:De,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{request:function(e,t,a,n){var r=function(e){return Object(be.a)(/\/locales\/([0-9A-Z_a-z]+)\/translation.json/gm,{lang:1}).exec(e).groups.lang||"en"}(t);me.fetchTranslations({keys:Object.keys(we[r]),lang:r}).then((function(e){var t=we[r],a=JSON.stringify(Object.assign({},t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a){var n=e[a];return n&&(t[a]=n),t}),{})}(e)));n(null,{status:!0,data:a})}))}},keySeparator:!1});var Pe=function(e){var t=e.children;return r.a.createElement(Te.a,{i18n:xe},t)},Ie=Ce.a,je=Object(d.a)((function(){return{tag:{display:"inline-flex",color:function(e){return e.color},borderRadius:20,fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"bold",padding:"0 12px",height:"32px",alignItems:"center",backgroundColor:function(e){return e.background},textTransform:"uppercase"}}}));function Ne(e){var t=e.label,a=e.background,n=e.color,o=e.className,c=je({background:a,color:n});return r.a.createElement("div",{className:Object(h.a)(c.tag,o)},t)}var Ae={DRAFT:{label:"Pro forma",color:"#813F0B",backgroundColor:"#F79862"},FINALIZED:{label:"Finalized",color:"#7D3B9B",backgroundColor:"rgba(125,59,155,0.39)"},ORDERED:{label:"Ordered",color:"#2187D4",backgroundColor:"rgba(33,135,212,0.39)"},INVOICED:{label:"Invoiced",color:"#7D3B9B",backgroundColor:"rgba(125,59,155,0.39)"},DELIVERED:{label:"Delivered",color:"#86BC25",backgroundColor:"rgba(134,188,37,0.39)"},"TO DELIVER":{label:"To deliver",color:"#813F0B",backgroundColor:"#F79862"},"PARTIALLY INVOICED":{label:"Partially invoiced",color:"#E4AA3A",backgroundColor:"rgba(228,170,58,0.39)"},"PARTIALLY DELIVERED":{label:"Partially delivered",color:"#813F0B",backgroundColor:"#F79862"},CLOSED:{label:"Closed",color:"#B4443C",backgroundColor:"rgba(180,68,60,0.39)"},CANCELLED:{label:"Cancelled",color:"#B4443C",backgroundColor:"rgba(180,68,60,0.39)"},VALIDATED:{label:"Validated",color:"#86BC25",backgroundColor:"rgba(134,188,37,0.39)"},"PARTIALLY PAID":{label:"Partially paid",color:"#E4AA3A",backgroundColor:"rgba(228,170,58,0.39)"},PAID:{label:"Paid",color:"#7D3B9B",backgroundColor:"rgba(125,59,155,0.39)"},"PARTIALLY REIMBURSED":{label:"Partially reimbursed",color:"#E4AA3A",backgroundColor:"rgba(228,170,58,0.39)"},REIMBURSED:{label:"Reimbursed",color:"#7D3B9B",backgroundColor:"rgba(125,59,155,0.39)"},PENDING:{label:"Pending",color:"#E4AA3A",backgroundColor:"rgba(228,170,58,0.39)"},ACCEPTED:{label:"Accepted",color:"#86BC25",backgroundColor:"rgba(134,188,37,0.39)"},PROCESSED:{label:"Processed",color:"#86BC25",backgroundColor:"rgba(134,188,37,0.39)"},VENTILATED:{label:"Ventilated",color:"#86BC25",backgroundColor:"rgba(134,188,37,0.39)"}};var Se=function(e){var t=e.value,a=Object(w.a)(e,["value"]),n=Ie().t;return r.a.createElement(Ne,Object.assign({color:Ae[t].color,background:Ae[t].backgroundColor,label:n(Ae[t].label)},a))},Le=Object(d.a)((function(e){return{dense:{fontSize:"0.775rem",height:24},tag:{marginRight:e.spacing(.5)}}}));function qe(e){var t=e.status,a=e.className,n=e.variant,o=Object(w.a)(e,["status","className","variant"]),c="dense"===n,i=Le();return t&&t.length?t.map((function(e){return r.a.createElement(Se,Object.assign({key:e,value:e,className:Object(h.a)(Object(v.a)({},i.dense,c),i.tag,a)},o))})):null}qe.defaultProps={status:[]};var Fe=qe,Ve=Object(d.a)((function(e){return{divider:{borderColor:e.palette.secondary.main}}}));var Re=function(e){var t=e.className,a=Object(w.a)(e,["className"]),n=Ve();return r.a.createElement("hr",Object.assign({className:Object(h.a)(n.divider,t)},a))},Be=Object(d.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function Qe(e){var t=e.total,a=e.totalLabel,n=e.totalWithoutTax,o=e.totalWithoutTaxLabel,c=e.totalTax,i=e.totalTaxLabel,l=e.totalDiscount,u=e.totalDiscountLabel,s=e.divider,d=e.className,m=Be();return r.a.createElement("div",{className:d},s&&r.a.createElement(Re,null),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,o),r.a.createElement(fe.a,null,n)),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,u),r.a.createElement(fe.a,null,l)),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,i),r.a.createElement(fe.a,null,c)),s&&r.a.createElement(Re,null),r.a.createElement("div",{className:m.row},r.a.createElement(fe.a,null,r.a.createElement("b",null,a)),r.a.createElement(fe.a,null,r.a.createElement("b",null,t))))}Qe.defaultProps={divider:!0,total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00",totalDiscount:"0.00",totalLabel:"Total",totalTaxLabel:"Total Tax",totalWithoutTaxLabel:"Total Without Tax",totalDiscountLabel:"Total Discount"};var We=Qe,Ue=Object(d.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function ze(e){var t=e.payments,a=e.paymentsLabel,n=e.amountDue,o=e.amountDueLabel,c=Ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.row},r.a.createElement(fe.a,null,a),r.a.createElement("div",{align:"right"},t.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(fe.a,null,e.amount),r.a.createElement(fe.a,null,"(",e.date,")"))})))),r.a.createElement("div",{className:c.row},r.a.createElement(fe.a,null,r.a.createElement("b",null,o)),r.a.createElement(fe.a,null,r.a.createElement("b",null,n))))}ze.defaultProps={payments:[],amountDue:"0.00",paymentsLabel:"Payments",amountDueLabel:"Remaining Balance"};var Me=ze,He=a(194),Ye=a(195),Ge=a(196),Xe=a(197),Je=a(198),_e=Object(d.a)((function(e){return{root:{fontSize:"1rem",borderBottom:"none",padding:e.spacing(1)},head:{fontSize:"0.875rem",backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main}}})),Ze=r.a.forwardRef((function(e,t){var a=e.classes,n=a.head,o=a.root,c=Object(w.a)(a,["head","root"]),i=Object(w.a)(e,["classes"]),l=_e();return r.a.createElement(He.a,Object.assign({classes:Object(L.a)({root:Object(h.a)(l.root,o),head:Object(h.a)(l.head,n)},c)},i,{ref:t}))}));Ze.defaultProps={classes:{}};var Ke=Object(d.a)((function(e){return{container:{display:"flex",justifyContent:"space-between"},titleWrapper:{display:"flex",flexWrap:"wrap"},title:{marginBottom:e.spacing(2)}}}));function $e(e){var t=e.onPrint,a=e.type,n=e.sequence,o=e.status,c=Ie().t,i=Ke();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.titleWrapper},r.a.createElement(fe.a,{className:i.title,variant:"h5"},r.a.createElement("b",null,"".concat(c(a)," ").concat(c(n)))),"\xa0",r.a.createElement("div",null,r.a.createElement(Fe,{status:o}))),r.a.createElement("div",null,r.a.createElement(N.a,{smDown:!0},r.a.createElement(ve.a,{onClick:t,startIcon:r.a.createElement(S.a,null)},c("Download")))))}function et(e){var t=e.invoicingAddress,a=e.deliveryAddress,n=Ie().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},n("Invoicing address")),r.a.createElement(fe.a,{gutterBottom:!0},t),r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},n("Delivery address")),r.a.createElement(fe.a,{gutterBottom:!0},a))}function tt(e){var t=e.date,a=Ie().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},a("Date")),r.a.createElement(fe.a,{gutterBottom:!0},t))}$e.defaultProps={type:"",sequence:"",onPrint:function(){},status:[]},et.defaultProps={invoicingAddress:"",deliveryAddress:""},tt.defaultProps={date:""};var at=Object(d.a)((function(e){return{divider:{borderColor:e.palette.secondary.light}}}));function nt(e){var t=e.lines,a=at(),n=Ie().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{smDown:!0},r.a.createElement(Ye.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Je.a,null,r.a.createElement(Ze,null,n("Product name")),r.a.createElement(Ze,null,n("Quantity")),r.a.createElement(Ze,null,n("Unit price")),r.a.createElement(Ze,null,n("Vat")),r.a.createElement(Ze,null,n("Discount")),r.a.createElement(Ze,{align:"right"},n("Sub total")))),r.a.createElement(Ge.a,null,t.map((function(e){return r.a.createElement(Je.a,{key:e.id},r.a.createElement(Ze,null,e.name),r.a.createElement(Ze,null,e.qty),r.a.createElement(Ze,null,e.unitPrice),r.a.createElement(Ze,null,e.vat),r.a.createElement(Ze,null,e.discount),r.a.createElement(Ze,{align:"right"},e.total))}))))),r.a.createElement(N.a,{mdUp:!0},t.map((function(e){return r.a.createElement(pe.a,{spacing:1,key:e.id,container:!0},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(pe.a,{container:!0},r.a.createElement(pe.a,{item:!0,xs:6},r.a.createElement(fe.a,null,e.name)),r.a.createElement(pe.a,{item:!0,xs:6,align:"right"},r.a.createElement(fe.a,null,r.a.createElement("b",null,e.total))))),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(fe.a,{variant:"body2"},e.qty," x ",e.unitPrice),r.a.createElement(fe.a,{variant:"body2"},n("Discount"),"\xa0:\xa0",e.discount),r.a.createElement(fe.a,{variant:"body2"},n("Vat"),"\xa0:\xa0",e.vat),r.a.createElement(Re,{className:a.divider})))}))))}function rt(e){var t=e.total,a=e.totalTax,n=e.totalWithoutTax,o=e.totalDiscount,c=e.payments,i=e.amountDue,l=Ie().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{total:t,totalTax:a,totalWithoutTax:n,totalDiscount:o,payments:c,amountDue:i,totalLabel:l("Total"),totalTaxLabel:l("Total tax"),totalWithoutTaxLabel:l("Total without tax"),totalDiscountLabel:l("Total discount")}),c&&c.length?r.a.createElement(Me,{payments:c,paymentsLabel:l("Payments"),amountDue:i,amountDueLabel:l("Amount due")}):null)}nt.defaultProps={lines:[]},rt.defaultProps={total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00"};var ot=Object(d.a)((function(e){return{container:{display:"flex",alignItems:"center",cursor:"pointer"},icon:{color:e.palette.secondary.main}}}));function ct(e){var t=e.links,a=ot(),n=Ie().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{variant:"h5",gutterBottom:!0},r.a.createElement("b",null,n("Linked elements"))),t.map((function(e,t){var n=e.label,o=e.onClick,c=void 0===o?function(){}:o;return r.a.createElement("div",{className:a.container,key:t,onClick:c},r.a.createElement(ge.a,{className:a.icon}),r.a.createElement(fe.a,null,"\xa0",n))})))}ct.defaultProps={links:[]};var it=Object(d.a)((function(e){return{paper:{padding:e.spacing(3)}}}));function lt(e){var t=e.purchase,a=e.purchaseAction,n=e.onPrint,o=it();return r.a.createElement(O,{className:o.paper},r.a.createElement(pe.a,{container:!0,spacing:3},r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement($e,{type:t.type,sequence:t.sequence,status:t.status,onPrint:n})),r.a.createElement(pe.a,{item:!0,xs:12,md:6},r.a.createElement(et,{invoicingAddress:t.invoicingAddress,deliveryAddress:t.deliveryAddress})),r.a.createElement(pe.a,{item:!0,xs:12,md:6},r.a.createElement(tt,{date:t.date})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(nt,{lines:t.lines})),r.a.createElement(pe.a,{item:!0,xs:12,md:8},t.links&&t.links.length?r.a.createElement(N.a,{smDown:!0},r.a.createElement(ct,{links:t.links})):null),r.a.createElement(pe.a,{item:!0,xs:12,md:4},r.a.createElement(rt,{total:t.total,totalTax:t.totalTax,totalWithoutTax:t.totalWithoutTax,totalDiscount:t.totalDiscount,payments:t.paymentLines,amountDue:t.amountDue}),a),t.links&&t.links.length?r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(N.a,{mdUp:!0},r.a.createElement(ct,{links:t.links}))):null))}lt.defaultProps={purchase:{}};var ut=lt,st=a(104),dt=a.n(st),mt=Object(d.a)((function(e){return{root:{color:e.palette.secondary.main}}}));function ft(e){var t=e.onClick,a=e.size,n=e.className,o=mt();return r.a.createElement(j.a,{size:a,onClick:t,className:Object(h.a)(o.root,n)},r.a.createElement(dt.a,null))}ft.defaultProps={onClick:function(){},size:"medium"};var pt=ft,vt=Object(d.a)((function(e){return{action:{display:"flex",alignItems:"center",marginBottom:e.spacing(3)},container:{marginTop:e.spacing()},loader:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},spacer:{flexGrow:1}}}));function ht(e){var t=e.match,a=e.history,n=e.location,o=e.redirectToOrderList,c=e.redirectToInvoiceView,i=t.params.orderId;i||o();var l=r.a.useState({order:{},loading:!0}),u=Object(s.a)(l,2),d=u[0],m=d.order,f=d.loading,p=u[1],v=Ie().t,h=vt();r.a.useEffect((function(){me.fetchOrder(i).then((function(e){p({loading:!1,order:e})})).catch(o)}),[i,o]);var g=r.a.useCallback((function(){var e="Order-".concat(m.sequence||m.id,".pdf");me.downloadOrderPDF(m.id,e)}),[m]);return f?r.a.createElement(I,{className:h.loader}):(m.links=m.invoices?m.invoices.map((function(e){return{label:"".concat(v("Invoice")," ").concat(e.sequence),onClick:function(){return c(e.id,{fromUrl:t.url,fromState:n.state})}}})):[],r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{className:h.action},r.a.createElement(pt,{onClick:function(){var e=n.state&&n.state.fromUrl;e?a.push({pathname:e,state:n.state.fromState}):o()}}),r.a.createElement("div",{className:h.spacer}),r.a.createElement(N.a,{mdUp:!0},r.a.createElement(j.a,{onClick:g},r.a.createElement(S.a,null)))),r.a.createElement(ut,{purchase:m,onPrint:g})))}ht.defaultProps={redirectToInvoiceView:function(){}};var gt=ht,bt=Object(d.a)((function(e){return{paper:{height:80,padding:e.spacing(2)}}}));function Et(e){var t=e.sequence,a=e.date,n=e.total,o=e.onClick,c=bt();return r.a.createElement(O,{className:c.paper,onClick:o},r.a.createElement(pe.a,{container:!0},r.a.createElement(pe.a,{item:!0,xs:8},r.a.createElement(fe.a,{variant:"h6"},t),r.a.createElement(fe.a,null,a)),r.a.createElement(pe.a,{item:!0,xs:4,zeroMinWidth:!0},r.a.createElement(fe.a,{variant:"h6",title:n,noWrap:!0},n))))}Et.defaultProps={onClick:function(){}};var yt=Et,Tt=a(106),Ct=a.n(Tt),kt=a(105),Ot=a.n(kt),wt=Object(d.a)((function(e){return{paper:{padding:e.spacing(.5),display:"flex",width:"fit-content",alignItems:"center"}}}));var xt=function(e){var t=e.onNext,a=e.onPrevious,n=e.label,o=e.disableNext,c=e.disablePrevious,i=wt();return r.a.createElement("div",{className:i.paper},"\xa0\xa0",r.a.createElement(fe.a,null,n),"\xa0\xa0",r.a.createElement(j.a,{size:"small",onClick:a,disabled:c},r.a.createElement(Ot.a,null)),"\xa0\xa0",r.a.createElement(j.a,{size:"small",onClick:t,disabled:o},r.a.createElement(Ct.a,null)),"\xa0\xa0")},Dt=Object(k.a)((function(){return{root:{fontSize:"0.850rem"},head:{fontSize:"0.860rem"}}}))(Ze),Pt=Object(d.a)((function(e){return{pagination:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},tableRow:{cursor:"pointer","&:nth-of-type(odd)":{backgroundColor:"".concat(e.palette.secondary.main,"09")}}}}));function It(e){var t=e.columns,a=e.purchases,n=e.totalPurchases,o=e.page,c=e.limit,i=e.loading,l=e.onClick,u=e.onNext,s=e.onPrevious,d=Ie().t,m=Pt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{xsDown:!0},r.a.createElement(Ye.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Je.a,null,t.map((function(e,a){var n=a===t.length-1;return r.a.createElement(Dt,{key:e.label,align:n?"right":"left"},e.label)})))),r.a.createElement(Ge.a,null,a&&a.length?a.map((function(e){return r.a.createElement(Je.a,{hover:!0,key:e.id,onClick:function(t){t.stopPropagation(),l(e.id)},classes:{root:m.tableRow}},t.map((function(a,n){var o=n===t.length-1;return r.a.createElement(Dt,{key:a.label,align:o?"right":"left"},a.render?a.render(e[a.name]):e[a.name])})))})):!i&&r.a.createElement(Je.a,null,r.a.createElement(Ze,{colSpan:t.length},d("No record found")))))),r.a.createElement(N.a,{smUp:!0},r.a.createElement(pe.a,{container:!0,spacing:2},a.map((function(e){return r.a.createElement(pe.a,{item:!0,xs:12,key:e.id},r.a.createElement(yt,{onClick:function(){return l(e.id)},sequence:e.sequence,total:e.total,date:e.date}))})))),i?r.a.createElement(I,{className:m.loader}):null,r.a.createElement("div",{className:m.pagination},r.a.createElement(xt,{label:"".concat(n?o*c+1:0," to ").concat(Math.min(o*c+c,n)||0," of ").concat(n),onNext:u,onPrevious:s,disablePrevious:0===o,disableNext:(o+1)*c>=n})))}It.defaultProps={columns:[],purchases:[],totalPurchases:0,page:0,limit:0,loading:!1,onClick:function(){},onNext:function(){},onPrevious:function(){}};var jt=It;var Nt=function(e){var t=e.redirectToOrderView,a=e.redirectToOrderList,n=e.match,o=n.params,c=n.url,i=Number(o&&o.page)||0,l=Ie().t,u=r.a.useState({orders:[],totalOrders:0,loading:!0}),d=Object(s.a)(u,2),m=d[0],f=m.orders,p=m.totalOrders,v=m.loading,h=d[1],g=r.a.useMemo((function(){return function(e){return[{label:e("Date"),name:"date"},{label:e("Sequence"),name:"sequence"},{label:e("Total without tax"),name:"totalWithoutTax"},{label:e("Total tax"),name:"totalTax"},{label:e("Discount"),name:"totalDiscount"},{label:e("Total"),name:"total"}]}(l)}),[l]),b=r.a.useCallback((function(){me.fetchOrders({limit:25,page:i+1,sort:"-id"}).then((function(e){var t=e.data,n=e.total;e.offset>n?a():h({loading:!1,orders:t,totalOrders:n})})).catch((function(){h((function(e){return Object(L.a)({},e,{loading:!1})}))}))}),[a,i]);r.a.useEffect((function(){b()}),[b]);var E=r.a.useCallback((function(){a(i+1)}),[i,a]),y=r.a.useCallback((function(){a(i-1)}),[i,a]),T=r.a.useCallback((function(e){t(e,{fromUrl:c})}),[t,c]);return r.a.createElement(jt,{columns:g,purchases:f,totalPurchases:p,page:i,loading:v,limit:25,onNext:E,onPrevious:y,onClick:T})};function At(e){var t=e.match,a=e.history,n=e.redirectToInvoiceView,o=t.path,c=t.url,i=o+"/list/:page?",l=o+"/view/:orderId",s=c+"/list",d=c+"/view",m=function(e,t){a.push({pathname:d+"/".concat(e),state:t})},f=function(e){a.push(e?s+"/".concat(e):s)};return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:l,render:function(e){return r.a.createElement(gt,Object.assign({},e,{redirectToOrderList:f,redirectToInvoiceView:n}))}}),r.a.createElement(u.b,{path:i,render:function(e){return r.a.createElement(Nt,Object.assign({},e,{redirectToOrderList:f,redirectToOrderView:m}))}}),r.a.createElement(u.a,{to:{pathname:i}}))}At.defaultProps={redirectToInvoiceView:function(){}};var St=At,Lt=Object(d.a)((function(e){return{action:{display:"flex",alignItems:"center",marginBottom:e.spacing(3)},container:{marginTop:e.spacing(1)},loader:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},spacer:{flexGrow:1}}}));function qt(e){var t=e.history,a=e.location,n=e.match,o=e.redirectToInvoiceList,c=e.redirectToOrderView,i=n.params.invoiceId;i||o();var l=r.a.useState({invoice:{},loading:!0}),u=Object(s.a)(l,2),d=u[0],m=d.invoice,f=d.loading,p=u[1],v=Ie().t,h=Lt();r.a.useEffect((function(){me.fetchInvoice(i).then((function(e){p({invoice:e,loading:!1})})).catch(o)}),[i,o]);var g=r.a.useCallback((function(){var e="Invoice-".concat(m.sequence||m.id,".pdf");me.downloadInvoicePDF(m.id,e)}),[m]);return f?r.a.createElement(I,{className:h.loader}):(m.links=m.orders?m.orders.map((function(e){return{label:"".concat(v("Order")," ").concat(e.sequence),onClick:function(){return c(e.id,{fromUrl:n.url,fromState:a.state})}}})):[],r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{className:h.action},r.a.createElement(pt,{onClick:function(){var e=a.state&&a.state.fromUrl;e?t.push({pathname:e,state:a.state.fromState}):o()}}),r.a.createElement("div",{className:h.spacer}),r.a.createElement(N.a,{mdUp:!0},r.a.createElement(j.a,{onClick:g},r.a.createElement(S.a,null)))),r.a.createElement(ut,{purchase:m,onPrint:g})))}qt.defaultProps={redirectToOrderView:function(){}};var Ft=qt;var Vt=function(e){var t=e.redirectToInvoiceView,a=e.redirectToInvoiceList,n=e.match,o=n.params,c=n.url,i=Number(o&&o.page)||0,l=Ie().t,u=r.a.useState({invoices:[],totalInvoices:0,loading:!0}),d=Object(s.a)(u,2),m=d[0],f=m.invoices,p=m.totalInvoices,v=m.loading,h=d[1],g=r.a.useMemo((function(){return function(e){return[{label:e("Date"),name:"date"},{label:e("Sequence"),name:"sequence"},{label:e("Total without tax"),name:"totalWithoutTax"},{label:e("Total tax"),name:"totalTax"},{label:e("Discount"),name:"totalDiscount"},{label:e("Total"),name:"total"},{label:e("Amount due"),name:"amountDue"}]}(l)}),[l]),b=r.a.useCallback((function(){me.fetchInvoices({limit:25,page:i+1,sort:"-id"}).then((function(e){var t=e.data,n=e.total;e.offset>n?a():h({loading:!1,invoices:t,totalInvoices:n})})).catch((function(){h((function(e){return Object(L.a)({},e,{loading:!1})}))}))}),[a,i]);r.a.useEffect((function(){b()}),[b]);var E=r.a.useCallback((function(){a(i+1)}),[i,a]),y=r.a.useCallback((function(){a(i-1)}),[i,a]),T=r.a.useCallback((function(e){t(e,{fromUrl:c})}),[t,c]);return r.a.createElement(jt,{columns:g,purchases:f,totalPurchases:p,page:i,limit:25,onNext:E,onPrevious:y,loading:v,onClick:T})};function Rt(e){var t=e.match,a=e.history,n=e.redirectToOrderView,o=t.path,c=t.url,i=o+"/list/:page?",l=o+"/view/:invoiceId",s=c+"/list",d=c+"/view",m=function(e,t){a.push({pathname:d+"/".concat(e),state:t})},f=function(e){a.push(e?s+"/".concat(e):s)};return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:l,render:function(e){return r.a.createElement(Ft,Object.assign({},e,{redirectToInvoiceList:f,redirectToOrderView:n}))}}),r.a.createElement(u.b,{path:i,render:function(e){return r.a.createElement(Vt,Object.assign({},e,{redirectToInvoiceList:f,redirectToInvoiceView:m}))}}),r.a.createElement(u.a,{to:{pathname:i}}))}Rt.defaultProps={redirectToOrderView:function(){}};var Bt=Rt,Qt=a(70),Wt=a(202),Ut=a(211),zt=a(203),Mt=a(204),Ht=a(205);function Yt(e){var t=Ie().t,a=e.open,n=e.onClose,o=e.onConfirm,c=e.onCancel,i=e.children,l=e.title;return r.a.createElement(Ut.a,{open:a,onClose:n},r.a.createElement(zt.a,null,l),r.a.createElement(Mt.a,null,i),r.a.createElement(Ht.a,null,r.a.createElement(ve.a,{variant:"outlined",onClick:c||n},t("Cancel")),r.a.createElement(ve.a,{onClick:o},t("Confirm"))))}Yt.defaultProps={title:"Confirmation Dialog",open:!1,onClose:function(){},onConfirm:function(){},t:function(e){return e}};var Gt=Yt;function Xt(e){var t=e.ButtonProps,a=e.DialogProps,n=e.onConfirm,o=r.a.useState(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=r.a.useCallback((function(){l(!0)}),[]),d=r.a.useCallback((function(){l(!1)}),[]),m=r.a.useCallback((function(){d(),n&&n()}),[n,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{className:t.className,variant:t.variant,onClick:u},t.label),r.a.createElement(Gt,{open:i,onClose:d,onConfirm:m,title:a.title,children:a.children}))}Xt.defaultProps={ButtonProps:{},DialogProps:{}};var Jt=Xt,_t=a(69);var Zt=function(e){var t=e.children,a=r.a.useMemo((function(){return{vertical:"bottom",horizontal:"left"}}),[]);return r.a.createElement(_t.a,{autoHideDuration:3e3,maxSnack:3,anchorOrigin:a},t)},Kt=_t.b,$t=Object(d.a)((function(e){return{action:{display:"flex",alignItems:"center",marginBottom:e.spacing(3)},container:{marginTop:e.spacing(1)},loader:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},spacer:{flexGrow:1},purchaseActionWrapper:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",marginTop:e.spacing(2)},purchaseActionButton:{marginTop:e.spacing()},backdrop:{zIndex:999}}}));function ea(e){var t=e.match,a=e.history,n=e.location,o=e.redirectToQuotationList,c=e.redirectToInvoiceView,i=e.redirectToOrderView,l=t.params.quotationId;l||o();var u=r.a.useState({quotation:{},loading:!0}),d=Object(s.a)(u,2),m=d[0],f=m.quotation,p=m.loading,v=d[1],h=r.a.useState(!1),g=Object(s.a)(h,2),b=g[0],E=g[1],y=Ie().t,T=$t(),C=Kt().enqueueSnackbar;r.a.useEffect((function(){me.fetchQuotation(l).then((function(e){v({loading:!1,quotation:e})})).catch(o)}),[l,o]);var k=r.a.useCallback((function(){var e="Quotation-".concat(f.sequence||f.id,".pdf");me.downloadQuotationPDF(f.id,e)}),[f]),w=f.invoices?f.invoices.map((function(e){return{label:"".concat(y("Invoice")," ").concat(e.sequence),onClick:function(){return c(e.id,{fromUrl:t.url,fromState:n.state})}}})):[],x=f.orders?f.orders.map((function(e){return{label:"".concat(y("Order")," ").concat(e.sequence),onClick:function(){return i(e.id,{fromUrl:t.url,fromState:n.state})}}})):[];f.links=[].concat(Object(Qt.a)(x),Object(Qt.a)(w));var D=r.a.useCallback((function(){E(!0),me.confirmOrder(l).then((function(){E(!1),C(y("Order successfully confirmed"),{variant:"success"}),i(l)})).catch((function(e){C(y("Error confirming order"),{variant:"error"}),E(!1)}))}),[y,l,i,C]),P=r.a.useCallback((function(){E(!0),me.cancelOrder(l).then((function(){E(!1),C(y("Order successfully cancelled"),{variant:"success"}),i(l)})).catch((function(e){C(y("Error cancelling order"),{variant:"error"}),E(!1)}))}),[y,l,i,C]),A=f&&f.status&&f.status.includes("FINALIZED"),L=r.a.useMemo((function(){return A?r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,null),r.a.createElement("div",{className:T.purchaseActionWrapper},r.a.createElement(Jt,{ButtonProps:{label:y("Confirm order"),className:T.purchaseActionButton},DialogProps:{title:y("Confirm order"),children:y("Do you want to confirm order ?")},onConfirm:D}),"\xa0\xa0",r.a.createElement(Jt,{ButtonProps:{label:y("Cancel"),className:T.purchaseActionButton,variant:"outlined"},DialogProps:{title:y("Cancel order"),children:y("Do you want to cancel order ?")},onConfirm:P}))):null}),[y,T,A,D,P]);return p?r.a.createElement(I,{className:T.loader}):r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{className:T.action},r.a.createElement(pt,{onClick:function(){var e=n.state&&n.state.fromUrl;e?a.push({pathname:e,state:n.state.fromState}):o()}}),r.a.createElement("div",{className:T.spacer}),r.a.createElement(N.a,{mdUp:!0},r.a.createElement(j.a,{onClick:k},r.a.createElement(S.a,null)))),r.a.createElement(ut,{purchase:f,onPrint:k,purchaseAction:L}),r.a.createElement(Wt.a,{className:T.backdrop,open:b},r.a.createElement(I,null)))}ea.defaultProps={redirectToInvoiceView:function(){}};var ta=ea;var aa=function(e){var t=e.redirectToQuotationView,a=e.redirectToQuotationList,n=e.match,o=n.params,c=n.url,i=Number(o&&o.page)||0,l=Ie().t,u=r.a.useState({orders:[],totalQuotations:0,loading:!0}),d=Object(s.a)(u,2),m=d[0],f=m.orders,p=m.totalQuotations,v=m.loading,h=d[1],g=r.a.useMemo((function(){return function(e){return[{label:e("Date"),name:"date"},{label:e("Sequence"),name:"sequence"},{label:e("Status"),name:"status",render:function(e){return r.a.createElement(Fe,{status:e,variant:"dense"})}},{label:e("Total without tax"),name:"totalWithoutTax"},{label:e("Total tax"),name:"totalTax"},{label:e("Discount"),name:"totalDiscount"},{label:e("Total"),name:"total"}]}(l)}),[l]),b=r.a.useCallback((function(){me.fetchQuotations({limit:25,page:i+1,sort:"-id"}).then((function(e){var t=e.data,n=e.total;e.offset>n?a():h({loading:!1,orders:t,totalQuotations:n})})).catch((function(){h((function(e){return Object(L.a)({},e,{loading:!1})}))}))}),[a,i]);r.a.useEffect((function(){b()}),[b]);var E=r.a.useCallback((function(){a(i+1)}),[i,a]),y=r.a.useCallback((function(){a(i-1)}),[i,a]),T=r.a.useCallback((function(e){t(e,{fromUrl:c})}),[t,c]);return r.a.createElement(jt,{columns:g,purchases:f,totalPurchases:p,page:i,loading:v,limit:25,onNext:E,onPrevious:y,onClick:T})};function na(e){var t=e.match,a=e.history,n=e.redirectToInvoiceView,o=e.redirectToOrderView,c=t.path,i=t.url,l=c+"/list/:page?",s=c+"/view/:quotationId",d=i+"/list",m=i+"/view",f=function(e,t){a.push({pathname:m+"/".concat(e),state:t})},p=function(e){a.push(e?d+"/".concat(e):d)};return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:s,render:function(e){return r.a.createElement(ta,Object.assign({},e,{redirectToQuotationList:p,redirectToInvoiceView:n,redirectToOrderView:o}))}}),r.a.createElement(u.b,{path:l,render:function(e){return r.a.createElement(aa,Object.assign({},e,{redirectToQuotationList:p,redirectToQuotationView:f}))}}),r.a.createElement(u.a,{to:{pathname:l}}))}na.defaultProps={redirectToInvoiceView:function(){},redirectToOrderView:function(){}};var ra=na,oa=Object(d.a)((function(e){return{container:{overflow:"auto",height:"100%",padding:e.spacing(2)},filter:{display:"flex",justifyContent:"space-between",alignItems:"center"},paper:{height:"100%",overflow:"auto",padding:e.spacing(2)},chipContainer:{display:"flex",marginBottom:e.spacing(2)}}}));var ca=Object(u.g)((function(e){var t=e.match,a=e.history,n=e.location,o=t.path,c=n.pathname,i=Ie(),l=i.t,d=i.i18n,v=oa(),h=r.a.useState(2),g=Object(s.a)(h,2),b=g[0],E=g[1],y=r.a.useState(!1),C=Object(s.a)(y,2),k=C[0],w=C[1],x=r.a.useState({app:null,user:null}),D=Object(s.a)(x,2),P=D[0],j=D[1],N=P&&P.user&&P.user.language,A=function(e,t){a.push({pathname:o+"/order/view/"+e,state:t})},S=function(e,t){a.push({pathname:o+"/invoice/view/"+e,state:t})};return r.a.useEffect((function(){me.fetchConfiguration().then((function(e){e.isQuotationRequestActive&&w(!0)})).finally((function(){E((function(e){return e-1}))}))}),[]),r.a.useEffect((function(){me.fetchInfo().then((function(e){return j(e)})).finally((function(){E((function(e){return e-1}))}))}),[]),r.a.useEffect((function(){N&&(E((function(e){return e+1})),d.changeLanguage(N).finally((function(){E((function(e){return e-1}))})))}),[N,d]),0!==b?r.a.createElement(I,null):r.a.createElement("div",{className:v.container},r.a.createElement(O,{className:v.paper},r.a.createElement("div",{className:v.filters},r.a.createElement("div",{className:v.chipContainer},k&&r.a.createElement(T,{label:l("Quotations"),icon:m.a,isSelected:c.includes("quotation"),onClick:function(){a.push(o+"/quotation/list")}}),r.a.createElement(T,{label:l("Orders"),icon:f.a,isSelected:c.includes("order"),onClick:function(){a.push(o+"/order/list")}}),"\xa0",r.a.createElement(T,{label:l("Invoices"),icon:p.a,isSelected:c.includes("invoice"),onClick:function(){a.push(o+"/invoice/list")}}))),r.a.createElement(u.d,null,k&&r.a.createElement(u.b,{path:"".concat(o,"/quotation"),render:function(e){return r.a.createElement(ra,Object.assign({},e,{redirectToInvoiceView:S,redirectToOrderView:A}))}}),r.a.createElement(u.b,{path:"".concat(o,"/invoice"),render:function(e){return r.a.createElement(Bt,Object.assign({},e,{redirectToOrderView:A}))}}),r.a.createElement(u.b,{path:"".concat(o,"/order"),render:function(e){return r.a.createElement(St,Object.assign({},e,{redirectToInvoiceView:S}))}}),r.a.createElement(u.a,{to:{pathname:"".concat(o,"/invoice")}}))))})),ia=a(107),la=a(209),ua={darkBlue:"#293847",grey:"#9e9e9e",green:"#3ecf8e",lightGreen:"rgba(62, 207, 142, 0.1)"},sa=Object(ia.a)({palette:{primary:{main:ua.darkBlue},secondary:{light:ua.lightGreen,main:ua.green,contrastText:"#ffffff"}},overrides:{MuiTypography:{colorTextPrimary:{color:ua.darkBlue}},MuiButton:{root:{borderRadius:20}}},props:{MuiInput:{disableUnderline:!0},MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0},MuiButton:{variant:"contained",color:"secondary"}},custom:{COLORS:ua}});d.a;var da=function(e){var t=e.children;return r.a.createElement(la.a,{theme:sa},r.a.createElement(i.a,null),t)};a(151);var ma=function(){return r.a.createElement(r.a.Suspense,{fallback:""},r.a.createElement(l.a,null,r.a.createElement(da,null,r.a.createElement(Pe,null,r.a.createElement(Zt,null,r.a.createElement(i.a,null),r.a.createElement(u.b,{path:"/purchase",component:ca}),r.a.createElement(u.a,{to:"/purchase"}))))))};a(152),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ma,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e){e.exports=JSON.parse('{"Accepted":"Accepted","Amount due":"Amount due","Cancel":"Cancel","Cancelled":"Cancelled","Cancel order":"Cancel order","Closed":"Closed","Confirm":"Confirm","Confirm order":"Confirm order","Date":"Date","Delivered":"Delivered","Delivery address":"Delivery address","Discount":"Discount","Do you want to confirm order ?":"Do you want to confirm order ?","Do you want to cancel order ?":"Do you want to cancel order ?","Download":"Download","Error confirming order":"Error confirming order","Error cancelling order":"Error cancelling order","Finalized":"Finalized","Invoice":"Invoice","Invoiced":"Invoiced","Invoices":"Invoices","Invoicing address":"Invoicing address","Linked elements":"Linked elements","No record found":"No record found","Order":"Order","Ordered":"Ordered","Orders":"Orders","Order successfully confirmed":"Order successfully confirmed","Order successfully cancelled":"Order successfully cancelled","Paid":"Paid","Partially delivered":"Partially delivered","Partially invoiced":"Partially invoiced","Partially paid":"Partially paid","Partially reimbursed":"Partially reimbursed","Payments":"Payments","Pending":"Pending","Pro forma":"Pro forma","Processed":"Processed","Product name":"Product name","Quantity":"Quantity","Quotation":"Quotation","Quotations":"Quotations","Reimbursed":"Reimbursed","Status":"Status","Sequence":"Sequence","Sub total":"Sub total","To deliver":"To deliver","Total discount":"Total discount","Total tax":"Total tax","Total without tax":"Total without tax","Total":"Total","Unit price":"Unit price","Validated":"Validated","Vat":"Vat","Ventilated":"Ventilated"}')},99:function(e){e.exports=JSON.parse('{"Accepted":"Accept\xe9","Amount due":"Reste \xe0 payer","Cancel":"Annuler","Cancelled":"Annul\xe9","Cancel order":"Annuler la commande","Confirm":"Confirmer","Confirm order":"Confirmer la commande","Closed":"Ferm\xe9","Date":"Date","Delivered":"Livr\xe9","Delivery address":"Adresse de livraison","Discount":"Remise","Do you want to confirm order ?":"Voulez-vous confirmer la commande?","Do you want to cancel order ?":"Voulez-vous annuler la commande?","Download":"T\xe9l\xe9charger","Error confirming order":"Erreur lors de la confirmation de la commande","Error cancelling order":"Erreur lors de l\'annulation de la commande","Finalized":"Finalis\xe9","Invoice":"Facture","Invoiced":"Factur\xe9","Invoices":"Factures","Invoicing address":"Adresse de facturation","Linked elements":"\xc9l\xe9ments li\xe9s","No record found":"No record found","Order":"Commande","Ordered":"Command\xe9","Orders":"Commandes","Order successfully confirmed":"Commande confirm\xe9e avec succ\xe8s","Order successfully cancelled":"Commande annul\xe9e avec succ\xe8s","Paid":"Pay\xe9","Partially delivered":"Partiellement livr\xe9","Partially invoiced":"Partiellement factur\xe9","Partially paid":"Partiellement pay\xe9","Partially reimbursed":"Partiellement rembours\xe9","Payments":"Payments","Pending":"En attente","Pro forma":"Pro forma","Processed":"Trait\xe9e","Product name":"Nom du produit","Quantity":"Quantit\xe9","Quotation":"Devis","Quotations":"Devis","Reimbursed":"Rembours\xe9","Status":"Statut","Sequence":"S\xe9quence","Sub total":"Sous total","To deliver":"\xc0 livrer","Total discount":"Remise","Total tax":"Taxes","Total without tax":"Montant total HT","Total":"Total","Unit price":"Prix unitaire","Validated":"Valid\xe9","Vat":"TVA","Ventilated":"Ventil\xe9"}')}},[[116,1,2]]]);
//# sourceMappingURL=main.f11b1d63.chunk.js.map