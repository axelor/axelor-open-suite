{"version":3,"sources":["Purchase/components/Chip.js","Purchase/components/Paper.js","Purchase/components/Loader.js","services/RestService.js","Purchase/PurchaseAPI.js","Purchase/providers/TranslationProvider.js","Purchase/components/StatusTag.js","Purchase/components/PurchaseStatus.js","Purchase/components/Divider.js","Purchase/components/PriceSummary.js","Purchase/components/PaymentSummary.js","Purchase/components/Table.js","Purchase/components/PurchaseView.js","Purchase/components/BackButton.js","Purchase/containers/OrderView.js","Purchase/components/PurchaseCard.js","Purchase/components/Pagination.js","Purchase/components/PurchaseList.js","Purchase/containers/OrderList.js","Purchase/pages/Order.js","Purchase/containers/InvoiceView.js","Purchase/containers/InvoiceList.js","Purchase/pages/Invoice.js","Purchase/components/ConfirmationDialog.js","Purchase/components/ConfirmationDialogButton.js","Purchase/providers/SnackbarProvider.js","Purchase/containers/QuotationView.js","Purchase/containers/QuotationList.js","Purchase/pages/Quotation.js","Purchase/PurchaseApp.js","Purchase/providers/ThemeProvider.js","Purchase/index.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","chip","backgroundColor","fade","palette","secondary","main","icon","iconSelected","color","chipSelected","light","chipClickable","Chip","props","Icon","label","isSelected","onClick","classes","fontSize","root","clsx","clickable","defaultProps","withStyles","position","width","overflow","borderRadius","elevation1","boxShadow","Paper","height","display","justifyContent","alignItems","top","bottom","animationDuration","Loader","lastCookieString","className","rest","CircularProgress","variant","value","size","thickness","disableShrink","lastCookies","readCookie","name","cookieString","document","cookie","split","reduce","obj","parts","AxelorRest","http","entity","this","data","put","post","id","delete","records","map","version","options","get","fieldName","baseURL","interceptor","instance","axios","create","e","console","log","callback","includes","url","config","overrideHeaders","headers","$headers","token","withCredentials","Object","assign","accept","keys","length","method","JSON","stringify","_config","doRequest","request","timeoutRequest","delay","Promise","resolve","reject","setTimeout","Error","race","then","res","status","catchError","logout","catch","bind","intercept","username","password","isAuth","undefined","appUser","app","description","user","code","language","email","info","xhr","XMLHttpRequest","doClean","open","forEach","k","setRequestHeader","overrideMimeType","onload","abort","onreadystatechange","readyState","callbackInterceptor","result","parse","responseText","upload","onprogress","fileSize","total","parseFloat","loaded","done","Math","round","progress","transfer","format","toFixed","formatSize","lengthComputable","send","getQueryString","query","qs","handleResponse","message","handleFormatDate","date","moment","getPurchaseLines","lines","currencySymbol","line","productName","qty","unitPrice","addSuffix","price","vat","taxLine","discount","_discountTotal","inTaxTotal","point","Number","str","suffix","withSpace","getPurchaseCurrencySymbol","currency","symbol","mapCurrencySymbol","addCurrencySymbol","totalTax","totalWithoutTax","totalDiscount","handleOrderInformation","order","type","orderDate","sequence","saleOrderSeq","taxTotal","exTaxTotal","invoicingAddress","mainInvoicingAddressStr","deliveryAddress","deliveryAddressStr","getStatus","statusSelect","saleOrderLineList","invoices","mapOrder","handleQuotationInformation","quotation","orders","mapQuotation","handleInvoiceInformation","invoice","invoiceEntity","invoiceDate","invoiceSeq","amountDue","amountRemaining","addressStr","invoiceLineList","paymentLines","paymentDate","amount","getPaymentLines","invoicePaymentList","push","mapInvoice","handleEmptyDataResponse","handlePaginationTypeDataResponse","handleReturnDataFromResponse","handleTransformDataResponse","transform","handleTransformQuotationsInformation","quotations","handleTransformOrdersInformation","handleTransformInvoicesInformation","downloadPDF","URL","fileName","RestService","responseType","blob","window","createObjectURL","Blob","link","createElement","href","setAttribute","click","fetchQuotations","fetchQuotation","quotationId","fetchOrders","fetchOrder","orderId","confirmOrder","cancelOrder","downloadQuotationPDF","downloadOrderPDF","downloadInvoicePDF","invoiceId","fetchInvoices","fetchInvoice","fetchTranslations","Array","isArray","acc","key","fetchConfiguration","isQuotationRequestActive","fetchInfo","checkInfo","translations","en","fr","i18n","i18next","createInstance","lng","navigator","use","initReactI18next","Backend","LanguageDetector","init","fallbackLng","interpolation","escapeValue","backend","payload","lang","exec","groups","getLanguageFromURL","PurchaseAPI","defaultTranslations","removeEmptyTranslation","keySeparator","TranslationProvider","children","I18nextProvider","useTranslation","i18nextUseTranslation","useTagStyles","tag","lineHeight","fontWeight","padding","background","textTransform","Tag","styles","DRAFT","FINALIZED","ORDERED","INVOICED","DELIVERED","CLOSED","CANCELLED","VALIDATED","PAID","REIMBURSED","PENDING","ACCEPTED","PROCESSED","VENTILATED","StatusTag","t","dense","marginRight","spacing","PurchaseStatus","divider","borderColor","Divider","row","marginBottom","PriceSummary","totalLabel","totalWithoutTaxLabel","totalTaxLabel","totalDiscountLabel","Typography","PaymentSummary","payments","paymentsLabel","amountDueLabel","align","payment","index","Fragment","useTableCellStyles","borderBottom","head","TableCell","React","forwardRef","ref","headClassesProp","rootClassesProp","classesProp","usePurchaseHeaderStyles","container","titleWrapper","flexWrap","title","PurchaseHeader","onPrint","Hidden","smDown","Button","startIcon","PurchaseAddress","gutterBottom","PurchaseDetail","usePurchaseLinesStyles","PurchaseLines","Table","TableHead","TableRow","TableBody","mdUp","Grid","item","xs","PurchaseSummary","usePurchaseLinkedItemsStyles","cursor","PurchaseLinkedItems","links","i","paper","PurchaseView","purchase","purchaseAction","md","useBackButtonStyles","BackButton","IconButton","useOrderViewStyles","action","marginTop","loader","spacer","flexGrow","OrderViewContainer","match","history","location","redirectToOrderList","redirectToInvoiceView","params","useState","loading","setStore","useEffect","handlePrint","useCallback","fromUrl","fromState","state","pathname","PurchaseCard","zeroMinWidth","noWrap","Pagination","onNext","onPrevious","disableNext","disablePrevious","disabled","StyledTableCell","usePurchaseListStyles","pagination","tableRow","PurchaseList","columns","purchases","totalPurchases","page","limit","xsDown","column","isLastColumn","hover","stopPropagation","render","colSpan","smUp","min","OrderListContainer","redirectToOrderView","totalOrders","useMemo","getOrderColumn","sort","offset","store","handleNext","handlePrevious","handleOrderClick","Order","path","orderListPath","orderViewPath","orderListUrl","orderViewUrl","OrderView","OrderList","to","useInvoiceViewStyles","InvoiceViewContainer","redirectToInvoiceList","InvoiceListContainer","totalInvoices","getInvoiceColumn","handleInvoiceClick","Invoice","invoiceListPath","invoiceViewPath","invoiceListUrl","invoiceViewUrl","InvoiceView","InvoiceList","ConfirmationDialog","onClose","onConfirm","onCancel","Dialog","DialogTitle","DialogContent","DialogActions","ConfirmationDialogButton","ButtonProps","DialogProps","dialogOpen","setDialogOpen","handleOpenDialog","handleCloseDialog","handleConfirm","SnackbarProvider","anchorOrigin","vertical","horizontal","autoHideDuration","maxSnack","useSnackbar","useNotistackSnackbar","useQuotationViewStyles","purchaseActionWrapper","purchaseActionButton","backdrop","zIndex","QuotationViewContainer","redirectToQuotationList","updating","setUpdating","enqueueSnackbar","invoiceLinks","orderLinks","handleConfirmOrder","err","handleCancelOrder","isFinalized","Backdrop","QuotationListContainer","redirectToQuotationView","totalQuotations","handleQuotationClick","Quotation","quotationListPath","quotationViewPath","quotationListUrl","quotationViewUrl","quoationId","QuotationView","QuotationList","filter","chipContainer","withRouter","setLoading","showQuotation","setShowQuotation","setData","userLanguage","finally","changeLanguage","filters","SubjectIcon","ReceiptIcon","ShoppingBasketIcon","COLORS","darkBlue","grey","green","lightGreen","createMuiTheme","primary","contrastText","overrides","MuiTypography","colorTextPrimary","MuiButton","MuiInput","disableUnderline","MuiTextField","margin","fullWidth","custom","muiMakeStyles","ThemeProvider","CssBaseline","Purchase","Suspense","fallback","component","PurchaseApp","Boolean","hostname","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.f11b1d63.chunk.js","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport MuiChip from '@material-ui/core/Chip';\nimport { makeStyles, fade } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  chip: {\n    backgroundColor: fade(theme.palette.secondary.main, 0.04),\n  },\n  icon: {\n    backgroundColor: fade(theme.palette.secondary.main, 0.04),\n  },\n  iconSelected: {\n    color: theme.palette.secondary.main,\n  },\n  chipSelected: {\n    backgroundColor: theme.palette.secondary.light,\n  },\n  chipClickable: {\n    '&:focus, &:hover': {\n      backgroundColor: theme.palette.secondary.light,\n    },\n  },\n}));\n\nfunction Chip(props) {\n  const { icon: Icon, label, isSelected, onClick } = props;\n\n  const classes = useStyles();\n\n  return (\n    <MuiChip\n      label={label}\n      icon={\n        <Icon\n          fontSize=\"small\"\n          classes={{\n            root: clsx(classes.icon, {\n              [classes.iconSelected]: isSelected,\n            }),\n          }}\n        />\n      }\n      classes={{\n        root: clsx(classes.chip, {\n          [classes.chipSelected]: isSelected,\n        }),\n        clickable: classes.chipClickable,\n      }}\n      onClick={onClick}\n    />\n  );\n}\n\nChip.defaultProps = {\n  Icon: () => null,\n  onClick: () => {},\n};\n\nexport default Chip;\n","import Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport default withStyles(() => ({\n  root: {\n    position: 'relative',\n    width: '100%',\n    overflow: 'hidden',\n    backgroundColor: '#ffffff',\n    borderRadius: 4,\n  },\n  elevation1: {\n    boxShadow: `0px 0px 30px rgba(0,0,0,0.15)`,\n  },\n}))(Paper);\n","import React from 'react';\nimport clsx from 'clsx';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 'inherit',\n    width: 'inherit',\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  top: {\n    color: '#eef3fd',\n  },\n  bottom: {\n    color: theme.palette.secondary.main,\n    animationDuration: '250ms',\n    position: 'absolute',\n  },\n}));\n\nfunction Loader(props) {\n  const { className, ...rest } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={clsx(classes.root, className)}>\n      <CircularProgress\n        variant=\"determinate\"\n        value={100}\n        className={classes.top}\n        size={24}\n        thickness={4}\n        {...rest}\n      />\n      <CircularProgress\n        variant=\"indeterminate\"\n        disableShrink\n        className={classes.bottom}\n        size={24}\n        thickness={4}\n        {...rest}\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","import axios from 'axios';\n\nlet lastCookieString;\nlet lastCookies = {};\n\nexport function readCookie(name) {\n  let cookieString = document.cookie || '';\n  if (cookieString !== lastCookieString) {\n    lastCookieString = cookieString;\n    lastCookies = cookieString.split('; ').reduce((obj, value) => {\n      let parts = value.split('=');\n      obj[parts[0]] = parts[1];\n      return obj;\n    }, {});\n  }\n  return lastCookies[name];\n}\n\nexport class AxelorRest {\n  constructor(http, entity) {\n    this.http = http;\n    this.entity = entity;\n  }\n\n  insert(data) {\n    return this.http.put('/ws/rest/' + this.entity, data);\n  }\n\n  update(data) {\n    return this.http.post('/ws/rest/' + this.entity, data);\n  }\n\n  delete(id) {\n    return this.http.delete('/ws/rest/' + this.entity + '/' + id);\n  }\n\n  deleteAll(records) {\n    return this.http.post(`/ws/rest/${this.entity}/removeAll`, {\n      records: records.map(({ id, version }) => ({ id, version })),\n    });\n  }\n\n  fetch(id, options) {\n    return this.http.post(\n      '/ws/rest/' + this.entity + '/' + id + '/fetch',\n      options\n    );\n  }\n\n  copy(id, options) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/copy',\n      options\n    );\n  }\n\n  details(id, fieldName) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/details?name=' + fieldName\n    );\n  }\n\n  search(options = {}) {\n    return this.http.post(\n      '/ws' + (this.entity ? `/rest/${this.entity}` : '') + '/search',\n      options\n    );\n  }\n}\n\nexport class Http {\n  constructor({ baseURL = '/' } = {}, interceptor = null) {\n    this.instance = axios.create({\n      baseURL,\n    });\n    this.interceptor = interceptor;\n  }\n\n  catchError(e) {\n    console.log('catch error', e);\n    if (this.callback) {\n      this.callback(e);\n    } else if (`${e}`.includes('401')) {\n      // window.location.reload();\n    }\n  }\n\n  request(url, data = {}, config = {}, overrideHeaders) {\n    const {\n      headers: $headers = {},\n      token = true,\n      withCredentials = true,\n    } = config;\n    const headers = {\n      ...(token ? { 'X-CSRF-Token': readCookie('CSRF-TOKEN') } : {}),\n      ...(overrideHeaders ||\n        Object.assign(\n          {},\n          {\n            accept: 'application/json',\n            'x-requested-with': 'XMLHttpRequest',\n          },\n          $headers,\n          Object.keys(data).length ? { 'content-type': 'application/json' } : {}\n        )),\n    };\n\n    const options = Object.assign(\n      {\n        url,\n        method: 'POST',\n        headers,\n        data:\n          headers['content-type'] === 'application/json'\n            ? JSON.stringify(data)\n            : data,\n        // timeout: 60000,\n      },\n      config,\n      { withCredentials }\n    );\n\n    if (\n      (options.method === 'GET' || options.method === 'HEAD') &&\n      options.data\n    ) {\n      delete options.data;\n    }\n\n    return this.instance(options);\n  }\n\n  intercept(url, method = 'GET', data = {}, headers, config = {}) {\n    const _config = Object.assign(\n      {\n        method,\n        withCredentials: true,\n      },\n      config\n    );\n\n    const doRequest = () => this.request(url, data, _config, headers);\n    const timeoutRequest = (delay = 100000) =>\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('Request failed Timeout'));\n        }, delay);\n      });\n\n    return Promise.race([\n      timeoutRequest(),\n      doRequest().then((res) => {\n        if (res.status === 401) {\n          return this.catchError({ logout: true });\n        }\n        return res.data;\n      }),\n    ]).catch(this.catchError.bind(this));\n  }\n\n  get(url, headers, config) {\n    return this.intercept(url, 'GET', {}, headers, config);\n  }\n\n  post(url, data, headers) {\n    return this.intercept(url, 'POST', data, headers);\n  }\n\n  patch(url, data, headers) {\n    return this.intercept(url, 'PATCH', data, headers);\n  }\n\n  put(url, data, headers) {\n    return this.intercept(url, 'PUT', data, headers);\n  }\n\n  delete(url, headers) {\n    return this.intercept(url, 'DELETE', {}, headers);\n  }\n\n  head(url, headers) {\n    return this.intercept(url, 'HEAD', {}, headers);\n  }\n\n  action(url, data) {\n    return this.intercept('/ws/action' + url, 'POST', data);\n  }\n\n  rest(entity) {\n    return new AxelorRest(this, entity);\n  }\n\n  login(data = {}) {\n    var config = Object.assign({}, this.config || {}, data);\n    return this.request(\n      '/callback',\n      {\n        username: config.username,\n        password: config.password,\n      },\n      { token: false }\n    )\n      .then((res) => {\n        var isAuth = null;\n        if (res === undefined) {\n          throw new Error('Failed To Connect !!');\n        }\n        if (res && res.status === 401) {\n          isAuth = false;\n        } else if (res && res.status === 200) {\n          isAuth = true;\n          this.config = config;\n          /*\n           Custom Cookie\n           res.headers['csrf-token'] &&\n             (document.cookie = `CSRF-TOKEN=${res.headers['csrf-token']}`);\n          */\n        }\n        return isAuth;\n      })\n      .catch(this.catchError.bind(this));\n  }\n\n  logout() {\n    return this.get('/logout');\n  }\n\n  info() {\n    return this.get('/ws/app/info');\n  }\n\n  checkInfo() {\n    return this.request('/ws/app/info', {}, { method: 'GET' })\n      .then((res) => res.data)\n      .then((res) => ({\n        appUser: res,\n        app: {\n          name: res['application.name'],\n          version: res['application.version'],\n          description: res['application.description'],\n        },\n        user: {\n          id: res['user.id'],\n          code: res['user.login'],\n          name: res['user.name'],\n          language: res['user.lang'] || 'en',\n          email: res['user.login'],\n          theme: res['user.theme'] || '',\n        },\n      }));\n  }\n\n  upload(data = null, headers = {}, callback = () => true, info = {}) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest(),\n        method = 'POST',\n        url = '/ws/files/upload';\n\n      const doClean = () =>\n        headers['X-File-Id']\n          ? this.intercept(() => this.delete(`${url}/${headers['X-File-Id']}`))\n          : Promise.resolve(true);\n\n      const formatSize = (done, total) => {\n        const format = (size) => {\n          if (size > 1000000000)\n            return parseFloat(size / 1000000000).toFixed(2) + ' GB';\n          if (size > 1000000)\n            return parseFloat(size / 1000000).toFixed(2) + ' MB';\n          if (size >= 1000) return parseFloat(size / 1000).toFixed(2) + ' KB';\n          return size + ' B';\n        };\n        return format(done || 0) + '/' + format(total);\n      };\n\n      xhr.open(method, url, true);\n\n      Object.keys(headers).forEach((k) => {\n        xhr.setRequestHeader(k, headers[k]);\n      });\n\n      xhr.withCredentials = true;\n      xhr.overrideMimeType('application/octet-stream');\n      xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      xhr.setRequestHeader('X-CSRF-Token', readCookie('CSRF-TOKEN'));\n\n      xhr.onload = () => {\n        callback(100);\n      };\n\n      info.abort = () => {\n        xhr.abort();\n        return doClean();\n      };\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          switch (xhr.status) {\n            case 401:\n              this.callbackInterceptor();\n              throw new Error('Unauthorized !!');\n            case 200:\n              try {\n                const result = JSON.parse(xhr.responseText);\n                resolve(result);\n              } catch (e) {\n                resolve(xhr.responseText);\n              }\n              break;\n            default:\n              doClean();\n              reject({ status: xhr.status });\n              break;\n          }\n        }\n      };\n\n      xhr.upload.onprogress = (e) => {\n        const fileSize = headers['X-File-Size'];\n        const total = parseFloat(headers['X-File-Offset']) + e.loaded;\n        const done = Math.round((total / fileSize) * 100);\n\n        info.progress = done > 95 ? '95%' : done + '%';\n        info.transfer = formatSize(total, fileSize);\n        info.loaded = total === fileSize;\n\n        if (e.lengthComputable) {\n          callback((e.loaded / e.total) * 100, info);\n        }\n      };\n\n      xhr.send(data);\n    });\n  }\n}\n\nexport default new Http({\n  baseURL: process.env.NODE_ENV === 'production' ? '../' : '/axelor-portal', // '/' for portal\n});\n","import RestService from '../services/RestService';\nimport qs from 'qs';\nimport moment from 'moment';\n\nfunction getQueryString(query) {\n  return qs.stringify(query);\n}\n\nfunction handleResponse(res) {\n  if (res && res.status === 0) {\n    return res;\n  } else {\n    throw new Error(res.message);\n  }\n}\n\nfunction handleFormatDate(date) {\n  return date && moment(date, 'YYYY-MM-DD', 'fr').format('DD/MM/YYYY');\n}\n\nfunction getPurchaseLines(lines = [], currencySymbol) {\n  return lines.map((line) => {\n    return {\n      id: line.id,\n      name: line.productName,\n      qty: toFixed(line.qty),\n      unitPrice: currencySymbol\n        ? addSuffix(toFixed(line.price), currencySymbol)\n        : toFixed(line.price),\n      vat:\n        line.taxLine && line.taxLine.value\n          ? addSuffix(toFixed(line.taxLine.value * 100), '%')\n          : '',\n      discount: currencySymbol\n        ? addSuffix(toFixed(line._discountTotal || '0.00'), currencySymbol)\n        : '0.00',\n\n      total: currencySymbol\n        ? addSuffix(toFixed(line.inTaxTotal), currencySymbol)\n        : toFixed(line.inTaxTotal),\n    };\n  });\n}\n\nfunction mapQuotation(quotation) {\n  const currencySymbol = getPurchaseCurrencySymbol(quotation);\n\n  return {\n    type: 'Quotation',\n    id: quotation.id,\n    date: handleFormatDate(quotation.orderDate),\n    sequence: quotation.saleOrderSeq || 'N/A',\n    total: quotation.inTaxTotal || '0.00',\n    totalTax: quotation.taxTotal || '0.00',\n    totalWithoutTax: quotation.exTaxTotal || '0.00',\n    totalDiscount: quotation._discountTotal || '0.00',\n    currency: quotation.currency,\n    invoicingAddress: quotation.mainInvoicingAddressStr,\n    deliveryAddress: quotation.deliveryAddressStr,\n    status: getStatus(quotation.statusSelect),\n    lines: getPurchaseLines(quotation.saleOrderLineList, currencySymbol),\n    orders: quotation.orders,\n    invoices: quotation.invoices,\n  };\n\n  function getStatus(status) {\n    switch (status) {\n      case 1:\n        return ['DRAFT'];\n      case 2:\n        return ['FINALIZED'];\n      case 3:\n        return ['INVOICED'];\n      case 4:\n        return ['INVOICED', 'PAID'];\n      case 5:\n        return ['CANCELLED'];\n      default:\n        return [];\n    }\n  }\n}\n\nfunction mapOrder(order) {\n  const currencySymbol = getPurchaseCurrencySymbol(order);\n\n  return {\n    type: 'Order',\n    id: order.id,\n    date: handleFormatDate(order.orderDate),\n    sequence: order.saleOrderSeq || 'N/A',\n    total: order.inTaxTotal || '0.00',\n    totalTax: order.taxTotal || '0.00',\n    totalWithoutTax: order.exTaxTotal || '0.00',\n    totalDiscount: order._discountTotal || '0.00',\n    currency: order.currency,\n    invoicingAddress: order.mainInvoicingAddressStr,\n    deliveryAddress: order.deliveryAddressStr,\n    status: getStatus(order.statusSelect),\n    lines: getPurchaseLines(order.saleOrderLineList, currencySymbol),\n    invoices: order.invoices,\n  };\n\n  function getStatus(status) {\n    switch (status) {\n      case 1:\n      case 2:\n        return ['DRAFT'];\n      case 3:\n        return ['INVOICED'];\n      case 4:\n        return ['INVOICED', 'PAID'];\n      case 5:\n        return ['CANCELLED'];\n      default:\n        return [];\n    }\n  }\n}\n\nfunction toFixed(value, point = 2) {\n  return Number.parseFloat(value).toFixed(point);\n}\n\nfunction addSuffix(str, suffix, withSpace = true) {\n  return withSpace ? str + ' ' + suffix : str + suffix;\n}\n\nfunction getPurchaseCurrencySymbol(entity) {\n  return entity && entity.currency && entity.currency.symbol;\n}\n\nfunction mapCurrencySymbol(entity) {\n  const currencySymbol = getPurchaseCurrencySymbol(entity);\n\n  if (!currencySymbol) {\n    return entity;\n  }\n\n  const addCurrencySymbol = (str) => addSuffix(str, currencySymbol);\n\n  return Object.assign(entity, {\n    total: addCurrencySymbol(entity.total),\n    totalTax: addCurrencySymbol(entity.totalTax),\n    totalWithoutTax: addCurrencySymbol(entity.totalWithoutTax),\n    totalDiscount: addCurrencySymbol(entity.totalDiscount),\n  });\n}\n\nfunction handleOrderInformation(order) {\n  return mapCurrencySymbol(mapOrder(order));\n}\n\nfunction handleQuotationInformation(quotation) {\n  return mapCurrencySymbol(mapQuotation(quotation));\n}\n\nfunction mapInvoice(invoice) {\n  const currencySymbol = getPurchaseCurrencySymbol(invoice);\n\n  const invoiceEntity = {\n    type: 'Invoice',\n    id: invoice.id,\n    date: handleFormatDate(invoice.invoiceDate),\n    sequence: invoice.invoiceSeq || '',\n    total: invoice.inTaxTotal || '0.00',\n    totalTax: invoice.taxTotal || '0.00',\n    totalWithoutTax: invoice.exTaxTotal || '0.00',\n    totalDiscount: invoice._discountTotal || '0.00',\n    amountDue: currencySymbol\n      ? addSuffix(invoice.amountRemaining || '0.00', currencySymbol)\n      : '0.00',\n    currency: invoice.currency,\n    invoicingAddress: invoice.addressStr,\n    deliveryAddress: invoice.addressStr,\n    status: getStatus(invoice.statusSelect),\n    lines: getPurchaseLines(invoice.invoiceLineList, currencySymbol),\n    paymentLines: getPaymentLines(invoice.invoicePaymentList),\n    orders: invoice.orders,\n  };\n\n  if (Number(invoice.amountRemaining) === 0) {\n    invoiceEntity.status.push('PAID');\n  } else if (Number(invoice.amountRemaining) < Number(invoice.inTaxTotal)) {\n    invoiceEntity.status.push('PARTIALLY PAID');\n  }\n  return invoiceEntity;\n\n  function getStatus(status) {\n    switch (status) {\n      case 1:\n        return ['DRAFT'];\n      case 2:\n        return ['VALIDATED'];\n      case 3:\n        return ['VENTILATED'];\n      case 4:\n        return ['CANCELLED'];\n      case 5:\n      default:\n        return [];\n    }\n  }\n\n  function getPaymentLines(paymentLines = []) {\n    return paymentLines.map((line) => {\n      return {\n        date: handleFormatDate(line.paymentDate),\n        amount: currencySymbol\n          ? addSuffix(toFixed(line.amount), currencySymbol)\n          : toFixed(line.amount),\n      };\n    });\n  }\n}\n\nfunction handleInvoiceInformation(invoice) {\n  return mapCurrencySymbol(mapInvoice(invoice));\n}\n\nfunction handleEmptyDataResponse(res) {\n  if (!res.data) {\n    res.data = [];\n  }\n  return res;\n}\n\nfunction handlePaginationTypeDataResponse() {\n  return {\n    data: [],\n    total: 0,\n  };\n}\n\nfunction handleReturnDataFromResponse(res) {\n  return res && res.data;\n}\n\nfunction handleTransformDataResponse(res, transform) {\n  if (res.data) {\n    res.data = transform(res.data);\n  }\n  return res;\n}\n\nfunction handleTransformQuotationsInformation(res) {\n  const transform = (quotations) => quotations.map(handleQuotationInformation);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction handleTransformOrdersInformation(res) {\n  const transform = (orders) => orders.map(handleOrderInformation);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction handleTransformInvoicesInformation(res) {\n  const transform = (invoices) => invoices.map(handleInvoiceInformation);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction fetchOrders(query) {\n  let URL = '/ws/portal/orders';\n\n  if (query) {\n    URL = URL + '?' + getQueryString(query);\n  }\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleEmptyDataResponse)\n    .then(handleTransformOrdersInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchOrder(orderId) {\n  const URL = `/ws/portal/orders/${orderId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(handleOrderInformation);\n}\n\nfunction fetchQuotations(query) {\n  let URL = '/ws/portal/quotations';\n\n  if (query) {\n    URL = URL + '?' + getQueryString(query);\n  }\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleEmptyDataResponse)\n    .then(handleTransformQuotationsInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchQuotation(quotationId) {\n  const URL = `/ws/portal/quotations/${quotationId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(handleQuotationInformation);\n}\n\nfunction downloadPDF(URL, fileName = 'File.pdf') {\n  return RestService.get(\n    URL,\n    {\n      'Content-Type': 'application/octect',\n    },\n    { responseType: 'blob' }\n  ).then((blob) => {\n    const url = window.URL.createObjectURL(new Blob([blob]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', fileName);\n    link.click();\n  });\n}\n\nfunction downloadOrderPDF(orderId, fileName = 'Order.pdf') {\n  const URL = `/ws/portal/orders/print/${orderId}`;\n  return downloadPDF(URL, fileName);\n}\n\nfunction downloadQuotationPDF(quotationId, fileName = 'Quotation.pdf') {\n  const URL = `/ws/portal/quotations/print/${quotationId}`;\n  return downloadPDF(URL, fileName);\n}\n\nfunction fetchInvoices(query) {\n  let URL = '/ws/portal/invoices';\n\n  if (query) {\n    URL = URL + '?' + getQueryString(query);\n  }\n\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleEmptyDataResponse)\n    .then(handleTransformInvoicesInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchInvoice(invoiceId) {\n  const URL = `/ws/portal/invoices/${invoiceId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(handleInvoiceInformation);\n}\n\nfunction downloadInvoicePDF(invoiceId, fileName = 'Invoice.pdf') {\n  const URL = `/ws/portal/invoices/print/${invoiceId}`;\n  return downloadPDF(URL, fileName);\n}\n\nfunction fetchTranslations(data) {\n  const URL = '/ws/portal/translate';\n  return RestService.post(URL, data)\n    .then((result) => {\n      if (!(result && result.status === 0)) {\n        result.data = [];\n      }\n\n      const transform = (arr) =>\n        arr.reduce((acc, value) => {\n          acc[value.key] = value.message;\n          return acc;\n        }, {});\n\n      const { data } = result;\n\n      return Array.isArray(data) ? transform(data) : {};\n    })\n    .catch(() => {\n      return {};\n    });\n}\n\nfunction fetchConfiguration() {\n  return RestService.get(`/ws/portal/config`)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then((config) => {\n      return {\n        isQuotationRequestActive: true, //config.isQuotationRequestActive,\n      };\n    })\n    .catch(() => ({ isQuotationRequestActive: false }));\n}\n\nfunction fetchInfo() {\n  return RestService.checkInfo();\n}\n\nfunction confirmOrder(orderId) {\n  return RestService.post(`/ws/portal/orders/${orderId}/confirm`).then(\n    handleResponse\n  );\n}\n\nfunction cancelOrder(orderId) {\n  return RestService.post(`/ws/portal/orders/${orderId}/cancel`).then(\n    handleResponse\n  );\n}\n\nexport default {\n  fetchQuotations,\n  fetchQuotation,\n  fetchOrders,\n  fetchOrder,\n  confirmOrder,\n  cancelOrder,\n  downloadQuotationPDF,\n  downloadOrderPDF,\n  downloadInvoicePDF,\n  fetchInvoices,\n  fetchInvoice,\n  fetchTranslations,\n  fetchConfiguration,\n  fetchInfo,\n};\n","import React from 'react';\nimport i18next from 'i18next';\nimport {\n  initReactI18next,\n  I18nextProvider,\n  useTranslation as i18nextUseTranslation,\n} from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\n\nimport en from '../assests/locales/en/translations.json';\nimport fr from '../assests/locales/fr/translations.json';\nimport PurchaseAPI from '../PurchaseAPI';\n\nconst translations = {\n  en,\n  fr,\n};\n\nconst i18n = i18next.createInstance();\nconst lng = navigator.language.includes('fr') ? 'fr' : 'en';\n\ni18n\n  .use(initReactI18next)\n  .use(Backend)\n  .use(LanguageDetector)\n  .init({\n    lng,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false,\n    },\n    backend: {\n      request: (options, url, payload, callback) => {\n        const getLanguageFromURL = (url) => {\n          const regexURL = /\\/locales\\/(?<lang>\\w+)\\/translation.json/gm;\n          return regexURL.exec(url).groups.lang || 'en';\n        };\n\n        const lang = getLanguageFromURL(url);\n\n        PurchaseAPI.fetchTranslations({\n          keys: Object.keys(translations[lang]),\n          lang,\n        }).then((result) => {\n          const defaultTranslations = translations[lang];\n\n          const removeEmptyTranslation = (obj = {}) =>\n            Object.keys(obj).reduce((acc, key) => {\n              const value = obj[key];\n              if (value) {\n                acc[key] = value;\n              }\n              return acc;\n            }, {});\n\n          const data = JSON.stringify(\n            Object.assign(\n              {},\n              defaultTranslations,\n              removeEmptyTranslation(result)\n            )\n          );\n\n          callback(null, {\n            status: true,\n            data,\n          });\n        });\n      },\n    },\n    keySeparator: false,\n  });\n\nfunction TranslationProvider({ children }) {\n  return <I18nextProvider i18n={i18n}>{children}</I18nextProvider>;\n}\n\nexport default TranslationProvider;\n\nexport const useTranslation = i18nextUseTranslation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useTagStyles = makeStyles(() => ({\n  tag: {\n    display: 'inline-flex',\n    color: (props) => props.color,\n    borderRadius: 20,\n    fontSize: '0.875rem',\n    lineHeight: '1.25rem',\n    fontWeight: 'bold',\n    padding: '0 12px',\n    height: '32px',\n    alignItems: 'center',\n    backgroundColor: (props) => props.background,\n    textTransform: 'uppercase',\n  },\n}));\n\nfunction Tag(props) {\n  const { label, background, color, className } = props;\n  const classes = useTagStyles({ background, color });\n\n  return <div className={clsx(classes.tag, className)}>{label}</div>;\n}\n\nconst styles = {\n  DRAFT: {\n    label: 'Pro forma',\n    color: '#813F0B',\n    backgroundColor: '#F79862',\n  },\n  FINALIZED: {\n    label: 'Finalized',\n    color: '#7D3B9B',\n    backgroundColor: 'rgba(125,59,155,0.39)',\n  },\n  ORDERED: {\n    label: 'Ordered',\n    color: '#2187D4',\n    backgroundColor: 'rgba(33,135,212,0.39)',\n  },\n  INVOICED: {\n    label: 'Invoiced',\n    color: '#7D3B9B',\n    backgroundColor: 'rgba(125,59,155,0.39)',\n  },\n  DELIVERED: {\n    label: 'Delivered',\n    color: '#86BC25',\n    backgroundColor: 'rgba(134,188,37,0.39)',\n  },\n  'TO DELIVER': {\n    label: 'To deliver',\n    color: '#813F0B',\n    backgroundColor: '#F79862',\n  },\n  'PARTIALLY INVOICED': {\n    label: 'Partially invoiced',\n    color: '#E4AA3A',\n    backgroundColor: 'rgba(228,170,58,0.39)',\n  },\n  'PARTIALLY DELIVERED': {\n    label: 'Partially delivered',\n    color: '#813F0B',\n    backgroundColor: '#F79862',\n  },\n  CLOSED: {\n    label: 'Closed',\n    color: '#B4443C',\n    backgroundColor: 'rgba(180,68,60,0.39)',\n  },\n  CANCELLED: {\n    label: 'Cancelled',\n    color: '#B4443C',\n    backgroundColor: 'rgba(180,68,60,0.39)',\n  },\n  VALIDATED: {\n    label: 'Validated',\n    color: '#86BC25',\n    backgroundColor: 'rgba(134,188,37,0.39)',\n  },\n  'PARTIALLY PAID': {\n    label: 'Partially paid',\n    color: '#E4AA3A',\n    backgroundColor: 'rgba(228,170,58,0.39)',\n  },\n  PAID: {\n    label: 'Paid',\n    color: '#7D3B9B',\n    backgroundColor: 'rgba(125,59,155,0.39)',\n  },\n  'PARTIALLY REIMBURSED': {\n    label: 'Partially reimbursed',\n    color: '#E4AA3A',\n    backgroundColor: 'rgba(228,170,58,0.39)',\n  },\n  REIMBURSED: {\n    label: 'Reimbursed',\n    color: '#7D3B9B',\n    backgroundColor: 'rgba(125,59,155,0.39)',\n  },\n  PENDING: {\n    label: 'Pending',\n    color: '#E4AA3A',\n    backgroundColor: 'rgba(228,170,58,0.39)',\n  },\n  ACCEPTED: {\n    label: 'Accepted',\n    color: '#86BC25',\n    backgroundColor: 'rgba(134,188,37,0.39)',\n  },\n  PROCESSED: {\n    label: 'Processed',\n    color: '#86BC25',\n    backgroundColor: 'rgba(134,188,37,0.39)',\n  },\n  VENTILATED: {\n    label: 'Ventilated',\n    color: '#86BC25',\n    backgroundColor: 'rgba(134,188,37,0.39)',\n  },\n};\n\nfunction StatusTag(props) {\n  const { value, ...rest } = props;\n\n  const { t } = useTranslation();\n\n  return (\n    <Tag\n      color={styles[value].color}\n      background={styles[value].backgroundColor}\n      label={t(styles[value].label)}\n      {...rest}\n    />\n  );\n}\n\nStatusTag.propTypes = {\n  value: PropTypes.string.isRequired,\n};\n\nexport default StatusTag;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport StatusTag from './StatusTag';\n\nconst useStyles = makeStyles((theme) => ({\n  dense: {\n    fontSize: '0.775rem',\n    height: 24,\n  },\n  tag: {\n    marginRight: theme.spacing(0.5),\n  },\n}));\n\nfunction PurchaseStatus(props) {\n  const { status, className, variant, ...rest } = props;\n  const dense = variant === 'dense';\n\n  const classes = useStyles();\n\n  return status && status.length\n    ? status.map((value) => (\n        <StatusTag\n          key={value}\n          value={value}\n          className={clsx({ [classes.dense]: dense }, classes.tag, className)}\n          {...rest}\n        />\n      ))\n    : null;\n}\n\nPurchaseStatus.defaultProps = {\n  status: [],\n};\n\nexport default PurchaseStatus;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  divider: {\n    borderColor: theme.palette.secondary.main,\n  },\n}));\n\nfunction Divider(props) {\n  const { className, ...rest } = props;\n\n  const classes = useStyles();\n  return <hr className={clsx(classes.divider, className)} {...rest} />;\n}\n\nexport default Divider;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Divider from './Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    display: 'flex',\n    marginBottom: theme.spacing(0.5),\n    justifyContent: 'space-between',\n  },\n}));\n\nfunction PriceSummary(props) {\n  const {\n    total,\n    totalLabel,\n    totalWithoutTax,\n    totalWithoutTaxLabel,\n    totalTax,\n    totalTaxLabel,\n    totalDiscount,\n    totalDiscountLabel,\n    divider,\n    className,\n  } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={className}>\n      {divider && <Divider />}\n      <div className={classes.row}>\n        <Typography>{totalWithoutTaxLabel}</Typography>\n        <Typography>{totalWithoutTax}</Typography>\n      </div>\n      <div className={classes.row}>\n        <Typography>{totalDiscountLabel}</Typography>\n        <Typography>{totalDiscount}</Typography>\n      </div>\n      <div className={classes.row}>\n        <Typography>{totalTaxLabel}</Typography>\n        <Typography>{totalTax}</Typography>\n      </div>\n      {divider && <Divider />}\n      <div className={classes.row}>\n        <Typography>\n          <b>{totalLabel}</b>\n        </Typography>\n        <Typography>\n          <b>{total}</b>\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\nPriceSummary.defaultProps = {\n  divider: true,\n  total: '0.00',\n  totalTax: '0.00',\n  totalWithoutTax: '0.00',\n  totalDiscount: '0.00',\n  totalLabel: 'Total',\n  totalTaxLabel: 'Total Tax',\n  totalWithoutTaxLabel: 'Total Without Tax',\n  totalDiscountLabel: 'Total Discount',\n};\n\nexport default PriceSummary;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    display: 'flex',\n    marginBottom: theme.spacing(0.5),\n    justifyContent: 'space-between',\n  },\n}));\n\nfunction PaymentSummary(props) {\n  const { payments, paymentsLabel, amountDue, amountDueLabel } = props;\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <div className={classes.row}>\n        <Typography>{paymentsLabel}</Typography>\n        <div align=\"right\">\n          {payments.map((payment, index) => (\n            <React.Fragment key={index}>\n              <Typography>{payment.amount}</Typography>\n              <Typography>({payment.date})</Typography>\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n      <div className={classes.row}>\n        <Typography>\n          <b>{amountDueLabel}</b>\n        </Typography>\n        <Typography>\n          <b>{amountDue}</b>\n        </Typography>\n      </div>\n    </>\n  );\n}\n\nPaymentSummary.defaultProps = {\n  payments: [],\n  amountDue: '0.00',\n  paymentsLabel: 'Payments',\n  amountDueLabel: 'Remaining Balance',\n};\n\nexport default PaymentSummary;\n","import React from 'react';\nimport clsx from 'clsx';\nimport MuiTableCell from '@material-ui/core/TableCell';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useTableCellStyles = makeStyles((theme) => ({\n  root: {\n    fontSize: '1rem',\n    borderBottom: 'none',\n    padding: theme.spacing(1),\n  },\n  head: {\n    fontSize: '0.875rem',\n    backgroundColor: theme.palette.secondary.light,\n    color: theme.palette.secondary.main,\n  },\n}));\n\nexport const TableCell = React.forwardRef((props, ref) => {\n  const {\n    classes: { head: headClassesProp, root: rootClassesProp, ...classesProp },\n    ...rest\n  } = props;\n\n  const classes = useTableCellStyles();\n\n  return (\n    <MuiTableCell\n      classes={{\n        root: clsx(classes.root, rootClassesProp),\n        head: clsx(classes.head, headClassesProp),\n        ...classesProp,\n      }}\n      {...rest}\n      ref={ref}\n    />\n  );\n});\n\nTableCell.defaultProps = {\n  classes: {},\n};\n\nexport { Table, TableBody, TableHead, TableRow } from '@material-ui/core';\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkIcon from '@material-ui/icons/Link';\nimport PrintIcon from '@material-ui/icons/Print';\n\nimport PurchaseStatus from './PurchaseStatus';\nimport PriceSummary from './PriceSummary';\nimport PaymentSummary from './PaymentSummary';\nimport Divider from './Divider';\nimport Paper from './Paper';\nimport { Table, TableCell, TableBody, TableHead, TableRow } from './Table';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst usePurchaseHeaderStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n  titleWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  title: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nfunction PurchaseHeader(props) {\n  const { onPrint, type, sequence, status } = props;\n\n  const { t } = useTranslation();\n  const classes = usePurchaseHeaderStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.titleWrapper}>\n        <Typography className={classes.title} variant=\"h5\">\n          <b>{`${t(type)} ${t(sequence)}`}</b>\n        </Typography>\n        &nbsp;\n        <div>\n          <PurchaseStatus status={status} />\n        </div>\n      </div>\n      <div>\n        <Hidden smDown>\n          <Button onClick={onPrint} startIcon={<PrintIcon />}>\n            {t('Download')}\n          </Button>\n        </Hidden>\n      </div>\n    </div>\n  );\n}\n\nPurchaseHeader.defaultProps = {\n  type: '',\n  sequence: '',\n  onPrint: () => {},\n  status: [],\n};\n\nfunction PurchaseAddress(props) {\n  const { invoicingAddress, deliveryAddress } = props;\n\n  const { t } = useTranslation();\n  return (\n    <>\n      <Typography variant=\"body2\" color=\"textSecondary\">\n        {t('Invoicing address')}\n      </Typography>\n      <Typography gutterBottom>{invoicingAddress}</Typography>\n\n      <Typography variant=\"body2\" color=\"textSecondary\">\n        {t('Delivery address')}\n      </Typography>\n      <Typography gutterBottom>{deliveryAddress}</Typography>\n    </>\n  );\n}\n\nPurchaseAddress.defaultProps = {\n  invoicingAddress: '',\n  deliveryAddress: '',\n};\n\nfunction PurchaseDetail(props) {\n  const { date } = props;\n  const { t } = useTranslation();\n  return (\n    <>\n      <Typography variant=\"body2\" color=\"textSecondary\">\n        {t('Date')}\n      </Typography>\n      <Typography gutterBottom>{date}</Typography>\n    </>\n  );\n}\n\nPurchaseDetail.defaultProps = {\n  date: '',\n};\n\nconst usePurchaseLinesStyles = makeStyles((theme) => ({\n  divider: {\n    borderColor: theme.palette.secondary.light,\n  },\n}));\n\nfunction PurchaseLines(props) {\n  const { lines } = props;\n\n  const classes = usePurchaseLinesStyles();\n  const { t } = useTranslation();\n  return (\n    <>\n      <Hidden smDown>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t('Product name')}</TableCell>\n              <TableCell>{t('Quantity')}</TableCell>\n              <TableCell>{t('Unit price')}</TableCell>\n              <TableCell>{t('Vat')}</TableCell>\n              <TableCell>{t('Discount')}</TableCell>\n              <TableCell align=\"right\">{t('Sub total')}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lines.map((line) => (\n              <TableRow key={line.id}>\n                <TableCell>{line.name}</TableCell>\n                <TableCell>{line.qty}</TableCell>\n                <TableCell>{line.unitPrice}</TableCell>\n                <TableCell>{line.vat}</TableCell>\n                <TableCell>{line.discount}</TableCell>\n                <TableCell align=\"right\">{line.total}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </Hidden>\n      <Hidden mdUp>\n        {lines.map((line) => (\n          <Grid spacing={1} key={line.id} container>\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs={6}>\n                  <Typography>{line.name}</Typography>\n                </Grid>\n                <Grid item xs={6} align=\"right\">\n                  <Typography>\n                    <b>{line.total}</b>\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"body2\">\n                {line.qty} x {line.unitPrice}\n              </Typography>\n              <Typography variant=\"body2\">\n                {t('Discount')}&nbsp;:&nbsp;{line.discount}\n              </Typography>\n              <Typography variant=\"body2\">\n                {t('Vat')}&nbsp;:&nbsp;{line.vat}\n              </Typography>\n              <Divider className={classes.divider} />\n            </Grid>\n          </Grid>\n        ))}\n      </Hidden>\n    </>\n  );\n}\n\nPurchaseLines.defaultProps = {\n  lines: [],\n};\n\nfunction PurchaseSummary(props) {\n  const {\n    total,\n    totalTax,\n    totalWithoutTax,\n    totalDiscount,\n    payments,\n    amountDue,\n  } = props;\n\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <PriceSummary\n        total={total}\n        totalTax={totalTax}\n        totalWithoutTax={totalWithoutTax}\n        totalDiscount={totalDiscount}\n        payments={payments}\n        amountDue={amountDue}\n        totalLabel={t('Total')}\n        totalTaxLabel={t('Total tax')}\n        totalWithoutTaxLabel={t('Total without tax')}\n        totalDiscountLabel={t('Total discount')}\n      />\n      {payments && payments.length ? (\n        <PaymentSummary\n          payments={payments}\n          paymentsLabel={t('Payments')}\n          amountDue={amountDue}\n          amountDueLabel={t('Amount due')}\n        />\n      ) : null}\n    </>\n  );\n}\n\nPurchaseSummary.defaultProps = {\n  total: '0.00',\n  totalTax: '0.00',\n  totalWithoutTax: '0.00',\n};\n\nconst usePurchaseLinkedItemsStyles = makeStyles((theme) => ({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n  },\n  icon: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nfunction PurchaseLinkedItems(props) {\n  const { links } = props;\n\n  const classes = usePurchaseLinkedItemsStyles();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <Typography variant=\"h5\" gutterBottom>\n        <b>{t('Linked elements')}</b>\n      </Typography>\n      {links.map((link, i) => {\n        const { label, onClick = () => {} } = link;\n        return (\n          <div className={classes.container} key={i} onClick={onClick}>\n            <LinkIcon className={classes.icon} />\n            <Typography>&nbsp;{label}</Typography>\n          </div>\n        );\n      })}\n    </>\n  );\n}\n\nPurchaseLinkedItems.defaultProps = {\n  links: [],\n};\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction PurchaseView(props) {\n  const { purchase, purchaseAction, onPrint } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <PurchaseHeader\n            type={purchase.type}\n            sequence={purchase.sequence}\n            status={purchase.status}\n            onPrint={onPrint}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <PurchaseAddress\n            invoicingAddress={purchase.invoicingAddress}\n            deliveryAddress={purchase.deliveryAddress}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <PurchaseDetail date={purchase.date} />\n        </Grid>\n        <Grid item xs={12}>\n          <PurchaseLines lines={purchase.lines} />\n        </Grid>\n        <Grid item xs={12} md={8}>\n          {purchase.links && purchase.links.length ? (\n            <Hidden smDown>\n              <PurchaseLinkedItems links={purchase.links} />\n            </Hidden>\n          ) : null}\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <PurchaseSummary\n            total={purchase.total}\n            totalTax={purchase.totalTax}\n            totalWithoutTax={purchase.totalWithoutTax}\n            totalDiscount={purchase.totalDiscount}\n            payments={purchase.paymentLines}\n            amountDue={purchase.amountDue}\n          />\n          {purchaseAction}\n        </Grid>\n        {purchase.links && purchase.links.length ? (\n          <Grid item xs={12}>\n            <Hidden mdUp>\n              <PurchaseLinkedItems links={purchase.links} />\n            </Hidden>\n          </Grid>\n        ) : null}\n      </Grid>\n    </Paper>\n  );\n}\n\nPurchaseView.defaultProps = {\n  purchase: {},\n};\n\nexport default PurchaseView;\n","import React from 'react';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nconst useBackButtonStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nfunction BackButton(props) {\n  const { onClick, size, className } = props;\n\n  const classes = useBackButtonStyles();\n\n  return (\n    <IconButton\n      size={size}\n      onClick={onClick}\n      className={clsx(classes.root, className)}\n    >\n      <BackIcon />\n    </IconButton>\n  );\n}\n\nBackButton.defaultProps = { onClick: () => {}, size: 'medium' };\n\nexport default BackButton;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport PrintIcon from '@material-ui/icons/Print';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport Loader from '../components/Loader';\nimport PurchaseView from '../components/PurchaseView';\nimport BackButton from '../components/BackButton';\nimport Paper from '../components/Paper';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useOrderViewStyles = makeStyles((theme) => ({\n  action: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  container: {\n    marginTop: theme.spacing(),\n  },\n  loader: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  spacer: { flexGrow: 1 },\n}));\n\nfunction OrderViewContainer(props) {\n  const {\n    match,\n    history,\n    location,\n    redirectToOrderList,\n    redirectToInvoiceView,\n  } = props;\n  const { params } = match;\n  const { orderId } = params;\n\n  if (!orderId) {\n    redirectToOrderList();\n  }\n\n  const [{ order, loading }, setStore] = React.useState({\n    order: {},\n    loading: true,\n  });\n\n  const { t } = useTranslation();\n  const classes = useOrderViewStyles();\n\n  const handleBack = () => {\n    const fromUrl = location.state && location.state.fromUrl;\n    if (fromUrl) {\n      history.push({ pathname: fromUrl, state: location.state.fromState });\n    } else {\n      redirectToOrderList();\n    }\n  };\n\n  React.useEffect(() => {\n    function fetchOrder() {\n      PurchaseAPI.fetchOrder(orderId)\n        .then((order) => {\n          setStore({\n            loading: false,\n            order,\n          });\n        })\n        .catch(redirectToOrderList);\n    }\n\n    fetchOrder();\n  }, [orderId, redirectToOrderList]);\n\n  const handlePrint = React.useCallback(() => {\n    const fileName = `Order-${order.sequence || order.id}.pdf`;\n    PurchaseAPI.downloadOrderPDF(order.id, fileName);\n  }, [order]);\n\n  if (loading) {\n    return <Loader className={classes.loader} />;\n  }\n\n  order.links = order.invoices\n    ? order.invoices.map((invoice) => ({\n        label: `${t('Invoice')} ${invoice.sequence}`,\n        onClick: () =>\n          redirectToInvoiceView(invoice.id, {\n            fromUrl: match.url,\n            fromState: location.state,\n          }),\n      }))\n    : [];\n\n  return (\n    <>\n      <Paper className={classes.action}>\n        <BackButton onClick={handleBack} />\n        <div className={classes.spacer} />\n        <Hidden mdUp>\n          <IconButton onClick={handlePrint}>\n            <PrintIcon />\n          </IconButton>\n        </Hidden>\n      </Paper>\n      <PurchaseView purchase={order} onPrint={handlePrint} />\n    </>\n  );\n}\n\nOrderViewContainer.defaultProps = {\n  redirectToInvoiceView: () => {},\n};\n\nexport default OrderViewContainer;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from './Paper';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: 80,\n    padding: theme.spacing(2),\n  },\n}));\n\nfunction PurchaseCard(props) {\n  const { sequence, date, total, onClick } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper} onClick={onClick}>\n      <Grid container>\n        <Grid item xs={8}>\n          <Typography variant=\"h6\">{sequence}</Typography>\n          <Typography>{date}</Typography>\n        </Grid>\n        <Grid item xs={4} zeroMinWidth>\n          <Typography variant=\"h6\" title={total} noWrap>\n            {total}\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n\nPurchaseCard.defaultProps = {\n  onClick: () => {},\n};\n\nexport default PurchaseCard;\n","import React from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NextIcon from '@material-ui/icons/ChevronRight';\nimport PreviousIcon from '@material-ui/icons/ChevronLeft';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(0.5),\n    display: 'flex',\n    width: 'fit-content',\n    alignItems: 'center',\n  },\n}));\n\nfunction Pagination(props) {\n  const { onNext, onPrevious, label, disableNext, disablePrevious } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.paper}>\n      &nbsp;&nbsp;\n      <Typography>{label}</Typography>\n      &nbsp;&nbsp;\n      <IconButton size=\"small\" onClick={onPrevious} disabled={disablePrevious}>\n        <PreviousIcon />\n      </IconButton>\n      &nbsp;&nbsp;\n      <IconButton size=\"small\" onClick={onNext} disabled={disableNext}>\n        <NextIcon />\n      </IconButton>\n      &nbsp;&nbsp;\n    </div>\n  );\n}\n\nexport default Pagination;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Loader from './Loader';\nimport PurchaseCard from './PurchaseCard';\nimport { Table, TableHead, TableBody, TableRow, TableCell } from './Table';\nimport { useTranslation } from '../providers/TranslationProvider';\nimport Pagination from './Pagination';\n\nconst StyledTableCell = withStyles(() => ({\n  root: {\n    fontSize: '0.850rem',\n  },\n  head: {\n    fontSize: '0.860rem',\n  },\n}))(TableCell);\n\nconst usePurchaseListStyles = makeStyles((theme) => ({\n  pagination: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginTop: theme.spacing(1),\n  },\n\n  tableRow: {\n    cursor: 'pointer',\n    '&:nth-of-type(odd)': {\n      backgroundColor: `${theme.palette.secondary.main}09`,\n    },\n  },\n}));\n\nfunction PurchaseList(props) {\n  const {\n    columns,\n    purchases,\n    totalPurchases,\n    page,\n    limit,\n    loading,\n    onClick,\n    onNext,\n    onPrevious,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = usePurchaseListStyles();\n\n  return (\n    <>\n      <Hidden xsDown>\n        <Table>\n          <TableHead>\n            <TableRow>\n              {columns.map((column, i) => {\n                const isLastColumn = i === columns.length - 1;\n                return (\n                  <StyledTableCell\n                    key={column.label}\n                    align={isLastColumn ? 'right' : 'left'}\n                  >\n                    {column.label}\n                  </StyledTableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchases && purchases.length\n              ? purchases.map((purchase) => (\n                  <TableRow\n                    hover\n                    key={purchase.id}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      onClick(purchase.id);\n                    }}\n                    classes={{ root: classes.tableRow }}\n                  >\n                    {columns.map((column, i) => {\n                      const isLastColumn = i === columns.length - 1;\n                      return (\n                        <StyledTableCell\n                          key={column.label}\n                          align={isLastColumn ? 'right' : 'left'}\n                        >\n                          {column.render\n                            ? column.render(purchase[column.name])\n                            : purchase[column.name]}\n                        </StyledTableCell>\n                      );\n                    })}\n                  </TableRow>\n                ))\n              : !loading && (\n                  <TableRow>\n                    <TableCell colSpan={columns.length}>\n                      {t('No record found')}\n                    </TableCell>\n                  </TableRow>\n                )}\n          </TableBody>\n        </Table>\n      </Hidden>\n      <Hidden smUp>\n        <Grid container spacing={2}>\n          {purchases.map((purchase) => (\n            <Grid item xs={12} key={purchase.id}>\n              <PurchaseCard\n                onClick={() => onClick(purchase.id)}\n                sequence={purchase.sequence}\n                total={purchase.total}\n                date={purchase.date}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      </Hidden>\n      {loading ? <Loader className={classes.loader} /> : null}\n      <div className={classes.pagination}>\n        <Pagination\n          label={`${totalPurchases ? page * limit + 1 : 0} to ${\n            Math.min(page * limit + limit, totalPurchases) || 0\n          } of ${totalPurchases}`}\n          onNext={onNext}\n          onPrevious={onPrevious}\n          disablePrevious={page === 0}\n          disableNext={(page + 1) * limit >= totalPurchases}\n        />\n      </div>\n    </>\n  );\n}\n\nPurchaseList.defaultProps = {\n  columns: [],\n  purchases: [],\n  totalPurchases: 0,\n  page: 0,\n  limit: 0,\n  loading: false,\n  onClick: () => {},\n  onNext: () => {},\n  onPrevious: () => {},\n};\n\nexport default PurchaseList;\n","import React from 'react';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport PurchaseList from '../components/PurchaseList';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction getOrderColumn(t) {\n  return [\n    {\n      label: t('Date'),\n      name: 'date',\n    },\n    {\n      label: t('Sequence'),\n      name: 'sequence',\n    },\n    {\n      label: t('Total without tax'),\n      name: 'totalWithoutTax',\n    },\n    {\n      label: t('Total tax'),\n      name: 'totalTax',\n    },\n    {\n      label: t('Discount'),\n      name: 'totalDiscount',\n    },\n    {\n      label: t('Total'),\n      name: 'total',\n    },\n  ];\n}\n\nconst limit = 25;\n\nfunction OrderListContainer(props) {\n  const { redirectToOrderView, redirectToOrderList, match } = props;\n  const { params, url } = match;\n  const page = Number(params && params.page) || 0;\n\n  const { t } = useTranslation();\n\n  const [{ orders, totalOrders, loading }, setStore] = React.useState({\n    orders: [],\n    totalOrders: 0,\n    loading: true,\n  });\n\n  const columns = React.useMemo(() => getOrderColumn(t), [t]);\n\n  const fetchOrders = React.useCallback(() => {\n    PurchaseAPI.fetchOrders({\n      limit,\n      page: page + 1,\n      sort: '-id',\n    })\n      .then(({ data, total, offset }) => {\n        if (offset > total) {\n          redirectToOrderList();\n        } else {\n          setStore({\n            loading: false,\n            orders: data,\n            totalOrders: total,\n          });\n        }\n      })\n      .catch(() => {\n        setStore((store) => ({ ...store, loading: false }));\n      });\n  }, [redirectToOrderList, page]);\n\n  React.useEffect(() => {\n    fetchOrders();\n  }, [fetchOrders]);\n\n  const handleNext = React.useCallback(() => {\n    redirectToOrderList(page + 1);\n  }, [page, redirectToOrderList]);\n\n  const handlePrevious = React.useCallback(() => {\n    redirectToOrderList(page - 1);\n  }, [page, redirectToOrderList]);\n\n  const handleOrderClick = React.useCallback(\n    (orderId) => {\n      redirectToOrderView(orderId, { fromUrl: url });\n    },\n    [redirectToOrderView, url]\n  );\n\n  return (\n    <PurchaseList\n      columns={columns}\n      purchases={orders}\n      totalPurchases={totalOrders}\n      page={page}\n      loading={loading}\n      limit={limit}\n      onNext={handleNext}\n      onPrevious={handlePrevious}\n      onClick={handleOrderClick}\n    />\n  );\n}\n\nexport default OrderListContainer;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport OrderViewContainer from '../containers/OrderView';\nimport OrderListContainer from '../containers/OrderList';\n\nfunction Order(props) {\n  const { match, history, redirectToInvoiceView } = props;\n  const { path, url } = match;\n\n  const orderListPath = path + '/list/:page?';\n  const orderViewPath = path + '/view/:orderId';\n  const orderListUrl = url + '/list';\n  const orderViewUrl = url + '/view';\n\n  const redirectToOrderView = (orderId, state) => {\n    history.push({ pathname: orderViewUrl + `/${orderId}`, state });\n  };\n\n  const redirectToOrderList = (page) => {\n    history.push(page ? orderListUrl + `/${page}` : orderListUrl);\n  };\n\n  return (\n    <Switch>\n      <Route\n        path={orderViewPath}\n        render={(props) => (\n          <OrderViewContainer\n            {...props}\n            redirectToOrderList={redirectToOrderList}\n            redirectToInvoiceView={redirectToInvoiceView}\n          />\n        )}\n      />\n      <Route\n        path={orderListPath}\n        render={(props) => (\n          <OrderListContainer\n            {...props}\n            redirectToOrderList={redirectToOrderList}\n            redirectToOrderView={redirectToOrderView}\n          />\n        )}\n      />\n      <Redirect to={{ pathname: orderListPath }} />\n    </Switch>\n  );\n}\n\nOrder.defaultProps = {\n  redirectToInvoiceView: () => {},\n};\n\nexport default Order;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport PrintIcon from '@material-ui/icons/Print';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport Loader from '../components/Loader';\nimport PurchaseView from '../components/PurchaseView';\nimport BackButton from '../components/BackButton';\nimport Paper from '../components/Paper';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useInvoiceViewStyles = makeStyles((theme) => ({\n  action: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  container: {\n    marginTop: theme.spacing(1),\n  },\n  loader: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  spacer: { flexGrow: 1 },\n}));\n\nfunction InvoiceViewContainer(props) {\n  const {\n    history,\n    location,\n    match,\n    redirectToInvoiceList,\n    redirectToOrderView,\n  } = props;\n  const { params } = match;\n  const { invoiceId } = params;\n\n  if (!invoiceId) {\n    redirectToInvoiceList();\n  }\n\n  const [{ invoice, loading }, setStore] = React.useState({\n    invoice: {},\n    loading: true,\n  });\n\n  const { t } = useTranslation();\n  const classes = useInvoiceViewStyles();\n\n  const handleBack = () => {\n    const fromUrl = location.state && location.state.fromUrl;\n    if (fromUrl) {\n      history.push({ pathname: fromUrl, state: location.state.fromState });\n    } else {\n      redirectToInvoiceList();\n    }\n  };\n\n  React.useEffect(() => {\n    function fetchInvoice() {\n      PurchaseAPI.fetchInvoice(invoiceId)\n        .then((invoice) => {\n          setStore({\n            invoice,\n            loading: false,\n          });\n        })\n        .catch(redirectToInvoiceList);\n    }\n\n    fetchInvoice();\n  }, [invoiceId, redirectToInvoiceList]);\n\n  const handlePrint = React.useCallback(() => {\n    const fileName = `Invoice-${invoice.sequence || invoice.id}.pdf`;\n    PurchaseAPI.downloadInvoicePDF(invoice.id, fileName);\n  }, [invoice]);\n\n  if (loading) {\n    return <Loader className={classes.loader} />;\n  }\n\n  invoice.links = invoice.orders\n    ? invoice.orders.map((order) => ({\n        label: `${t('Order')} ${order.sequence}`,\n        onClick: () =>\n          redirectToOrderView(order.id, {\n            fromUrl: match.url,\n            fromState: location.state,\n          }),\n      }))\n    : [];\n\n  return (\n    <>\n      <Paper className={classes.action}>\n        <BackButton onClick={handleBack} />\n        <div className={classes.spacer} />\n        <Hidden mdUp>\n          <IconButton onClick={handlePrint}>\n            <PrintIcon />\n          </IconButton>\n        </Hidden>\n      </Paper>\n      <PurchaseView purchase={invoice} onPrint={handlePrint} />\n    </>\n  );\n}\n\nInvoiceViewContainer.defaultProps = {\n  redirectToOrderView: () => {},\n};\n\nexport default InvoiceViewContainer;\n","import React from 'react';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport PurchaseList from '../components/PurchaseList';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction getInvoiceColumn(t) {\n  return [\n    {\n      label: t('Date'),\n      name: 'date',\n    },\n    {\n      label: t('Sequence'),\n      name: 'sequence',\n    },\n    {\n      label: t('Total without tax'),\n      name: 'totalWithoutTax',\n    },\n    {\n      label: t('Total tax'),\n      name: 'totalTax',\n    },\n    {\n      label: t('Discount'),\n      name: 'totalDiscount',\n    },\n    {\n      label: t('Total'),\n      name: 'total',\n    },\n    {\n      label: t('Amount due'),\n      name: 'amountDue',\n    },\n  ];\n}\n\nconst limit = 25;\n\nfunction InvoiceListContainer(props) {\n  const { redirectToInvoiceView, redirectToInvoiceList, match } = props;\n  const { params, url } = match;\n  const page = Number(params && params.page) || 0;\n  const { t } = useTranslation();\n\n  const [{ invoices, totalInvoices, loading }, setStore] = React.useState({\n    invoices: [],\n    totalInvoices: 0,\n    loading: true,\n  });\n\n  const columns = React.useMemo(() => getInvoiceColumn(t), [t]);\n\n  const fetchInvoices = React.useCallback(() => {\n    PurchaseAPI.fetchInvoices({\n      limit,\n      page: page + 1,\n      sort: '-id',\n    })\n      .then(({ data, total, offset }) => {\n        if (offset > total) {\n          redirectToInvoiceList();\n        } else {\n          setStore({\n            loading: false,\n            invoices: data,\n            totalInvoices: total,\n          });\n        }\n      })\n      .catch(() => {\n        setStore((store) => ({ ...store, loading: false }));\n      });\n  }, [redirectToInvoiceList, page]);\n\n  React.useEffect(() => {\n    fetchInvoices();\n  }, [fetchInvoices]);\n\n  const handleNext = React.useCallback(() => {\n    redirectToInvoiceList(page + 1);\n  }, [page, redirectToInvoiceList]);\n\n  const handlePrevious = React.useCallback(() => {\n    redirectToInvoiceList(page - 1);\n  }, [page, redirectToInvoiceList]);\n\n  const handleInvoiceClick = React.useCallback(\n    (invoiceId) => {\n      redirectToInvoiceView(invoiceId, { fromUrl: url });\n    },\n    [redirectToInvoiceView, url]\n  );\n\n  return (\n    <PurchaseList\n      columns={columns}\n      purchases={invoices}\n      totalPurchases={totalInvoices}\n      page={page}\n      limit={limit}\n      onNext={handleNext}\n      onPrevious={handlePrevious}\n      loading={loading}\n      onClick={handleInvoiceClick}\n    />\n  );\n}\n\nexport default InvoiceListContainer;\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\n\nimport InvoiceViewContainer from '../containers/InvoiceView';\nimport InvoiceListContainer from '../containers/InvoiceList';\n\nfunction Invoice(props) {\n  const { match, history, redirectToOrderView } = props;\n  const { path, url } = match;\n\n  const invoiceListPath = path + '/list/:page?';\n  const invoiceViewPath = path + '/view/:invoiceId';\n  const invoiceListUrl = url + '/list';\n  const invoiceViewUrl = url + '/view';\n\n  const redirectToInvoiceView = (invoiceId, state) => {\n    history.push({\n      pathname: invoiceViewUrl + `/${invoiceId}`,\n      state,\n    });\n  };\n\n  const redirectToInvoiceList = (page) => {\n    history.push(page ? invoiceListUrl + `/${page}` : invoiceListUrl);\n  };\n\n  return (\n    <Switch>\n      <Route\n        path={invoiceViewPath}\n        render={(props) => (\n          <InvoiceViewContainer\n            {...props}\n            redirectToInvoiceList={redirectToInvoiceList}\n            redirectToOrderView={redirectToOrderView}\n          />\n        )}\n      />\n      <Route\n        path={invoiceListPath}\n        render={(props) => (\n          <InvoiceListContainer\n            {...props}\n            redirectToInvoiceList={redirectToInvoiceList}\n            redirectToInvoiceView={redirectToInvoiceView}\n          />\n        )}\n      />\n      <Redirect to={{ pathname: invoiceListPath }} />\n    </Switch>\n  );\n}\n\nInvoice.defaultProps = {\n  redirectToOrderView: () => {},\n};\n\nexport default Invoice;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction ConfirmationDialog(props) {\n  const { t } = useTranslation();\n\n  const { open, onClose, onConfirm, onCancel, children, title } = props;\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>{children}</DialogContent>\n      <DialogActions>\n        <Button variant=\"outlined\" onClick={onCancel || onClose}>\n          {t('Cancel')}\n        </Button>\n        <Button onClick={onConfirm}>{t('Confirm')}</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nConfirmationDialog.defaultProps = {\n  title: 'Confirmation Dialog',\n  open: false,\n  onClose: () => {},\n  onConfirm: () => {},\n  t: (e) => e,\n};\n\nexport default ConfirmationDialog;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport ConfirmationDialog from './ConfirmationDialog';\n\nfunction ConfirmationDialogButton(props) {\n  const { ButtonProps, DialogProps, onConfirm } = props;\n\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  const handleOpenDialog = React.useCallback(() => {\n    setDialogOpen(true);\n  }, []);\n\n  const handleCloseDialog = React.useCallback(() => {\n    setDialogOpen(false);\n  }, []);\n\n  const handleConfirm = React.useCallback(() => {\n    handleCloseDialog();\n    onConfirm && onConfirm();\n  }, [onConfirm, handleCloseDialog]);\n\n  return (\n    <>\n      <Button\n        className={ButtonProps.className}\n        variant={ButtonProps.variant}\n        onClick={handleOpenDialog}\n      >\n        {ButtonProps.label}\n      </Button>\n      <ConfirmationDialog\n        open={dialogOpen}\n        onClose={handleCloseDialog}\n        onConfirm={handleConfirm}\n        title={DialogProps.title}\n        children={DialogProps.children}\n      ></ConfirmationDialog>\n    </>\n  );\n}\n\nConfirmationDialogButton.defaultProps = {\n  ButtonProps: {},\n  DialogProps: {},\n};\n\nexport default ConfirmationDialogButton;\n","import React from 'react';\nimport {\n  SnackbarProvider as NotistackSnackbarProvider,\n  useSnackbar as useNotistackSnackbar,\n} from 'notistack';\n\nfunction SnackbarProvider(props) {\n  const { children } = props;\n\n  const anchorOrigin = React.useMemo(\n    () => ({ vertical: 'bottom', horizontal: 'left' }),\n    []\n  );\n\n  return (\n    <NotistackSnackbarProvider\n      autoHideDuration={3000}\n      maxSnack={3}\n      anchorOrigin={anchorOrigin}\n    >\n      {children}\n    </NotistackSnackbarProvider>\n  );\n}\n\nexport default SnackbarProvider;\n\nexport const useSnackbar = useNotistackSnackbar;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Hidden from '@material-ui/core/Hidden';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport PrintIcon from '@material-ui/icons/Print';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport Loader from '../components/Loader';\nimport ConfirmationDialogButton from '../components/ConfirmationDialogButton';\nimport PurchaseView from '../components/PurchaseView';\nimport BackButton from '../components/BackButton';\nimport Paper from '../components/Paper';\nimport Divider from '../components/Divider';\nimport { useTranslation } from '../providers/TranslationProvider';\nimport { useSnackbar } from '../providers/SnackbarProvider';\n\nconst useQuotationViewStyles = makeStyles((theme) => ({\n  action: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  container: {\n    marginTop: theme.spacing(1),\n  },\n  loader: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  spacer: { flexGrow: 1 },\n  purchaseActionWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n    marginTop: theme.spacing(2),\n  },\n  purchaseActionButton: {\n    marginTop: theme.spacing(),\n  },\n  backdrop: {\n    zIndex: 999,\n  },\n}));\n\nfunction QuotationViewContainer(props) {\n  const {\n    match,\n    history,\n    location,\n    redirectToQuotationList,\n    redirectToInvoiceView,\n    redirectToOrderView,\n  } = props;\n  const { params } = match;\n  const { quotationId } = params;\n\n  if (!quotationId) {\n    redirectToQuotationList();\n  }\n\n  const [{ quotation, loading }, setStore] = React.useState({\n    quotation: {},\n    loading: true,\n  });\n\n  const [updating, setUpdating] = React.useState(false);\n\n  const { t } = useTranslation();\n  const classes = useQuotationViewStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleBack = () => {\n    const fromUrl = location.state && location.state.fromUrl;\n    if (fromUrl) {\n      history.push({ pathname: fromUrl, state: location.state.fromState });\n    } else {\n      redirectToQuotationList();\n    }\n  };\n\n  React.useEffect(() => {\n    function fetchQuotation() {\n      PurchaseAPI.fetchQuotation(quotationId)\n        .then((quotation) => {\n          setStore({\n            loading: false,\n            quotation,\n          });\n        })\n        .catch(redirectToQuotationList);\n    }\n\n    fetchQuotation();\n  }, [quotationId, redirectToQuotationList]);\n\n  const handlePrint = React.useCallback(() => {\n    const fileName = `Quotation-${quotation.sequence || quotation.id}.pdf`;\n    PurchaseAPI.downloadQuotationPDF(quotation.id, fileName);\n  }, [quotation]);\n\n  const invoiceLinks = quotation.invoices\n    ? quotation.invoices.map((invoice) => ({\n        label: `${t('Invoice')} ${invoice.sequence}`,\n        onClick: () =>\n          redirectToInvoiceView(invoice.id, {\n            fromUrl: match.url,\n            fromState: location.state,\n          }),\n      }))\n    : [];\n\n  const orderLinks = quotation.orders\n    ? quotation.orders.map((order) => ({\n        label: `${t('Order')} ${order.sequence}`,\n        onClick: () =>\n          redirectToOrderView(order.id, {\n            fromUrl: match.url,\n            fromState: location.state,\n          }),\n      }))\n    : [];\n\n  quotation.links = [...orderLinks, ...invoiceLinks];\n\n  const handleConfirmOrder = React.useCallback(() => {\n    setUpdating(true);\n    PurchaseAPI.confirmOrder(quotationId)\n      .then(() => {\n        setUpdating(false);\n        enqueueSnackbar(t('Order successfully confirmed'), {\n          variant: 'success',\n        });\n        redirectToOrderView(quotationId);\n      })\n      .catch((err) => {\n        enqueueSnackbar(t('Error confirming order'), {\n          variant: 'error',\n        });\n        setUpdating(false);\n      });\n  }, [t, quotationId, redirectToOrderView, enqueueSnackbar]);\n\n  const handleCancelOrder = React.useCallback(() => {\n    setUpdating(true);\n    PurchaseAPI.cancelOrder(quotationId)\n      .then(() => {\n        setUpdating(false);\n        enqueueSnackbar(t('Order successfully cancelled'), {\n          variant: 'success',\n        });\n        redirectToOrderView(quotationId);\n      })\n      .catch((err) => {\n        enqueueSnackbar(t('Error cancelling order'), {\n          variant: 'error',\n        });\n        setUpdating(false);\n      });\n  }, [t, quotationId, redirectToOrderView, enqueueSnackbar]);\n\n  const isFinalized =\n    quotation && quotation.status && quotation.status.includes('FINALIZED');\n\n  const purchaseAction = React.useMemo(() => {\n    return isFinalized ? (\n      <>\n        <Divider />\n        <div className={classes.purchaseActionWrapper}>\n          <ConfirmationDialogButton\n            ButtonProps={{\n              label: t('Confirm order'),\n              className: classes.purchaseActionButton,\n            }}\n            DialogProps={{\n              title: t('Confirm order'),\n              children: t('Do you want to confirm order ?'),\n            }}\n            onConfirm={handleConfirmOrder}\n          />\n          &nbsp;&nbsp;\n          <ConfirmationDialogButton\n            ButtonProps={{\n              label: t('Cancel'),\n              className: classes.purchaseActionButton,\n              variant: 'outlined',\n            }}\n            DialogProps={{\n              title: t('Cancel order'),\n              children: t('Do you want to cancel order ?'),\n            }}\n            onConfirm={handleCancelOrder}\n          />\n        </div>\n      </>\n    ) : null;\n  }, [t, classes, isFinalized, handleConfirmOrder, handleCancelOrder]);\n\n  if (loading) {\n    return <Loader className={classes.loader} />;\n  }\n\n  return (\n    <>\n      <Paper className={classes.action}>\n        <BackButton onClick={handleBack} />\n        <div className={classes.spacer} />\n        <Hidden mdUp>\n          <IconButton onClick={handlePrint}>\n            <PrintIcon />\n          </IconButton>\n        </Hidden>\n      </Paper>\n      <PurchaseView\n        purchase={quotation}\n        onPrint={handlePrint}\n        purchaseAction={purchaseAction}\n      />\n      <Backdrop className={classes.backdrop} open={updating}>\n        <Loader />\n      </Backdrop>\n    </>\n  );\n}\n\nQuotationViewContainer.defaultProps = {\n  redirectToInvoiceView: () => {},\n};\n\nexport default QuotationViewContainer;\n","import React from 'react';\n\nimport PurchaseAPI from '../PurchaseAPI';\nimport PurchaseList from '../components/PurchaseList';\nimport PurchaseStatus from '../components/PurchaseStatus';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction getOrderColumn(t) {\n  return [\n    {\n      label: t('Date'),\n      name: 'date',\n    },\n    {\n      label: t('Sequence'),\n      name: 'sequence',\n    },\n    {\n      label: t('Status'),\n      name: 'status',\n      render: (status) => <PurchaseStatus status={status} variant=\"dense\" />,\n    },\n    {\n      label: t('Total without tax'),\n      name: 'totalWithoutTax',\n    },\n    {\n      label: t('Total tax'),\n      name: 'totalTax',\n    },\n    {\n      label: t('Discount'),\n      name: 'totalDiscount',\n    },\n    {\n      label: t('Total'),\n      name: 'total',\n    },\n  ];\n}\n\nconst limit = 25;\n\nfunction QuotationListContainer(props) {\n  const { redirectToQuotationView, redirectToQuotationList, match } = props;\n  const { params, url } = match;\n  const page = Number(params && params.page) || 0;\n\n  const { t } = useTranslation();\n\n  const [{ orders, totalQuotations, loading }, setStore] = React.useState({\n    orders: [],\n    totalQuotations: 0,\n    loading: true,\n  });\n\n  const columns = React.useMemo(() => getOrderColumn(t), [t]);\n\n  const fetchQuotations = React.useCallback(() => {\n    PurchaseAPI.fetchQuotations({\n      limit,\n      page: page + 1,\n      sort: '-id',\n    })\n      .then(({ data, total, offset }) => {\n        if (offset > total) {\n          redirectToQuotationList();\n        } else {\n          setStore({\n            loading: false,\n            orders: data,\n            totalQuotations: total,\n          });\n        }\n      })\n      .catch(() => {\n        setStore((store) => ({ ...store, loading: false }));\n      });\n  }, [redirectToQuotationList, page]);\n\n  React.useEffect(() => {\n    fetchQuotations();\n  }, [fetchQuotations]);\n\n  const handleNext = React.useCallback(() => {\n    redirectToQuotationList(page + 1);\n  }, [page, redirectToQuotationList]);\n\n  const handlePrevious = React.useCallback(() => {\n    redirectToQuotationList(page - 1);\n  }, [page, redirectToQuotationList]);\n\n  const handleQuotationClick = React.useCallback(\n    (quotationId) => {\n      redirectToQuotationView(quotationId, { fromUrl: url });\n    },\n    [redirectToQuotationView, url]\n  );\n\n  return (\n    <PurchaseList\n      columns={columns}\n      purchases={orders}\n      totalPurchases={totalQuotations}\n      page={page}\n      loading={loading}\n      limit={limit}\n      onNext={handleNext}\n      onPrevious={handlePrevious}\n      onClick={handleQuotationClick}\n    />\n  );\n}\n\nexport default QuotationListContainer;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport QuotationViewContainer from '../containers/QuotationView';\nimport QuotationListContainer from '../containers/QuotationList';\n\nfunction Quotation(props) {\n  const { match, history, redirectToInvoiceView, redirectToOrderView } = props;\n  const { path, url } = match;\n\n  const quotationListPath = path + '/list/:page?';\n  const quotationViewPath = path + '/view/:quotationId';\n  const quotationListUrl = url + '/list';\n  const quotationViewUrl = url + '/view';\n\n  const redirectToQuotationView = (quoationId, state) => {\n    history.push({ pathname: quotationViewUrl + `/${quoationId}`, state });\n  };\n\n  const redirectToQuotationList = (page) => {\n    history.push(page ? quotationListUrl + `/${page}` : quotationListUrl);\n  };\n\n  return (\n    <Switch>\n      <Route\n        path={quotationViewPath}\n        render={(props) => (\n          <QuotationViewContainer\n            {...props}\n            redirectToQuotationList={redirectToQuotationList}\n            redirectToInvoiceView={redirectToInvoiceView}\n            redirectToOrderView={redirectToOrderView}\n          />\n        )}\n      />\n      <Route\n        path={quotationListPath}\n        render={(props) => (\n          <QuotationListContainer\n            {...props}\n            redirectToQuotationList={redirectToQuotationList}\n            redirectToQuotationView={redirectToQuotationView}\n          />\n        )}\n      />\n      <Redirect to={{ pathname: quotationListPath }} />\n    </Switch>\n  );\n}\n\nQuotation.defaultProps = {\n  redirectToInvoiceView: () => {},\n  redirectToOrderView: () => {},\n};\n\nexport default Quotation;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  ShoppingBasket as ShoppingBasketIcon,\n  Receipt as ReceiptIcon,\n  Subject as SubjectIcon,\n} from '@material-ui/icons';\nimport { Switch, Route, withRouter, Redirect } from 'react-router-dom';\n\nimport Chip from './components/Chip';\nimport Paper from './components/Paper';\nimport Loader from './components/Loader';\nimport Order from './pages/Order';\nimport Invoice from './pages/Invoice';\nimport Quotation from './pages/Quotation';\nimport { useTranslation } from './providers/TranslationProvider';\nimport PurchaseAPI from './PurchaseAPI';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    overflow: 'auto',\n    height: '100%',\n    padding: theme.spacing(2),\n  },\n  filter: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  paper: {\n    height: '100%',\n    overflow: 'auto',\n    padding: theme.spacing(2),\n  },\n  chipContainer: {\n    display: 'flex',\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nfunction PurchaseApp(props) {\n  const { match, history, location } = props;\n  const { path } = match;\n  const { pathname } = location;\n\n  const { t, i18n } = useTranslation();\n  const classes = useStyles();\n\n  const [loading, setLoading] = React.useState(2);\n  const [showQuotation, setShowQuotation] = React.useState(false);\n  const [data, setData] = React.useState({ app: null, user: null });\n  const userLanguage = data && data.user && data.user.language;\n\n  const redirectToQuotation = () => {\n    history.push(path + '/quotation/list');\n  };\n\n  const redirectToOrder = () => {\n    history.push(path + '/order/list');\n  };\n\n  const redirectToOrderView = (orderId, state) => {\n    history.push({ pathname: path + '/order/view/' + orderId, state });\n  };\n\n  const redirectToInvoice = () => {\n    history.push(path + '/invoice/list');\n  };\n\n  const redirectToInvoiceView = (invoiceId, state) => {\n    history.push({ pathname: path + '/invoice/view/' + invoiceId, state });\n  };\n\n  React.useEffect(() => {\n    PurchaseAPI.fetchConfiguration()\n      .then((result) => {\n        if (result.isQuotationRequestActive) {\n          setShowQuotation(true);\n        }\n      })\n      .finally(() => {\n        setLoading((value) => value - 1);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    PurchaseAPI.fetchInfo()\n      .then((data) => setData(data))\n      .finally(() => {\n        setLoading((value) => value - 1);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    if (userLanguage) {\n      setLoading((value) => value + 1);\n      i18n.changeLanguage(userLanguage).finally(() => {\n        setLoading((value) => value - 1);\n      });\n    }\n  }, [userLanguage, i18n]);\n\n  if (loading !== 0) {\n    return <Loader />;\n  }\n\n  return (\n    <div className={classes.container}>\n      <Paper className={classes.paper}>\n        <div className={classes.filters}>\n          <div className={classes.chipContainer}>\n            {showQuotation && (\n              <Chip\n                label={t('Quotations')}\n                icon={SubjectIcon}\n                isSelected={pathname.includes('quotation')}\n                onClick={redirectToQuotation}\n              />\n            )}\n            <Chip\n              label={t('Orders')}\n              icon={ReceiptIcon}\n              isSelected={pathname.includes('order')}\n              onClick={redirectToOrder}\n            />\n            &nbsp;\n            <Chip\n              label={t('Invoices')}\n              icon={ShoppingBasketIcon}\n              isSelected={pathname.includes('invoice')}\n              onClick={redirectToInvoice}\n            />\n          </div>\n        </div>\n        <Switch>\n          {showQuotation && (\n            <Route\n              path={`${path}/quotation`}\n              render={(props) => (\n                <Quotation\n                  {...props}\n                  redirectToInvoiceView={redirectToInvoiceView}\n                  redirectToOrderView={redirectToOrderView}\n                />\n              )}\n            />\n          )}\n          <Route\n            path={`${path}/invoice`}\n            render={(props) => (\n              <Invoice {...props} redirectToOrderView={redirectToOrderView} />\n            )}\n          />\n          <Route\n            path={`${path}/order`}\n            render={(props) => (\n              <Order {...props} redirectToInvoiceView={redirectToInvoiceView} />\n            )}\n          />\n          <Redirect to={{ pathname: `${path}/invoice` }} />\n        </Switch>\n      </Paper>\n    </div>\n  );\n}\n\nexport default withRouter(PurchaseApp);\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport {\n  createMuiTheme,\n  ThemeProvider as MuiThemeProvider,\n  makeStyles as muiMakeStyles,\n} from '@material-ui/core/styles';\n\nexport const COLORS = {\n  darkBlue: '#293847',\n  grey: '#9e9e9e',\n  green: '#3ecf8e',\n  lightGreen: 'rgba(62, 207, 142, 0.1)',\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: COLORS.darkBlue,\n    },\n    secondary: {\n      light: COLORS.lightGreen,\n      main: COLORS.green,\n      contrastText: '#ffffff',\n    },\n  },\n  overrides: {\n    MuiTypography: {\n      colorTextPrimary: { color: COLORS.darkBlue },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 20,\n      },\n    },\n  },\n  props: {\n    MuiInput: {\n      disableUnderline: true,\n    },\n    MuiTextField: {\n      variant: 'outlined',\n      margin: 'dense',\n      fullWidth: true,\n    },\n    MuiButton: {\n      variant: 'contained',\n      color: 'secondary',\n    },\n  },\n  custom: {\n    COLORS,\n  },\n});\n\nfunction ThemeProvider({ children }) {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </MuiThemeProvider>\n  );\n}\n\nexport const makeStyles = muiMakeStyles;\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { HashRouter, Route, Redirect } from 'react-router-dom';\n\nimport PurchaseApp from './PurchaseApp';\nimport TranslationProvider from './providers/TranslationProvider';\nimport SnackbarProvider from './providers/SnackbarProvider';\nimport ThemeProvider from './providers/ThemeProvider';\n\nimport './index.css';\n\nfunction Purchase() {\n  return (\n    <React.Suspense fallback=\"\">\n      <HashRouter>\n        <ThemeProvider>\n          <TranslationProvider>\n            <SnackbarProvider>\n              <CssBaseline />\n              <Route path=\"/purchase\" component={PurchaseApp} />\n              <Redirect to=\"/purchase\" />\n            </SnackbarProvider>\n          </TranslationProvider>\n        </ThemeProvider>\n      </HashRouter>\n    </React.Suspense>\n  );\n}\n\nexport default Purchase;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport PurchaseApp from './Purchase';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <PurchaseApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}