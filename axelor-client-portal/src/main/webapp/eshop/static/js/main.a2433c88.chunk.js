(this["webpackJsonpaxelor-eshop"]=this["webpackJsonpaxelor-eshop"]||[]).push([[0],{126:function(e){e.exports=JSON.parse('{"Add a credit card":"Add a credit card","Add a product":"Add a product","Add to cart":"Add to cart","Address":"Address","Addresses":"Addresses","All prices are tax free":"All prices are tax free","All prices include taxes":"All prices include taxes","CVC":"CVC","Cancel":"Cancel","Card number":"Card number","City":"City","Complement":"Complement","Confirm deletion":"Confirm deletion","Confirm order content":"Are you sure to order ?","Confirm order":"Confirm order","Confirm order using default card ?":"Confirm order using default card ?","Confirm quotation request":"Confirm quotation request","Confirm":"Confirm","Continue checkout":"Continue checkout","Continue shopping":"Continue shopping","Credit card":"Credit card","Delivery address":"Delivery address","Discount":"Discount","EShops":"EShops","Error creating order. Please try again":"Error creating order. Please try again","Error requesting quotation. Please try again":"Error requesting quotation. Please try again","Error":"Error","Eshop not processing checkout":"Eshop not processing checkout","Eshop":"Eshop","Expiry":"Expiry","Invoicing address":"Invoicing address","Invalid expiry":"Invalid expiry","Invalid cvc":"Invalid CVC","Invalid card number":"Invalid card number","More":"More","Name":"Name","New address":"New address","No record found":"No record found","No product record found":"No record found","One or multiple items have changed in your cart":"One or multiple items have changed in your cart","Order summary":"Order summary","Paybox":"Paybox","Payment Cards":"Payment Cards","Pay using card":"Pay using card","Products":"Products","Quantity":"Quantity","Request quotation":"Request quotation","Required":"Required","Save":"Save","Search":"Search","Thank you for shopping":"Thank you for shopping","Total discount":"Total discount","Total tax":"Total tax","Total without tax":"Total without tax","Total":"Total","Unavailable":"Unavailable","Your payment could not be completed":"Your payment could not be completed","Your payment has been successfully completed":"Your payment has been successfully completed","Zip code":"Zip code"}')},127:function(e){e.exports=JSON.parse('{"Add a credit card":"Ajouter une carte de cr\xe9dit","Add a product":"Ajouter un produit","Add to cart":"Ajouter au panier","Address":"Address","Addresses":"Adresses","All prices are tax free":"Tous les prix sont en HT","All prices include taxes":"Tous les prix sont en TTC","CVC":"CVC","Cancel":"Annuler","Card number":"Num\xe9ro de carte","City":"Ville","Complement":"Compl\xe9ment","Confirm deletion":"Confirmation de la suppression","Confirm order content":"\xcates-vous s\xfbr(e) de commander ?","Confirm order":"Confirmer la commande","Confirm order using default card ?":"Confirmer la commande en utilisant la carte par d\xe9faut?","Confirm quotation request":"Confirmer la demande de devis","Confirm":"Confirmer","Continue checkout":"Continuer la commande","Continue shopping":"Continuer vos achats","Credit card":"Carte de cr\xe9dit","Delivery address":"Adresse de livraison","Discount":"Remise","EShops":"EShops","Error creating order. Please try again":"Erreur lors de la cr\xe9ation de la commande. Veuillez r\xe9essayer","Error requesting quotation. Please try again":"Erreur lors de la demande de devis. Veuillez r\xe9essayer","Error":"Erreur","Eshop not processing checkout":"Eshop ne traite pas le paiement","Eshop":"Eshop","Expiry":"Expiration","Invoicing address":"Adresse de facturation","Invalid expiry":"Expiration invalide","Invalid cvc":"CVC invalide","Invalid card number":"Num\xe9ro de carte invalide","More":"Plus","Name":"Nom","New address":"Nouvelle adresse","No record found":"No record found","No product record found":"Aucun produit \xe0 afficher","One or multiple items have changed in your cart":"Un ou plusieurs articles ont chang\xe9 dans votre panier","Order summary":"R\xe9capitulatif de la commande","Paybox":"Paybox","Payment Cards":"Cartes de paiement","Pay using card":"Payer par carte","Products":"Produits","Quantity":"Quantit\xe9","Request quotation":"Demande de devis","Required":"Requis","Save":"Enregistrer","Search":"Rechercher","Thank you for shopping":"Merci pour vos achats","Total discount":"Remise","Total tax":"Taxes","Total without tax":"Montant total HT","Total":"Total","Unavailable":"Indisponible","Your payment could not be completed":"Votre paiement n\'a pas pu aboutir","Your payment has been successfully completed":"Votre paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s","Zip code":"Code postal"}')},165:function(e,t,a){e.exports=a(207)},206:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(281),l=a(42),s=a(15),u=a(7),d=a(25),m=a(118),p=a(260),f=a(37),h=a(8);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(localStorage.getItem(e))||t}catch(a){return t}}function g(e,t){localStorage.setItem(e,JSON.stringify(t))}var v=r.a.createContext();function y(){return Object(n.useContext)(v)}var C=function(e){var t=e.children,a=Object(n.useState)({cart:{},config:{},checkoutAddresses:{}}),c=Object(u.a)(a,2),o=c[0],i=o.cart,l=o.config,s=o.checkoutAddresses,m=c[1],p=Object(n.useCallback)((function(e){m((function(t){return Object(h.a)({},t,{cart:e})}))}),[]),f=Object(n.useCallback)((function(e){m((function(t){return Object(h.a)({},t,{checkoutAddresses:e})}))}),[]),y=Object(n.useCallback)((function(e){return m((function(t){return Object(h.a)({},t,{config:e})}))}),[]),C=Object(n.useCallback)((function(){p({})}),[p]),E=Object(n.useCallback)((function(e,t){m((function(a){return Object(h.a)({},a,{cart:Object(h.a)({},a.cart,Object(d.a)({},e,t))})}))}),[]),k=Object(n.useCallback)((function(e){m((function(t){return Object(h.a)({},t,{checkoutAddresses:Object(h.a)({},t.checkoutAddresses,Object(d.a)({},"invoicing",e))})}))}),[]),O=Object(n.useCallback)((function(e){m((function(t){return Object(h.a)({},t,{checkoutAddresses:Object(h.a)({},t.checkoutAddresses,Object(d.a)({},"delivery",e))})}))}),[]),j=Object(n.useCallback)((function(e){m((function(t){var a=Object(h.a)({},t.cart);return delete a[e],Object(h.a)({},t,{cart:a})}))}),[]);Object(n.useEffect)((function(){var e=b("cart"),t=b("address");e&&Object.keys(e).length>0?p(e):p({}),t&&Object.keys(t).length>0?f(t):f({})}),[p,f]),Object(n.useEffect)((function(){i&&function(e){g("cart",e)}(i)}),[i]),Object(n.useEffect)((function(){s&&Object.keys(s).length&&g("address",s)}),[s]);var x=Object(n.useMemo)((function(){return{cart:i,checkoutAddresses:s,config:l,setCart:p,clearCart:C,setConfig:y,setItem:E,clearItem:j,setInvoicingAddress:k,setDeliveryAddress:O}}),[i,s,l,p,C,y,E,j,k,O]);return r.a.createElement(v.Provider,{value:x},t)},E=a(261),k=Object(p.a)((function(e){return{root:{height:"inherit",width:"inherit",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},top:{color:"#eef3fd"},bottom:{color:e.palette.secondary.main,animationDuration:"250ms",position:"absolute"}}}));var O=function(e){var t=k();return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,Object.assign({variant:"determinate",value:100,className:t.top,size:24,thickness:4},e)),r.a.createElement(E.a,Object.assign({variant:"indeterminate",disableShrink:!0,className:t.bottom,size:24,thickness:4},e)))},j=a(31),x=a(2),P=Object(p.a)((function(e){return{divider:{borderColor:e.palette.secondary.main}}}));var w=function(e){var t=e.className,a=Object(j.a)(e,["className"]),n=P();return r.a.createElement("hr",Object.assign({className:Object(x.a)(n.divider,t)},a))},N=a(67),A=Object(p.a)((function(e){return{row:{display:"flex",marginBottom:e.spacing(.5),justifyContent:"space-between"}}}));function I(e){var t=e.total,a=e.totalLabel,n=e.totalWithoutTax,c=e.totalDiscount,o=e.totalWithoutTaxLabel,i=e.totalTax,l=e.totalTaxLabel,s=e.totalDiscountLabel,u=e.divider,d=e.className,m=A();return r.a.createElement("div",{className:d},u&&r.a.createElement(w,null),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,o),r.a.createElement(N.a,null,n)),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,s),r.a.createElement(N.a,null,c)),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,l),r.a.createElement(N.a,null,i)),u&&r.a.createElement(w,null),r.a.createElement("div",{className:m.row},r.a.createElement(N.a,null,r.a.createElement("b",null,a)),r.a.createElement(N.a,null,r.a.createElement("b",null,t))))}I.defaultProps={divider:!0,total:"0.00",totalTax:"0.00",totalWithoutTax:"0.00",totalDiscount:"0.00",totalLabel:"Total",totalTaxLabel:"Total Tax",totalWithoutTaxLabel:"Total Without Tax",totalDiscountLabel:"Total Discount"};var S=I,T=a(271),D=a(270),B=a(272),q=a(154),R=a(122),F=a(59),L=a.n(F),M=a(94),z=a(4),W=Object(z.a)((function(){return{root:{position:"relative",width:"100%",overflow:"hidden",backgroundColor:"#ffffff",borderRadius:4},elevation1:{boxShadow:"0px 0px 30px rgba(0,0,0,0.15)"}}}))(M.a),_=a(92),Q=a(282),U=a(13),V=Object(p.a)((function(e){return{root:{border:"1px solid #E2E2E1",overflow:"hidden",borderRadius:4,backgroundColor:"white",transition:e.transitions.create(["border-color","box-shadow"]),"&$disabled":{backgroundColor:"#FCFCFB"},"&:hover":{backgroundColor:"#FFFFFF"},"&$focused":{backgroundColor:"#FFFFFF",boxShadow:"".concat(Object(U.c)(e.palette.secondary.main,.25)," 0 0 0 1px"),borderColor:e.palette.secondary.main}},disabled:{},focused:{}}})),H=Object(p.a)((function(e){return{root:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%","&$filled":{transition:e.transitions.create(["color"]),"&$focused":{color:e.palette.secondary.main}}},error:{},asterisk:{},focused:{},filled:{}}})),Y=r.a.forwardRef((function(e,t){var a=e.error,n=e.readOnly,c=e.InputProps,o=Object(j.a)(e,["error","readOnly","InputProps"]),i=V(),l=H();return r.a.createElement(Q.a,Object.assign({margin:"dense",ref:t,variant:"filled",fullWidth:!0},o,{InputLabelProps:{shrink:!0,classes:l},InputProps:Object(h.a)({readOnly:n,disableUnderline:!0,classes:i},c||{}),error:Boolean(a),helperText:a}))})),X=a(264),G=a(263),J=a(23),Z=Object(p.a)((function(){return{root:{"&:focus":{backgroundColor:"white"}}}})),$=Object(p.a)((function(){return{paper:{maxHeight:400}}})),K=Object(p.a)((function(e){return{root:{"&$selected":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}},selected:{}}})),ee=Object(p.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:"90%",maxWidth:400}}}));function te(e){var t=e.options,a=Object(j.a)(e,["options"]),n=Object(J.a)(),c=Object(G.a)(n.breakpoints.down("sm")),o=Z(),i=$(),l=K(),s=ee();return r.a.createElement(Y,Object.assign({select:!0,SelectProps:{classes:o,MenuProps:Object(h.a)({classes:i},c?{anchorReference:"none",PopoverClasses:s,BackdropProps:{invisible:!1}}:{})}},a),t.map((function(e){return r.a.createElement(X.a,{key:e.value,value:e.value,classes:l},e.label)})))}te.defaultProps={options:[]};var ae=te,ne=Object(p.a)((function(){return{input:{"&[type=number]":{MozAppearance:"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}}}}})),re=function(e){var t=e.maxItems,a=e.moreLabel,n=e.name,c=e.onChange,o=e.value,i=Object(j.a)(e,["maxItems","moreLabel","name","onChange","value"]),l=r.a.useState(o>t),s=Object(u.a)(l,2),d=s[0],m=s[1],p=r.a.useRef(),f=ne();r.a.useEffect((function(){d&&p.current.focus()}),[d]);var h=r.a.useCallback((function(){m(!0)}),[]),b=r.a.useCallback((function(e){"more"===e.target.value?(h(),c({target:{value:t,name:n}})):(c(e),d||document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}),[h,d,c,t,n]);return d?r.a.createElement(Y,Object.assign({ref:p,inputProps:{className:f.input},onChange:b,name:n,value:o},i,{type:"number",min:1})):r.a.createElement(ae,Object.assign({name:n,options:[].concat(Object(_.a)(Object(_.a)(Array(t).keys()).map((function(e){return{value:e+1,label:e+1}}))),[{value:"more",label:a}]),onChange:b,value:o},i))};re.defaultProps={maxItems:10,moreLabel:"More"};var ce,oe=re,ie=a(266),le=a(267),se=a(268),ue=a(269),de=a(150),me=a(151),pe=a(54),fe=a(265),he=a(284),be=a(123),ge=a(124),ve=a(126),ye=a(127),Ce=a(128),Ee=a.n(Ce),ke=a(89),Oe=a(90),je=a(129),xe=a.n(je),Pe={};function we(e){var t=document.cookie||"";return t!==ce&&(ce=t,Pe=t.split("; ").reduce((function(e,t){var a=t.split("=");return e[a[0]]=a[1],e}),{})),Pe[e]}var Ne=function(){function e(t,a){Object(ke.a)(this,e),this.http=t,this.entity=a}return Object(Oe.a)(e,[{key:"insert",value:function(e){return this.http.put("/ws/rest/"+this.entity,e)}},{key:"update",value:function(e){return this.http.post("/ws/rest/"+this.entity,e)}},{key:"delete",value:function(e){return this.http.delete("/ws/rest/"+this.entity+"/"+e)}},{key:"deleteAll",value:function(e){return this.http.post("/ws/rest/".concat(this.entity,"/removeAll"),{records:e.map((function(e){return{id:e.id,version:e.version}}))})}},{key:"fetch",value:function(e,t){return this.http.post("/ws/rest/"+this.entity+"/"+e+"/fetch",t)}},{key:"copy",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/copy",t)}},{key:"details",value:function(e,t){return this.http.get("/ws/rest/"+this.entity+"/"+e+"/details?name="+t)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/ws"+(this.entity?"/rest/".concat(this.entity):"")+"/search",e)}}]),e}(),Ae=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.baseURL,n=void 0===a?"/":a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(ke.a)(this,e),this.instance=xe.a.create({baseURL:n}),this.interceptor=r}return Object(Oe.a)(e,[{key:"catchError",value:function(e){console.log("catch error",e),this.callback?this.callback(e):"".concat(e).includes("401")}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=a.headers,c=void 0===r?{}:r,o=a.token,i=void 0===o||o,l=a.withCredentials,s=void 0===l||l,u=Object(h.a)({},i?{"X-CSRF-Token":we("CSRF-TOKEN")}:{},{},n||Object.assign({},{accept:"application/json","x-requested-with":"XMLHttpRequest"},c,Object.keys(t).length?{"content-type":"application/json"}:{})),d=Object.assign({url:e,method:"POST",headers:u,data:"application/json"===u["content-type"]?JSON.stringify(t):t},a,{withCredentials:s});return"GET"!==d.method&&"HEAD"!==d.method||!d.data||delete d.data,this.instance(d)}},{key:"intercept",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=Object.assign({method:a,withCredentials:!0},c),i=function(){return t.request(e,n,o,r)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e5;return new Promise((function(t,a){setTimeout((function(){a(new Error("Request failed Timeout"))}),e)}))};return Promise.race([l(),i().then((function(e){return 401===e.status?t.catchError({logout:!0}):e.data}))]).catch(this.catchError.bind(this))}},{key:"get",value:function(e,t,a){return this.intercept(e,"GET",{},t,a)}},{key:"post",value:function(e,t,a){return this.intercept(e,"POST",t,a)}},{key:"patch",value:function(e,t,a){return this.intercept(e,"PATCH",t,a)}},{key:"put",value:function(e,t,a){return this.intercept(e,"PUT",t,a)}},{key:"delete",value:function(e,t){return this.intercept(e,"DELETE",{},t)}},{key:"head",value:function(e,t){return this.intercept(e,"HEAD",{},t)}},{key:"action",value:function(e,t){return this.intercept("/ws/action"+e,"POST",t)}},{key:"rest",value:function(e){return new Ne(this,e)}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},this.config||{},t);return this.request("/callback",{username:a.username,password:a.password},{token:!1}).then((function(t){var n=null;if(void 0===t)throw new Error("Failed To Connect !!");return t&&401===t.status?n=!1:t&&200===t.status&&(n=!0,e.config=a),n})).catch(this.catchError.bind(this))}},{key:"logout",value:function(){return this.get("/logout")}},{key:"info",value:function(){return this.get("/ws/app/info")}},{key:"checkInfo",value:function(){return this.request("/ws/app/info",{},{method:"GET"}).then((function(e){return e.data})).then((function(e){return{appUser:e,app:{name:e["application.name"],version:e["application.version"],description:e["application.description"]},user:{id:e["user.id"],code:e["user.login"],name:e["user.name"],language:e["user.lang"]||"en",email:e["user.login"],theme:e["user.theme"]||""}}}))}},{key:"upload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(c,o){var i=new XMLHttpRequest,l="/ws/files/upload",s=function(){return a["X-File-Id"]?e.intercept((function(){return e.delete("".concat(l,"/").concat(a["X-File-Id"]))})):Promise.resolve(!0)};i.open("POST",l,!0),Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.withCredentials=!0,i.overrideMimeType("application/octet-stream"),i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-CSRF-Token",we("CSRF-TOKEN")),i.onload=function(){n(100)},r.abort=function(){return i.abort(),s()},i.onreadystatechange=function(){if(4===i.readyState)switch(i.status){case 401:throw this.callbackInterceptor(),new Error("Unauthorized !!");case 200:try{var e=JSON.parse(i.responseText);c(e)}catch(t){c(i.responseText)}break;default:s(),o({status:i.status})}},i.upload.onprogress=function(e){var t=a["X-File-Size"],c=parseFloat(a["X-File-Offset"])+e.loaded,o=Math.round(c/t*100);r.progress=o>95?"95%":o+"%",r.transfer=function(e,t){var a=function(e){return e>1e9?parseFloat(e/1e9).toFixed(2)+" GB":e>1e6?parseFloat(e/1e6).toFixed(2)+" MB":e>=1e3?parseFloat(e/1e3).toFixed(2)+" KB":e+" B"};return a(e||0)+"/"+a(t)}(c,t),r.loaded=c===t,e.lengthComputable&&n(e.loaded/e.total*100,r)},i.send(t)}))}}]),e}())({baseURL:"../"});function Ie(e){return"./".concat(Ae.instance.defaults.baseURL,"ws/portal/metafile/").concat(e)}function Se(e){if(e&&0===e.status)return e;throw new Error(e&&e.message)}function Te(e){return function(e){var t=e._pictures&&e._pictures.length;e.images=t?e._pictures.map(Ie):[]}(e),function(e){var t=e&&e._currency&&e._currency.symbol;t&&(e._previousPrice?(e._displayPrice=t+e._previousPrice,e._displayDiscountPrice=t+e._price):e._displayPrice=t+e._price)}(e),function(e){e._discount&&e._discount.includes("%")&&(e._displayDiscountPercentage=e._discount)}(e),function(e){"service"===e.productTypeSelect||Number(e._realQty)||(e.unavailable=!0)}(e),e}function De(){return{data:[],total:0}}function Be(){return{}}function qe(){return[]}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.data=e.data||t,e}function Fe(e){var t=e.address,a=e.addressComplement,n=e.zipCode,r=e.countryName,c=e.cityName;return"".concat(t||""," ").concat(a||""," ").concat(c||""," ").concat(n||""," ").concat(r||"")}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.parseFloat(e).toFixed(t)}function Me(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?e+" "+t:e+t}function ze(e){return e&&e.currency&&e.currency.symbol}function We(e){return function(e){var t=ze(e);if(!t)return e;var a=function(e){return Me(e,t)};return Object.assign(e,{total:a(e.total),totalTax:a(e.totalTax),totalWithoutTax:a(e.totalWithoutTax),totalDiscount:a(e.totalDiscount)})}(function(e){var t=ze(e),a=$e(e.mainInvoicingAddress),n=$e(e.deliveryAddress);return a.displayAddress=Fe(a),n.displayAddress=Fe(n),{id:e.id,date:e.checkoutDate,total:e.inTaxTotal||"0.00",totalTax:e.taxTotal||"0.00",totalWithoutTax:e.exTaxTotal||"0.00",totalDiscount:e._discountTotal||"0.00",currency:e.currency,invoicingAddress:a,deliveryAddress:n,lines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{id:e.id,name:e.productName,qty:Le(e.qty),unitPrice:t?Me(Le(e.price),t):Le(e.price),vat:e.taxLine&&e.taxLine.value?Me(Le(100*e.taxLine.value),"%"):"",discount:t?Me(Le(e._discountTotal||"0.00"),t):"0.00",total:t?Me(Le(e.inTaxTotal),t):Le(e.inTaxTotal),productId:e.product&&e.product.id,productTypeSelect:e.product&&e.product.productTypeSelect}}))}(e.saleOrderLineList),itemsChanged:e.itemsChanged,original:{total:e.inTaxTotal},paymentModes:e.paymentModes||[]}}(e))}function _e(e){return e.itemsChanged&&(e.lines=e.lines.filter((function(e){return"service"!==e.productTypeSelect&&"0.00"!==e.qty}))),e}function Qe(e){return e&&e.data}function Ue(e,t){return e.data&&(e.data=t(e.data)),e}function Ve(e){return Object.assign({},e,{displayAddress:Fe(e)})}function He(e){return Ue(e,(function(e){return e.map(Te)}))}function Ye(e){return Ue(e,(function(e){return e.map(et)}))}function Xe(e){return Ue(e,(function(e){return e.map($e)}))}function Ge(e){return Ue(e,(function(e){return e.map(Ve)}))}function Je(e,t){return t?e+"?"+function(e){return Ee.a.stringify(e)}(t):e}function Ze(e){return{addressL4:e.address,addressL2:e.addressComplement,zip:e.zipCode,cityId:e.city,id:e.id,addressL7CountryId:e.country}}function $e(e){var t=e.city,a=e.addressL7Country;return{address:e.addressL4,addressComplement:e.addressL2,zipCode:e.zip,city:e.cityId||t&&t.id,id:e.id,country:e.addressL7CountryId||a&&a.id,cityName:t&&t.name||"",countryName:a&&a.name||""}}function Ke(e){var t=e.deliveryAddress,a=e.invoicingAddress,n=e.cart;return{deliveryAddressId:t.id,mainInvoicingAddressId:a.id,cart:Object.keys(n).reduce((function(e,t){return e.push({productId:Number(t),quantity:n[t]}),e}),[])}}function et(e){var t=e.expiry,a=void 0===t?"":t,n=e.brand,r=a.slice(0,a.length-2),c=a.slice(a.length-2),o="".concat(r,"/").concat(c),i=e.cardNumber,l=void 0===i?"":i,s=(l=String(l))&&l.slice(l.length-4);return Object(h.a)({},e,{expiryDisplay:o,last4:s,brand:n||""})}var tt={fetchProducts:function(e){var t=Je("/ws/portal/products",e);return Ae.get(t).then(Se).then(Re).then(He).catch(De)},fetchProduct:function(e){var t="/ws/portal/products/".concat(e);return Ae.get(t).then(Se).then((function(e){return Re(e,{})})).then(Qe).then(Te).catch(Be)},fetchCategories:function(){return Ae.get("/ws/portal/categories").then(Se).then(Re).then(Qe).catch(qe)},fetchCategoryProducts:function(e,t){var a=Je("/ws/portal/categories/".concat(e,"/products"),t);return Ae.get(a).then(Se).then(Re).then(He).catch(De)},fetchAddresses:function(){return Ae.get("/ws/portal/addresses").then(Se).then(Re).then(Xe).then(Ge).catch(De)},fetchAddress:function(e){var t="/ws/portal/addresses/".concat(e);return Ae.get(t).then(Se).then(Qe).then($e)},addAddress:function(e){return Ae.post("/ws/portal/addresses",Ze(e)).then(Se).then(Qe)},deleteAddress:function(e){var t="/ws/portal/addresses/".concat(e);return Ae.delete(t)},updateAddress:function(e,t){var a="/ws/portal/addresses/".concat(e);return Ae.post(a,Ze(t)).then(Se).then(Qe)},fetchCities:function(){return Ae.get("/ws/portal/cities").then(Se).then(Re).then(Qe).catch(qe)},checkCart:function(e){var t={cart:Object.keys(e).map((function(t){return{productId:Number(t),quantity:e[t]}}))};return Ae.post("/ws/portal/cart/check-cart",t).then(Se).then(Qe).then(We).then(_e).catch(Be)},checkoutPaypal:function(e){var t=e.paypalPaymentData,a=e.orderData,n=t.id,r=Ke(a);return Ae.post("/ws/portal/cart/checkout/paypal",{paypalOrderId:n,orderData:r}).then(Se).then(Qe)},checkoutPaybox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,a=e.orderData,n="/ws/portal/cart/checkout/paybox",r=Ke(a),c={orderData:r,successURL:t+"/success",failureURL:t+"/failure"};return Ae.post(n,c).then(Se).then(Qe)},checkoutPaymentCard:function(e){var t=e.cardId,a={orderData:Ke(e.orderData)};return t&&(a.cardId=t),Ae.post("/ws/portal/cart/checkout/stripe",a).then(Se).then(Qe)},checkoutQuotation:function(e){var t={orderData:Ke(e.orderData)};return Ae.post("/ws/portal/cart/checkout/quotation",t).then(Se).then(Qe)},fetchPaymentCards:function(){return Ae.get("/ws/portal/payment-cards").then(Se).then(Re).then(Ye).catch(De)},fetchPaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return Ae.get(t).then(Se).then(Qe).then(et)},addPaymentCard:function(e){return Ae.post("/ws/portal/payment-cards",e).then(Se)},updatePaymentCard:function(e,t){var a="/ws/portal/payment-cards/".concat(e);return Ae.post(a,t).then(Se)},deletePaymentCard:function(e){var t="/ws/portal/payment-cards/".concat(e);return Ae.delete(t).then((function(e){if(-1===e.status)throw new Error(e&&e.message)}))},fetchDefaultPaymentCard:function(){return Ae.get("/ws/portal/payment-cards/default").then(Se).then(Qe)},updateDefaultPaymentCard:function(e){var t="/ws/portal/payment-cards/default/".concat(e);return Ae.post(t).then(Se)},fetchPaypalMerchantId:function(){return Ae.get("/ws/portal/config/merchant-id").then(Se).then(Qe).catch(Be)},fetchTranslations:function(e){return Ae.post("/ws/portal/translate",e).then((function(e){e&&0===e.status||(e.data=[]);var t=e.data;return Array.isArray(t)?t.reduce((function(e,t){return e[t.key]=t.message,e}),{}):{}})).catch((function(){return{}}))},fetchConfiguration:function(){return Ae.get("/ws/portal/config").then(Se).then(Qe).then((function(e){return{isQuotationRequestActive:e.isQuotationRequestActive}})).catch((function(){return{isQuotationRequestActive:!1}}))},fetchInfo:function(){return Ae.checkInfo()}},at={en:ve,fr:ye},nt=me.a.createInstance(),rt=navigator.language.includes("fr")?"fr":"en";nt.use(pe.e).use(ge.a).use(be.a).init({lng:rt,fallbackLng:"en",interpolation:{escapeValue:!1},backend:{request:function(e,t,a,n){var r=function(e){return Object(de.a)(/\/locales\/([0-9A-Z_a-z]+)\/translation.json/gm,{lang:1}).exec(e).groups.lang||"en"}(t),c=at[r]||at.en;tt.fetchTranslations({keys:Object.keys(c),lang:r}).then((function(e){var t=JSON.stringify(Object.assign({},c,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,a){var n=e[a];return n&&(t[a]=n),t}),{})}(e)));n(null,{status:!0,data:t})}))}},keySeparator:!1});var ct=function(e){var t=e.children;return r.a.createElement(fe.a,{i18n:nt},t)},ot=he.a;function it(e){var t=ot().t,a=e.open,n=e.onClose,c=e.onConfirm,o=e.onCancel,i=e.children,l=e.title;return r.a.createElement(ie.a,{open:a,onClose:n},r.a.createElement(le.a,null,l),r.a.createElement(se.a,null,i),r.a.createElement(ue.a,null,r.a.createElement(D.a,{variant:"outlined",onClick:o||n},t("Cancel")),r.a.createElement(D.a,{onClick:c},t("Confirm"))))}it.defaultProps={title:"Confirmation Dialog",open:!1,onClose:function(){},onConfirm:function(){}};var lt=it;function st(e){var t=e.ButtonProps,a=e.DialogProps,n=e.onConfirm,c=r.a.useState(!1),o=Object(u.a)(c,2),i=o[0],l=o[1],s=r.a.useCallback((function(){l(!0)}),[]),d=r.a.useCallback((function(){l(!1)}),[]),m=r.a.useCallback((function(){d(),n&&n()}),[n,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:t.className,variant:t.variant,onClick:s,disabled:t.disabled},t.label),r.a.createElement(lt,{open:i,onClose:d,onConfirm:m,title:a.title,children:a.children}))}st.defaultProps={ButtonProps:{},DialogProps:{}};var ut=st;function dt(e){var t=e.disabled,a=e.onClick,n=ot().t;return r.a.createElement(ut,{ButtonProps:{disabled:t,label:n("Request quotation")},DialogProps:{title:n("Request quotation"),children:n("Confirm quotation request")},onConfirm:a})}function mt(e){var t=e.disabled,a=e.onClick,n=ot().t;return r.a.createElement(ut,{ButtonProps:{disabled:t,label:n("Confirm order")},DialogProps:{title:n("Confirm order"),children:n("Confirm order content")},onConfirm:a})}dt.defaultProps={disabled:!1,onClick:function(){}},mt.defaultProps={disabled:!1,onClick:function(){}};var pt=Object(p.a)({button:{width:150}});function ft(e){var t=e.disabled,a=e.onClick,n=ot().t,c=pt();return r.a.createElement(D.a,{className:c.button,disabled:t,onClick:a,variant:"outlined"},n("Paybox"))}function ht(e){var t=e.disabled,a=e.onClick,n=ot().t;return r.a.createElement(ut,{ButtonProps:{disabled:t,label:n("Pay using card")},DialogProps:{title:n("Pay using card"),children:n("Confirm order content")},onConfirm:a})}ft.defaultProps={disabled:!1,onClick:function(){}},ht.defaultProps={showButton:!1,disabled:!1,onClick:function(){}};var bt=Object(p.a)((function(e){return{paper:{padding:e.spacing(2)},actionWrapper:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.spacing(2)},actionTitle:{marginBottom:e.spacing()},action:{marginBottom:e.spacing()}}}));function gt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.message,i=e.PaypalButtonProps,l=e.PayboxButtonProps,s=e.RequestQuotationButtonProps,u=e.PaymentCardButtonProps,d=e.ConfirmOrderButtonProps,m=ot().t,p=bt();return r.a.createElement(W,{className:p.paper},r.a.createElement(N.a,{variant:"h5"},m("Order summary")),r.a.createElement(S,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,totalLabel:m("Total"),totalTaxLabel:m("Total tax"),totalWithoutTaxLabel:m("Total without tax"),totalDiscountLabel:m("Total discount")}),r.a.createElement("div",{className:p.actionWrapper},s.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(dt,s)),d.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(mt,d)),u.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(ht,u)),l.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(ft,l)),i.showButton&&r.a.createElement("div",{className:p.action},r.a.createElement(R.PayPalButton,Object.assign({style:{color:"blue",shape:"pill",height:36}},i))),o&&r.a.createElement("div",{className:p.action},r.a.createElement(N.a,null,o))))}gt.defaultProps={message:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{}};var vt=Object(p.a)((function(e){return{container:{marginBottom:e.spacing(4)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},select:{marginBottom:e.spacing()}}}));function yt(e){var t=e.deliveryAddresses,a=e.invoicingAddresses,n=e.invoicingAddress,c=e.deliveryAddress,o=e.onNewAddress,i=e.onDeliveryAddressChange,l=e.onInvoicingAddressChange,s=ot().t,u=vt();return r.a.createElement("div",{className:u.container},r.a.createElement("div",{className:u.header},r.a.createElement(N.a,{variant:"h5"},s("Addresses")),r.a.createElement(D.a,{className:u.headerAction,onClick:o},s("New address"))),r.a.createElement(w,null),r.a.createElement(T.a,{container:!0,spacing:4},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(ae,{label:s("Invoicing address"),name:"invoicingAddress",value:n.id||"",options:a,className:u.select,onChange:l,required:!0}),r.a.createElement(N.a,{variant:"body2"},n.displayAddress)),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(ae,{label:s("Delivery address"),name:"deliveryAddress",value:c.id||"",options:t,className:u.select,onChange:i,required:!0}),r.a.createElement(N.a,{variant:"body2"},c.displayAddress))))}function Ct(e){var t=e.value,a=e.onChange,n=e.line,c=Object(j.a)(e,["value","onChange","line"]),o=r.a.useState(Number(t)),i=Object(u.a)(o,2),l=i[0],s=i[1];r.a.useEffect((function(){if(n.overrideInput)s(Number(t));else if(l){var e=Number(l);e>0&&e!==Number(t)&&a(n.productId,Number(l))}}),[l,t,n,a]);var d=r.a.useCallback((function(e){var t=e.target.value;s(t)}),[]),m=r.a.useCallback((function(e){var t=e.target.value;a(n.productId,Number(t))}),[n,a]);return r.a.createElement(oe,Object.assign({},c,{value:l,onBlur:m,onChange:d}))}yt.defaultProps={deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],onNewAddress:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var Et=Object(p.a)((function(e){return{container:{marginBottom:e.spacing(3)},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing()},headerAction:{fontSize:"0.7rem"},price:{color:e.palette.secondary.main}}}));function kt(e){var t=e.lines,a=e.onNewProduct,n=e.onProductQuantityChange,c=e.onProductDelete,o=ot().t,i=Et();return r.a.createElement("div",{className:i.container},r.a.createElement("div",{className:i.header},r.a.createElement(N.a,{variant:"h5"},"".concat(o("Products")," (").concat(t?t.length:0,")")),r.a.createElement(D.a,{className:i.headerAction,onClick:a},o("Add a product"))),r.a.createElement(w,null),r.a.createElement(T.a,{container:!0,spacing:2},t.map((function(e,t){return r.a.createElement(T.a,{item:!0,xs:12,key:t},r.a.createElement(T.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(T.a,{item:!0,xs:3},r.a.createElement(Ct,{label:o("Quantity"),moreLabel:o("More"),name:"qty",min:1,value:Number(e.qty),line:e,onChange:n})),r.a.createElement(T.a,{item:!0,xs:5,zeroMinWidth:!0},r.a.createElement(N.a,{noWrap:!0},e.name)),r.a.createElement(T.a,{item:!0,xs:2,zeroMinWidth:!0,align:"right"},r.a.createElement(N.a,{className:i.price,noWrap:!0},e.total)),r.a.createElement(T.a,{item:!0,xs:2,align:"right"},r.a.createElement(B.a,{onClick:function(t){return c(t,e)}},r.a.createElement(L.a,null)))))})),r.a.createElement(T.a,{item:!0,xs:12,md:6})))}kt.defaultProps={lines:[],onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){}};var Ot=Object(p.a)((function(e){return{container:Object(d.a)({padding:e.spacing(4)},e.breakpoints.down("sm"),{padding:e.spacing()}),backdrop:{zIndex:e.zIndex.appBar+1}}}));function jt(e){var t=e.total,a=e.totalTax,n=e.totalDiscount,c=e.totalWithoutTax,o=e.productLines,i=e.deliveryAddress,l=e.deliveryAddresses,s=e.invoicingAddress,d=e.invoicingAddresses,m=e.checkingOut,p=e.summaryMessage,f=e.PaypalButtonProps,h=e.PayboxButtonProps,b=e.RequestQuotationButtonProps,g=e.PaymentCardButtonProps,v=e.ConfirmOrderButtonProps,y=e.onNewAddress,C=e.onNewProduct,E=e.onProductDelete,k=e.onProductQuantityChange,j=e.onDeliveryAddressChange,x=e.onInvoicingAddressChange,P=ot().t,w=Ot(),A=r.a.useState({open:!1,line:null}),I=Object(u.a)(A,2),S=I[0],D=I[1],B=S.open,R=S.line,F=r.a.useCallback((function(){D({open:!1,line:null})}),[]),L=r.a.useCallback((function(e,t){D({open:!0,line:t})}),[]),M=r.a.useCallback((function(e){E(R.productId),F()}),[E,F,R]);return r.a.createElement("div",{className:w.container},r.a.createElement(T.a,{container:!0,spacing:4},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(yt,{deliveryAddress:i,deliveryAddresses:l,invoicingAddress:s,invoicingAddresses:d,onNewAddress:y,onDeliveryAddressChange:j,onInvoicingAddressChange:x}),r.a.createElement(kt,{lines:o,onNewProduct:C,onProductQuantityChange:k,onProductDelete:L})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(gt,{total:t,totalTax:a,totalDiscount:n,totalWithoutTax:c,message:p,PaypalButtonProps:f,PayboxButtonProps:h,RequestQuotationButtonProps:b,PaymentCardButtonProps:g,ConfirmOrderButtonProps:v})),r.a.createElement(lt,{open:B,title:P("Confirm deletion"),onClose:F,onConfirm:M},r.a.createElement(N.a,null,R&&R.name))),r.a.createElement(q.a,{className:w.backdrop,open:m},r.a.createElement(O,null)))}jt.defaultProps={productLines:[],deliveryAddress:{},deliveryAddresses:[],invoicingAddress:{},invoicingAddresses:[],summaryMessage:"",PaypalButtonProps:{},PayboxButtonProps:{},RequestQuotationButtonProps:{},PaymentCardButtonProps:{},ConfirmOrderButtonProps:{},onNewAddress:function(){},onNewProduct:function(){},onProductDelete:function(){},onProductQuantityChange:function(){},onDeliveryAddressChange:function(){},onInvoicingAddressChange:function(){}};var xt=jt,Pt="success",wt="failure",Nt=Object(p.a)((function(e){return{paper:{padding:e.spacing(),minHeight:e.spacing(30),display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},button:{marginTop:e.spacing(2)},success:{color:e.palette.success.main},failure:{color:e.palette.error.main}}}));function At(e){var t=e.match,a=e.onSuccessRedirect,c=e.onFailureRedirect,o=e.onSuccessMount,i=t.params.messageType,l=void 0===i?Pt:i,s=ot().t,u=Nt(),d=e.successMessage,m=void 0===d?s("Your payment has been successfully completed"):d,p=e.successButtonLabel,f=void 0===p?s("Continue shopping"):p,h=e.failureMessage,b=void 0===h?s("Your payment could not be completed"):h,g=e.failureButtonLabel,v=void 0===g?s("Continue checkout"):g,y=null;switch(l){case Pt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h5",className:u.success},m),r.a.createElement(D.a,{onClick:a,className:u.button},f));break;case wt:y=r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h5",className:u.failure},b),r.a.createElement(D.a,{onClick:c,className:u.button},v));break;default:y=null}return Object(n.useEffect)((function(){l===Pt&&o&&o()}),[l,o]),r.a.createElement(W,{className:u.paper},y)}At.defaultProps={onFailureRedirect:function(){},onSuccessRedirect:function(){}};var It=At;var St=function(e){var t=e.match,a=e.history,c=e.onRedirectToOrder,o=e.onRedirectToQuotation,i=e.onRedirectToCheckoutMessage,l=t.url,s=ot().t,d=Object(f.b)().enqueueSnackbar,m=y(),p=m.cart,h=m.setItem,b=m.clearItem,g=m.clearCart,v=m.setCart,C=m.checkoutAddresses,E=m.setInvoicingAddress,k=m.setDeliveryAddress,j=Object(n.useState)(!0),x=Object(u.a)(j,2),P=x[0],w=x[1],N=Object(n.useState)(!1),A=Object(u.a)(N,2),I=A[0],S=A[1],T=Object(n.useState)({}),D=Object(u.a)(T,2),B=D[0],q=D[1],R=Object(n.useState)([]),F=Object(u.a)(R,2),L=F[0],M=F[1],z=Object(n.useState)([]),W=Object(u.a)(z,2),_=W[0],Q=W[1],U=Object(n.useState)({}),V=Object(u.a)(U,2),H=V[0],Y=V[1],X=Object(n.useState)({}),G=Object(u.a)(X,2),J=G[0],Z=G[1],$=Object(n.useState)(),K=Object(u.a)($,2),ee=K[0],te=K[1],ae=Object(n.useState)(!1),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(!1),ie=Object(u.a)(oe,2),le=ie[0],se=ie[1];Object(n.useEffect)((function(){tt.fetchAddresses().then((function(e){if(e.data&&e.data.length){var t=e.data.map((function(e){return Object.assign(e,{value:e.id,label:"".concat(e.address||""," ").concat(e.addressComplement||"")})}));M(t),Q(t)}}))}),[]);var ue=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.find((function(t){return t.id.toString()===e.toString()}))}),[]);Object(n.useEffect)((function(){var e=function(e,t,a){e.length&&a(t&&ue(t,e)||e[0])};e(L,C.delivery,Y),e(_,C.invoicing,Z)}),[L,_,C,k,E,ue]),Object(n.useEffect)((function(){tt.fetchPaypalMerchantId().then((function(e){te(e.merchantId)}))}),[]),Object(n.useEffect)((function(){tt.fetchConfiguration().then((function(e){e.isQuotationRequestActive&&ce(!0)}))}),[]);var de=Object(n.useCallback)((function(){tt.checkCart(p).then((function(e){var t=e.itemsChanged,a=e.lines,n=(void 0===a?[]:a).find((function(e){return"service"!==e.productTypeSelect&&0===Number(e.qty)}));if(t||n){var r=e.lines.reduce((function(e,t){return Number(t.qty)&&(e[t.productId]=Number(t.qty)),e}),{});v(r),e.lines=e.lines.map((function(e){var t=e.productId,a=e.qty,n=p[t];return Number(a)<Number(n)&&(e.overrideInput=!0),e})),d(s("One or multiple items have changed in your cart"),{variant:"error"})}q(e)})),w(!1)}),[p,v,s,d]);Object(n.useEffect)((function(){de()}),[de]);var me=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=t.find((function(t){return t.id===e}));n&&a(n)}),[]),pe=Object(n.useCallback)((function(e){var t=e.target.value;me(t,L,(function(e){Y(e),k(t)}))}),[L,me,k]),fe=Object(n.useCallback)((function(e){var t=e.target.value;me(t,_,(function(e){Z(e),E(t)}))}),[_,me,E]),he=Object(n.useCallback)((function(){a.replace("/eshop")}),[a]),be=Object(n.useCallback)((function(){he()}),[he]),ge=Object(n.useCallback)((function(){a.push({pathname:"/eshop/address/new",state:{fromUrl:l}})}),[a,l]),ve=Object(n.useCallback)((function(e,t){h(e,t)}),[h]),ye=Object(n.useCallback)((function(e){b(e)}),[b]),Ce=Object(n.useCallback)((function(e,t){g(),d(s("Thank you for shopping"),{variant:"success"}),t&&c&&e&&e.id?o(e):c&&e&&e.id?c(e):he()}),[g,c,o,he,s,d]),Ee=Object(n.useCallback)((function(e){S(!0),tt.checkoutPaypal({paypalPaymentData:e,orderData:{deliveryAddress:H,invoicingAddress:J,cart:p}}).then((function(e){S(!1),Ce(e)})).catch((function(){S(!1),d(s("Error"),{variant:"error"})}))}),[H,J,p,Ce,s,d]),ke=Object(n.useCallback)((function(){S(!0),tt.checkoutPaymentCard({cardId:"",orderData:{deliveryAddress:H,invoicingAddress:J,cart:p}}).then((function(e){S(!1),i(Pt)})).catch((function(e){var t=e.message,a=void 0===t?s("Your payment could not be completed"):t;S(!1),d(a,{variant:"error"})}))}),[s,H,J,p,d,i]),Oe=Object(n.useCallback)((function(){S(!0),tt.checkoutPaybox({orderData:{deliveryAddress:H,invoicingAddress:J,cart:p}}).then((function(e){if(!e||!e.url)throw new Error("Checkout Error.");var t=document.createElement("a");t.href=e.url,t.click()})).catch((function(e){var t=e.message,a=void 0===t?s("Your payment could not be completed"):t;S(!1),d(a,{variant:"error"})}))}),[s,H,J,p,d]),je=Object(n.useCallback)((function(){S(!0),tt.checkoutQuotation({orderData:{deliveryAddress:H,invoicingAddress:J,cart:p}}).then((function(e){S(!1),Ce(e,!0)})).catch((function(e){var t=e.message,a=void 0===t?s("Error requesting quotation. Please try again"):t;S(!1),d(a,{variant:"error"})}))}),[s,H,J,p,d,Ce]),xe=!(B&&B.lines&&B.lines.length),Pe=B.paymentModes,we=void 0===Pe?[]:Pe,Ne=!we.includes("paypal"),Ae=!we.includes("paybox"),Ie=!we.includes("stripe"),Se=B.original,Te=(Se=void 0===Se?{}:Se).total,De=void 0===Te?"0.00":Te,Be=B.currency,qe=(Be=void 0===Be?{}:Be).code,Re=void 0===qe?"EUR":qe,Fe="ASy1XUfHggv3ks14uZrSWfIvqzj-L10aqlEANsGXhW1dBeHWCFYSCuw-yFIeUhik8GrUHpzQSq-Lr7lM",Le=Object(n.useCallback)((function(){se(!0)}),[]),Me=Object(n.useMemo)((function(){return{showButton:ee&&!xe&&!Ne&&le,amount:De,onSuccess:Ee,options:{clientId:Fe,merchantId:ee,currency:Re,disableFunding:"card"}}}),[Ee,De,Fe,ee,xe,Re,Ne,le]),ze=Boolean(we&&we.length),We=ze?"":s("Eshop not processing checkout"),_e=Object(n.useMemo)((function(){return{showButton:!le,disabled:xe||!ze,onClick:Le}}),[le,Le,xe,ze]),Qe=Object(n.useMemo)((function(){return{showButton:!Ie&&le,disabled:xe,onClick:ke}}),[xe,ke,Ie,le]),Ue=Object(n.useMemo)((function(){return{showButton:!Ae&&le,disabled:xe,onClick:Oe}}),[xe,Oe,Ae,le]),Ve=Object(n.useMemo)((function(){return{showButton:re&&!le,disabled:xe,onClick:je}}),[re,xe,je,le]);return P?r.a.createElement(O,null):r.a.createElement(xt,{total:B.total,totalTax:B.totalTax,totalDiscount:B.totalDiscount,totalWithoutTax:B.totalWithoutTax,productLines:B.lines,deliveryAddress:H,deliveryAddresses:L,invoicingAddress:J,invoicingAddresses:_,checkingOut:I,summaryMessage:We,PaypalButtonProps:Me,PayboxButtonProps:Ue,PaymentCardButtonProps:Qe,ConfirmOrderButtonProps:_e,RequestQuotationButtonProps:Ve,onNewAddress:ge,onNewProduct:be,onProductDelete:ye,onProductQuantityChange:ve,onDeliveryAddressChange:pe,onInvoicingAddressChange:fe})},Tt=a(134),Dt=a.n(Tt),Bt=a(133),qt=(a(203),Object(p.a)((function(e){return{carousel:{"& li.slide":{backgroundColor:"transparent"}},indicator:{background:"transparent",width:10,height:10,borderRadius:"50%",display:"inline-block",border:"1px solid",borderColor:e.palette.secondary.main,margin:"0 8px",cursor:"pointer"},selected:{backgroundColor:e.palette.secondary.main},image:{height:350,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}})));var Rt=function(e){var t=e.images,a=qt(),n=r.a.useCallback((function(e,t,n,c){return t?r.a.createElement("li",{className:Object(x.a)(a.indicator,a.selected),"aria-label":"Selected: ".concat(c," ").concat(n+1),title:"Selected: ".concat(c," ").concat(n+1)}):r.a.createElement("li",{className:a.indicator,onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,title:"".concat(c," ").concat(n+1),"aria-label":"".concat(c," ").concat(n+1)})}),[a]);return t&&t.length?r.a.createElement(Bt.Carousel,{showStatus:!1,showArrows:!1,showThumbs:!1,swipeable:!0,emulateTouch:!0,renderIndicator:n,className:a.carousel},t.map((function(e,t){return r.a.createElement("div",{key:t,style:{backgroundImage:"url(".concat(e,")")},className:a.image})}))):null},Ft=Object(p.a)((function(e){return{tag:{height:60,borderRadius:4,display:"flex",alignItems:"center",padding:e.spacing(2),backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},tagLabel:{color:"#FFFFFF",fontWeight:"bold"},paper:{padding:e.spacing(2)},productTitle:{fontWeight:"bold"},productCategoryChip:{backgroundColor:e.palette.secondary.light,borderRadius:4,color:e.palette.secondary.main,padding:e.spacing()},productOriginalPrice:{textDecoration:"line-through",color:"#000000"},productPrice:{color:e.palette.secondary.main}}}));function Lt(e){var t=e.product,a=e.quantity,n=e.onQuantityChange,c=e.onAddProduct,o=ot().t,i=Ft(),l=t.unavailable,s=t._displayDiscountPercentage,u=t._displayDiscountPrice,m=l?o("Unavailable"):s?"".concat(s," ").concat(o("Discount")):"",p=t._categories&&t._categories.length?t._categories.map((function(e){return r.a.createElement("span",{className:i.productCategoryChip,key:e.id},e.name)})):null,f=r.a.createElement(N.a,{variant:"h6",className:i.productPrice},r.a.createElement("span",{className:Object(x.a)(Object(d.a)({},i.productOriginalPrice,u))},t._displayPrice),"\xa0",u);return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement("div",{className:i.tag},r.a.createElement(N.a,{className:i.tagLabel,variant:"h5"},m)),r.a.createElement(W,{className:i.paper},r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,{className:i.productTitle,variant:"h4",noWrap:!0},t.name)),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,null,t.description)),r.a.createElement(T.a,{item:!0,xs:12},p),r.a.createElement(T.a,{item:!0,xs:12},f),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(T.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(oe,{name:"quantity",label:o("Quantity"),value:a,disabled:l,moreLabel:o("More"),onChange:n})),r.a.createElement(T.a,{item:!0,xs:12,md:6,align:"center"},r.a.createElement(D.a,{disabled:l,onClick:c,startIcon:r.a.createElement(Dt.a,null)},o("Add to cart"))))))))}Lt.defaultProps={product:{},quantity:1,onQuantityChange:function(){},onAddProduct:function(){}};var Mt=function(e){var t=e.match,a=void 0===t?{}:t,c=e.history,o=a.params,i=(void 0===o?{}:o).productId,l=y(),s=l.cart,d=l.setItem,m=Object(n.useState)(1),p=Object(u.a)(m,2),f=p[0],h=p[1],b=Object(n.useState)(null),g=Object(u.a)(b,2),v=g[0],C=g[1],E=Object(n.useCallback)((function(){var e=s[v.id]||0;d(v.id,e+Number(f))}),[f,v,s,d]),k=Object(n.useCallback)((function(e){return h(Number(e.target.value))}),[]);return Object(n.useEffect)((function(){tt.fetchProduct(i).then((function(e){e&&e.id?C(e):c.replace("/eshop")}))}),[c,i]),v?r.a.createElement(T.a,{container:!0,spacing:1},r.a.createElement(T.a,{item:!0,xs:12,md:3},r.a.createElement(Rt,{images:v.images})),r.a.createElement(T.a,{item:!0,xs:12,md:9},r.a.createElement(Lt,{product:v,quantity:f,onAddProduct:E,onQuantityChange:k}))):null},zt=a(29),Wt=a.n(zt),_t=a(44),Qt=a(136),Ut=a.n(Qt),Vt=a(135),Ht=a.n(Vt),Yt=Object(p.a)((function(e){return{paper:{padding:e.spacing(.5),display:"flex",width:"fit-content",alignItems:"center"}}}));var Xt=function(e){var t=e.onNext,a=e.onPrevious,n=e.label,c=e.disableNext,o=e.disablePrevious,i=Yt();return r.a.createElement("div",{className:i.paper},r.a.createElement(N.a,null,n),"\xa0\xa0",r.a.createElement(B.a,{size:"small",onClick:a,disabled:o},r.a.createElement(Ht.a,null)),"\xa0\xa0",r.a.createElement(B.a,{size:"small",onClick:t,disabled:c},r.a.createElement(Ut.a,null)),"\xa0\xa0")},Gt=a(285),Jt=Object(p.a)((function(e){return{chip:{color:"#616161"},icon:{backgroundColor:"".concat(e.palette.secondary.main,"09")},iconSelected:{color:e.palette.secondary.main},chipSelected:{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light},chipClickable:{"&:focus, &:hover":{backgroundColor:e.palette.secondary.light}}}}));function Zt(e){var t=e.icon,a=e.label,n=e.isSelected,c=e.onClick,o=e.className,i=Jt();return r.a.createElement(Gt.a,{label:a,icon:t&&r.a.createElement(t,{fontSize:"small",classes:{root:Object(x.a)(i.icon,Object(d.a)({},i.iconSelected,n))}}),classes:{root:Object(x.a)(i.chip,Object(d.a)({},i.chipSelected,n),o),clickable:i.chipClickable},onClick:c})}Zt.defaultProps={Icon:function(){return null},onClick:function(){}};var $t=Zt,Kt=Object(p.a)((function(e){return{chipContainer:{display:"flex",flexWrap:"wrap",marginBottom:e.spacing(2)},chip:{margin:e.spacing(.3)}}})),ea=function(e){var t=e.categories,a=e.selectedCategoryId,n=e.onCategoryClick,c=Kt();return r.a.createElement("div",{className:c.chipContainer},t.map((function(e){return r.a.createElement($t,{className:c.chip,key:e.id,label:e.name,isSelected:a===e.id,onClick:function(){return t=e.id,void(n&&n(t));var t}})})))},ta=a(137),aa=a.n(ta),na=Object(p.a)((function(){return{root:{"& svg":{color:"#616161"},"& label.Mui-focused":{color:"#616161"},"& .MuiInput-underline:after, & .MuiInput-underline:before,& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottomColor:"#616161"}}}}));var ra=function(e){var t=na();return r.a.createElement(Q.a,Object.assign({},e,{color:"default",classes:t,variant:"standard",InputProps:{disableUnderline:!1,endAdornment:r.a.createElement(aa.a,null)}}))};var ca=function(e){var t=e.value,a=e.onChange,n=ot().t,c=r.a.useState(t),o=Object(u.a)(c,2),i=o[0],l=o[1],s=function(e,t){var a=r.a.useRef(null),n=function(){return a.current&&clearTimeout(a.current)},c=function(e){return a.current=setTimeout(e,t)};return r.a.useEffect((function(){return function(){return n()}}),[]),function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];n(),c((function(){return e.apply(void 0,a)}))}}(a,300);return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(ra,{name:"search",placeholder:n("Search"),onChange:function(e){var t=e.target.value;l(t),s(t)},value:i}))};var oa=function(e){var t=e.values,a=e.ValueUniqueKey,n=void 0===a?"id":a,c=e.ItemContainerProps,o=void 0===c?{}:c,i=e.noRecordLabel,l=void 0===i?"No record found":i,s=e.renderItem,u=void 0===s?function(){return null}:s;return r.a.createElement(T.a,{container:!0,spacing:3},t&&t.length?t.map((function(e,t){return r.a.createElement(T.a,function(e,t){return Object(h.a)({item:!0,xs:12,sm:4,md:3,key:e[n]||t},o)}(e,t),u(e))})):r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,null,l)))},ia=Object(p.a)((function(e){return{tag:{position:"absolute",padding:e.spacing(.5),backgroundColor:e.palette.secondary.main,color:"#FFFFFF",right:0,bottom:function(t){return e.spacing(2)}}}}));function la(e){var t=e.product,a=ia(),n=ot().t;return t.unavailable?r.a.createElement("div",{className:a.tag},n("Unavailable")):t._displayDiscountPercentage?r.a.createElement("div",{className:a.tag},t._displayDiscountPercentage):null}var sa=Object(p.a)((function(e){return{container:{width:function(e){return e.hasImage?"calc(100% - ".concat(138,"px)"):"100%"},padding:e.spacing(2),overflow:"hidden",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between"},productName:{fontWeight:"bold"},productDescription:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":2,overflow:"hidden"},productPrice:{color:e.palette.secondary.main,marginTop:e.spacing()},productDiscountedDisplayPrice:{textDecoration:"line-through",color:"black"}}}));function ua(e){var t=e.product,a=void 0===t?{}:t,n=a&&a.images&&a.images[0],c=sa({hasImage:n}),o=a._displayDiscountPrice?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:c.productDiscountedDisplayPrice},a._displayPrice),"\xa0\xa0",a._displayDiscountPrice):a._displayPrice;return r.a.createElement("div",{className:c.container},r.a.createElement(N.a,{variant:"h5",className:c.productName,gutterBottom:!0,noWrap:!0},a.name),r.a.createElement(N.a,{variant:"body2",className:c.productDescription,gutterBottom:!0},a.description),r.a.createElement(N.a,{variant:"body2",className:c.productPrice},o))}var da=Object(p.a)((function(){return{productImage:{position:"relative",display:"flex",justifyContent:"center",width:138,overflow:"hidden",flexShrink:0,"& img":{position:"absolute",left:0,right:0,height:"100%"}}}}));function ma(e){var t=e.product,a=da(),n=t&&t.images&&t.images[0];return n?r.a.createElement("div",{className:a.productImage},r.a.createElement("img",{src:n,alt:t.name})):null}var pa=Object(p.a)((function(){return{paper:{height:138,width:"100%",display:"flex",cursor:"pointer",boxSizing:"border-box"}}}));var fa=function(e){var t=e.product,a=void 0===t?{}:t,n=e.onClick,c=pa(),o=r.a.useCallback((function(e){n&&n(e,a.id)}),[n,a]);return r.a.createElement(W,{className:c.paper,onClick:o},r.a.createElement(ua,{product:a}),r.a.createElement(ma,{product:a}),r.a.createElement(la,{product:a}))},ha=Object(p.a)((function(e){return{badge:{color:"white",width:"fit-content",minWidth:18,height:18,fontSize:"0.675rem",borderRadius:20,display:"inline-flex",alignItems:"center",justifyContent:"center",paddingLeft:2,paddingRight:2,boxSizing:"border-box",backgroundColor:e.palette.secondary.main}}}));function ba(e){var t=e.value,a=e.className,n=ha();return r.a.createElement("div",{className:Object(x.a)(n.badge,a)},t)}var ga=Object(p.a)((function(e){return{container:{position:"relative",width:"100%"},badge:{position:"absolute",top:e.spacing(),right:e.spacing(),zIndex:1}}})),va=function(e){var t=e.count,a=void 0===t?0:t,n=Object(j.a)(e,["count"]),c=ga();return r.a.createElement("div",{className:c.container},a?r.a.createElement(ba,{value:a,className:c.badge}):null,r.a.createElement(fa,n))};function ya(e){var t=e.loading,a=e.products,n=e.onClick,c=ot().t;return t?r.a.createElement(O,null):r.a.createElement(oa,{values:a,ItemContainerProps:{md:4},renderItem:function(e){return r.a.createElement(va,{product:e,count:e.count,onClick:n})},noRecordValue:c("No product record found")})}ya.defaultProps={products:[],loading:!1,onClick:function(){}};var Ca=ya;var Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:0,limit:25},t=r.a.useState(e),a=Object(u.a)(t,2),n=a[0],c=a[1],o=r.a.useCallback((function(e){return c((function(t){return Object(h.a)({},t,{page:e})}))}),[]),i=r.a.useCallback((function(){return c((function(e){return Object(h.a)({},e,{page:e.page+1})}))}),[]),l=r.a.useCallback((function(){return c((function(e){return Object(h.a)({},e,{page:e.page-1})}))}),[]),s=r.a.useMemo((function(){return{changePage:o,nextPage:i,previousPage:l}}),[i,l,o]);return[n,s]},ka=Object(p.a)({header:{display:"flex",flexDirection:"column"},filters:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"}}),Oa={id:-1,name:"All"};var ja=function(e){var t=e.match,a=e.history,c=e.location,o=t.url,i=ka(),l=ot().t,s=Ea({limit:25,page:(c.state||{}).page||0}),d=Object(u.a)(s,2),m=d[0],p=d[1],f=m.limit,b=m.page,g=y(),v=g.cart,C=void 0===v?{}:v,E=g.config,k=void 0===E?{}:E,j=Object(n.useState)({products:[],totalProducts:0,loadingProducts:!0}),x=Object(u.a)(j,2),P=x[0],w=P.loadingProducts,A=P.products,I=P.totalProducts,S=x[1],T=Number(c&&c.search&&new URLSearchParams(c.search).get("categoryid")),D=Object(n.useState)({categories:[Oa],selectedCategoryId:T||-1,loadingCategories:!0}),B=Object(u.a)(D,2),q=B[0],R=q.loadingCategories,F=q.categories,L=q.selectedCategoryId,M=B[1],z=Object(n.useState)(void 0),W=Object(u.a)(z,2),_=W[0],Q=W[1],U=Object(n.useCallback)((function(e){p.changePage(e),a.replace({pathname:o,state:{page:e},search:c.search})}),[o,a,c,p]);Object(n.useEffect)((function(){function e(){return(e=Object(_t.a)(Wt.a.mark((function e(){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((function(e){return Object(h.a)({},e,{loadingCategories:!0})})),tt.fetchCategories().then((function(e){M((function(t){return Object(h.a)({},t,{categories:[Oa].concat(e),loadingCategories:!1})}))})).catch((function(){M((function(e){return Object(h.a)({},e,{loadingCategories:!1})}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(_t.a)(Wt.a.mark((function e(){var t,a;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S((function(e){return Object(h.a)({},e,{loadingProducts:!0})})),t={limit:f,page:b+1,searchInput:_},a=function(e){var t=e.data,a=e.total;a<e.offset?U(0):S({products:t.map((function(e){return Object(h.a)({},e,{count:C[e.id]})})),totalProducts:a,loadingProducts:!1})},(-1===L?tt.fetchProducts(t):tt.fetchCategoryProducts(L,t)).then(a).catch((function(){S((function(e){return Object(h.a)({},e,{loadingProducts:!1})}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L,f,b,_,C,U]);var V=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;a.replace({pathname:o,search:"?categoryid=".concat(Number(e))}),p.changePage(0),M((function(t){return Object(h.a)({},t,{selectedCategoryId:Number(e)})}))}),[a,o,p]),H=Object(n.useCallback)((function(e,t){a.push({pathname:"".concat(o,"/product/").concat(t),state:{page:b},search:c.search})}),[a,o,b,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.header},r.a.createElement("div",{className:i.filters},R?r.a.createElement(O,null):r.a.createElement(ea,{categories:F,selectedCategoryId:L,onCategoryClick:V}),r.a.createElement(ca,{value:_,onChange:Q})),r.a.createElement(Xt,{label:"".concat(l("Products")," : ").concat(I?b*f+1:0," to ").concat(Math.min(b*f+f,I)||0," of ").concat(I),onNext:p.nextPage,onPrevious:p.previousPage,disablePrevious:0===b,disableNext:(b+1)*f>=I})),r.a.createElement("div",null,r.a.createElement(N.a,{gutterBottom:!0},r.a.createElement("i",null,"".concat(k.isAti?l("All prices include taxes"):l("All prices are tax free"))))),r.a.createElement(Ca,{loading:w,onClick:H,products:A}))};var xa=function(e){var t=e.match,a=e.history,c=t.path,o=t.url,i=Object(n.useState)(!0),l=Object(u.a)(i,2),d=l[0],m=l[1],p=y(),f=p.clearCart,h=p.setConfig,b=Object(n.useCallback)((function(){a.replace("".concat(o,"/checkout"))}),[a,o]),g=Object(n.useCallback)((function(){a.replace(o)}),[a,o]),v=Object(n.useCallback)((function(e){a.replace("".concat(o,"/checkout/").concat(e))}),[a,o]),C=Object(n.useCallback)((function(){tt.fetchConfiguration().then(h).finally((function(){return m(!1)}))}),[h]);return Object(n.useEffect)((function(){C()}),[C]),d?r.a.createElement(O,null):r.a.createElement(s.g,null,r.a.createElement(s.d,{path:"".concat(c,"/checkout/:messageType"),render:function(e){return r.a.createElement(It,Object.assign({},e,{onSuccessMount:f,onSuccessRedirect:g,onFailureRedirect:b}))}}),r.a.createElement(s.d,{path:"".concat(c,"/checkout"),render:function(e){return r.a.createElement(St,Object.assign({},e,{onRedirectToCheckoutMessage:v}))}}),r.a.createElement(s.d,{path:"".concat(c,"/product/:productId"),component:Mt}),r.a.createElement(s.d,{path:c,component:ja}),r.a.createElement(s.c,{to:c}))};var Pa=function(e){var t=e.match.path;return r.a.createElement(s.g,null,r.a.createElement(s.d,{path:t,component:xa}),r.a.createElement(s.c,{to:t}))},wa=a(78),Na=a.n(wa),Aa=Object(p.a)((function(e){return{paper:{height:138,padding:e.spacing()},action:{display:"flex",justifyContent:"flex-end"}}}));function Ia(e){var t=e.address,a=e.onDelete,n=e.onEdit,c=Aa();return r.a.createElement(W,{className:c.paper},r.a.createElement(T.a,{container:!0,justify:"center",spacing:2},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement("div",{className:c.action},r.a.createElement(B.a,{size:"small",onClick:function(e){return n(e,t)}},r.a.createElement(Na.a,null)),r.a.createElement(B.a,{size:"small",onClick:function(e){return a(e,t)}},r.a.createElement(L.a,null)))),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(N.a,null,t.displayAddress))))}Ia.defaultProps={onDelete:function(){},onEdit:function(){}};var Sa=Ia;function Ta(e){var t=e.addresses,a=e.onDelete,n=e.onEdit,c=ot().t;return r.a.createElement(oa,{values:t,noRecordLabel:c("No record found"),renderItem:function(e){return r.a.createElement(Sa,{address:e,onDelete:a,onEdit:n})}})}Ta.defaultProps={addresses:[],onDelete:function(){}};var Da=Ta,Ba=Object(p.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"}}}));function qa(e){var t=e.onNew,a=e.onEdit,c=Ba(),o=ot().t,i=Object(f.b)().enqueueSnackbar,l=Object(n.useState)({addresses:[],address:null,loading:!0,dialogOpen:!1}),s=Object(u.a)(l,2),d=s[0],m=d.loading,p=d.addresses,b=d.address,g=d.dialogOpen,v=s[1];function y(){v((function(e){return Object(h.a)({},e,{address:null,dialogOpen:!1})}))}return Object(n.useEffect)((function(){tt.fetchAddresses().then((function(e){var t=e.data;v((function(e){return Object(h.a)({},e,{addresses:t,loading:!1})}))})).catch((function(){v((function(e){return Object(h.a)({},e,{loading:!1})}))}))}),[]),m?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.header},r.a.createElement(N.a,{variant:"h5"},o("Addresses")),r.a.createElement(D.a,{className:c.headerAction,onClick:t},o("New address"))),r.a.createElement(Da,{addresses:p,onDelete:function(e,t){v((function(e){return Object(h.a)({},e,{address:t,dialogOpen:!0})}))},onEdit:a}),r.a.createElement(lt,{onConfirm:function(){var e=b.id;tt.deleteAddress(e).then((function(){return function(e){v((function(t){return Object(h.a)({},t,{addresses:p.filter((function(t){return t.id!==e}))})}))}(e)})).catch((function(){i(o("Error"),{variant:"error"})})).finally(y)},onClose:y,title:o("Confirm deletion"),open:g},r.a.createElement("p",null,b&&b.address)))}qa.defaultProps={onNew:function(){},onEdit:function(){}};var Ra=qa,Fa=a(81),La=Object(p.a)((function(e){return{paper:{padding:e.spacing(),overflow:"visible"}}}));function Ma(e){var t=e.errors,a=e.values,n=e.onChange,c=e.onSubmit,o=e.cities,i=e.disabled,l=La(),s=ot().t;return r.a.createElement(W,{className:l.paper},r.a.createElement("form",{onSubmit:c,noValidate:!0},r.a.createElement(T.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"address",label:s("Address"),value:a.address,error:t.address,onChange:n,disabled:i,required:!0})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"addressComplement",label:s("Complement"),value:a.addressComplement,onChange:n,disabled:i})),r.a.createElement(T.a,{item:!0,xs:8},r.a.createElement(ae,{name:"city",label:s("City"),value:a.city,options:o,error:t.city,onChange:n,disabled:i,required:!0})),r.a.createElement(T.a,{item:!0,xs:4},r.a.createElement(Y,{name:"zipCode",label:s("Zip code"),value:a.zipCode,error:t.zipCode,onChange:n,disabled:i})),r.a.createElement(T.a,{item:!0,xs:12,align:"right"},r.a.createElement(D.a,{type:"submit",disabled:i},s("Save"))))))}Ma.defaultProps={errors:{},values:{},cities:[],onChange:function(){},onSubmit:function(){}};var za=Ma;var Wa=function(e){var t=e.redirectToAddressList,a=e.match,c=e.history,o=e.location,i=y(),l=i.setInvoicingAddress,s=i.setDeliveryAddress,d=a.params.addressId,m=Object(f.b)().enqueueSnackbar,p=Object(n.useState)(!0),b=Object(u.a)(p,2),g=b[0],v=b[1],C=Object(n.useState)(!1),E=Object(u.a)(C,2),k=E[0],j=E[1],x=Object(n.useState)([]),P=Object(u.a)(x,2),w=P[0],N=P[1],A=Object(n.useState)(!1),I=Object(u.a)(A,2),S=I[0],D=I[1],B=Object(n.useState)({name:"",personName:"",addressComplement:"",address:"",city:"",zipCode:"",country:"",id:void 0}),q=Object(u.a)(B,2),R=q[0],F=q[1],L=Object(n.useCallback)((function(){var e=o&&o.state&&o.state.fromUrl;e?c.replace(e):t()}),[o,c,t]);function M(e){return z.apply(this,arguments)}function z(){return(z=Object(_t.a)(Wt.a.mark((function e(t){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),(t.id?tt.updateAddress(t.id,t):tt.addAddress(t)).then((function(e){e.id&&(l(e.id),s(e.id))})).then((function(){j(!1),L()})).catch((function(){m(Y("Error"),{variant:"error"}),j(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){d?tt.fetchAddress(d).then((function(e){F(e),v(!1)})).catch(t):v(!1)}),[d,t]),Object(n.useEffect)((function(){tt.fetchCities().then((function(e){N(e.map((function(e){return{label:e.name,value:e.id,zipCode:e.zip,country:e.country&&e.country.id}})))}))}),[]);var W=Object(Fa.a)({validateOnChange:S,initialValues:{name:R.name,personName:R.personName,addressComplement:R.addressComplement,address:R.address,city:R.city,zipCode:R.zipCode,country:R.country,id:R.id},validate:function(e){var t={};return e.address||(t.address="".concat(Y("Address")," ").concat(Y("Required"))),e.city||(t.city="".concat(Y("City")," ").concat(Y("Required"))),t},onSubmit:function(){var e=Object(_t.a)(Wt.a.mark((function e(t){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),_=W.values,Q=W.errors,U=W.handleChange,V=W.handleSubmit,H=W.setValues,Y=ot().t,X=Object(n.useCallback)((function(e){e.preventDefault(),D(!0),V()}),[V]),G=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;if("city"===a){var r=w.find((function(e){return e.value===n}));r&&r.zipCode&&H(Object(h.a)({},_,{city:n,zipCode:r.zipCode,country:r.country}))}else U(e)}),[w,U,_,H]);return g?r.a.createElement(O,null):r.a.createElement(T.a,{container:!0},r.a.createElement(T.a,{item:!0,xs:12,md:3}),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(za,{cities:w,values:_,errors:Q,disabled:k,onSubmit:X,onChange:G})),r.a.createElement(T.a,{item:!0,xs:12,md:3}))};var _a=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:addressId",l=n,u=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){u("".concat(c,"/new"))}),[c,u]),m=r.a.useCallback((function(e,t){u("".concat(c,"/").concat(t.id))}),[c,u]),p=r.a.useCallback((function(){u(c,!0)}),[c,u]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(s.g,null,r.a.createElement(s.d,{path:o,render:f(Wa,{redirectToAddressList:p})}),r.a.createElement(s.d,{path:i,render:f(Wa,{redirectToAddressList:p})}),r.a.createElement(s.d,{path:l,render:f(Ra,{onNew:d,onEdit:m})}),r.a.createElement(s.c,{to:n}))},Qa=a(140),Ua=Object(p.a)((function(e){return{paper:{padding:e.spacing(3)},error:{color:e.palette.error.main}}})),Va=function(e){var t=e.onChange,a=e.inputRef,n=Object(j.a)(e,["onChange","inputRef"]);return r.a.createElement(Qa.a,Object.assign({},n,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},isNumericString:!0}))};function Ha(e){var t=function(e,t){return 1===e.length&&e[0]>t[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>t&&(e=t)),e}(e.substring(0,2),"12"),a=e.substring(2,4);return t+(a.length?"/"+a:"")}function Ya(e){var t=e.errors,a=e.values,n=e.disabled,c=e.onChange,o=e.onSubmit,i=Ua(),l=ot().t;return r.a.createElement(W,{className:i.paper},r.a.createElement("form",{onSubmit:o,noValidate:!0},r.a.createElement(T.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"name",label:l("Name"),disabled:n,value:a.name,error:t.name,onChange:c,required:!0})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(Y,{name:"cardNumber",label:l("Card number"),disabled:n,value:a.cardNumber,error:t.cardNumber,onChange:c,required:!0,InputProps:{inputComponent:Va,inputProps:{format:"#### #### #### ####",placeholder:"1234 1234 1234 1234"}}})),r.a.createElement(T.a,{item:!0,xs:6},r.a.createElement(Y,{name:"expiry",label:l("Expiry"),disabled:n,value:a.expiry,error:t.expiry,onChange:c,required:!0,InputProps:{inputComponent:Va,inputProps:{format:Ha,placeholder:"MM/YY"}}})),r.a.createElement(T.a,{item:!0,xs:6},r.a.createElement(Y,{name:"cvc",label:l("CVC"),disabled:n,value:a.cvc,error:t.cvc,onChange:c,required:!0,InputProps:{inputComponent:Va,inputProps:{format:"####",placeholder:"CVC"}}})),r.a.createElement(T.a,{item:!0,xs:12,align:"right"},r.a.createElement(D.a,{raised:!0,type:"submit",disabled:n},l("Save"))))))}Ya.defaultProps={errors:{},values:{},disabled:!1,onChange:function(){},onSubmit:function(){}};var Xa=Ya;var Ga=function(e){var t=e.redirectToCardList,a=e.match.params.cardId,c=ot().t,o=Object(f.b)().enqueueSnackbar,i=Object(n.useState)(!0),l=Object(u.a)(i,2),s=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),h=p[0],b=p[1],g=Object(n.useState)({name:"",cardNumber:"",expiry:"",cvc:""}),v=Object(u.a)(g,2),y=v[0],C=v[1],E=Object(n.useState)(!1),k=Object(u.a)(E,2),j=k[0],x=k[1];function P(e){return w.apply(this,arguments)}function w(){return(w=Object(_t.a)(Wt.a.mark((function e(a){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),(y.id?tt.updatePaymentCard(y.id,a):tt.addPaymentCard(a)).then((function(){b(!1),t()})).catch((function(e){o(c("Error")+"".concat(e.message?" :  ".concat(e.message):""),{variant:"error"}),b(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(Fa.a)({validateOnChange:j,initialValues:{name:y.name,cardNumber:y.cardNumber,expiry:y.expiry,cvc:y.cvc},validate:function(e){var t={};return e.name||(t.name="".concat(c("Name")," ").concat(c("Required"))),e.cardNumber?e.cardNumber.length<16&&(t.cardNumber="".concat(c("Invalid card number"))):t.cardNumber="".concat(c("Card number")," ").concat(c("Required")),e.expiry?e.expiry.length<4&&(t.expiry="".concat(c("Invalid expiry"))):t.expiry="".concat(c("Expiry")," ").concat(c("Required")),e.cvc?e.cvc.length<3&&(t.cvc="".concat(c("Invalid cvc"))):t.cvc="".concat(c("CVC")," ").concat(c("Required")),t},onSubmit:function(){var e=Object(_t.a)(Wt.a.mark((function e(t){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),A=N.values,I=N.errors,S=N.handleSubmit,D=N.handleChange;Object(n.useEffect)((function(){a?tt.fetchPaymentCard(a).then((function(e){C(e),d(!1)})).catch(t):d(!1)}),[a,t]);var B=Object(n.useCallback)((function(e){e.preventDefault(),x(!0),S()}),[S]);return s?r.a.createElement(O,null):r.a.createElement(T.a,{container:!0},r.a.createElement(T.a,{item:!0,xs:12,md:3}),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(Xa,{values:A,errors:I,disabled:h,onChange:D,onSubmit:B})),r.a.createElement(T.a,{item:!0,xs:12,md:3}))},Ja=a(142),Za=a.n(Ja),$a=a(141),Ka=a.n($a),en=["linear-gradient(to right top, #e186d8, #e575c7, #e763b4, #e9509f, #e83a89, #e72b78, #e51a67, #e10055, #dd0045, #d80035, #d20024, #ca0810)","linear-gradient(to right top, #3dda76, #00d3a0, #00c9c0, #00bcd2, #00aed5, #00a4d4, #089ad2, #228fce, #0f87cf, #027fcf, #0877cf, #1a6ecd)","linear-gradient(to right top, #f2a826, #f09a1d, #ed8b15, #ea7c10, #e76d0e, #e96218, #ea5621, #ea4a29, #ef4038, #f33546, #f52a55, #f62063)","linear-gradient(to right top, #cd26f2, #b320df, #9a19cc, #8211b9, #6b09a6, #5e069e, #510496, #43028e, #3b048f, #310690, #250991, #140b92)"],tn={visa:en[0],mastercard:en[1],"american express":en[2],default:en[3]},an=Object(p.a)((function(e){return{paper:{height:180,display:"flex",cursor:"pointer",flexDirection:"column",justifyContent:"space-between",padding:e.spacing(2),background:function(e){return t=e.brand,tn[t.toLowerCase()]||tn.default;var t},borderRadius:"".concat(e.spacing(3),"px !important")},text:{color:"white",fontWeight:"bold"},number:{letterSpacing:e.spacing(.5)},icon:{color:"#ffc107"}}}));function nn(e){var t=e.card,a=e.isDefault,n=e.onEdit,c=e.onDelete,o=e.onDefault,i=t.brand,l=void 0===i?"":i,s=t.expiryDisplay,u=void 0===s?"":s,d=t.last4,m=void 0===d?"":d,p=an({brand:l}),f=r.a.useCallback((function(e){c(e,t)}),[c,t]),h=r.a.useCallback((function(e){n(e,t)}),[n,t]),b=r.a.useCallback((function(e){o(e,t)}),[o,t]);return r.a.createElement(W,{className:p.paper},r.a.createElement("div",null,r.a.createElement(T.a,{container:!0,justify:"space-between"},r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{variant:"h6",className:p.text,align:"right"},t.brand)),r.a.createElement(T.a,{item:!0},r.a.createElement(B.a,{size:"small",className:p.text,onClick:b},a?r.a.createElement(Ka.a,{className:p.icon}):r.a.createElement(Za.a,{className:p.icon})),r.a.createElement(B.a,{size:"small",className:p.text,onClick:h},r.a.createElement(Na.a,null)),r.a.createElement(B.a,{size:"small",className:p.text,onClick:f},r.a.createElement(L.a,null))))),r.a.createElement("div",null,r.a.createElement(N.a,{className:Object(x.a)(p.text,p.number),align:"center"},r.a.createElement("b",null,"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(m||"\u2022\u2022\u2022\u2022")))),r.a.createElement("div",null,r.a.createElement(T.a,{container:!0,justify:"space-between"},r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{className:p.text},t.name)),r.a.createElement(T.a,{item:!0},r.a.createElement(N.a,{className:p.text},u)))))}nn.defaultProps={card:{},onEdit:function(){},onDelete:function(){}};var rn=nn;function cn(e){var t=e.cards,a=e.defaultCardId,n=e.onDelete,c=e.onEdit,o=e.onDefault,i=ot().t;return r.a.createElement(oa,{values:t,renderItem:function(e){return r.a.createElement(rn,{card:e,onDefault:o,onDelete:n,onEdit:c,isDefault:e.id===a})},noRecordLabel:i("No record found")})}cn.defaultProps={cards:[],onDelete:function(){},onEdit:function(){}};var on=cn,ln=Object(p.a)((function(e){return{header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},headerAction:{fontSize:"0.7rem"}}}));var sn=function(e){var t=e.onNew,a=e.onEdit,c=ot().t,o=ln(),i=Object(f.b)().enqueueSnackbar,l=Object(n.useState)([]),s=Object(u.a)(l,2),d=s[0],m=s[1],p=Object(n.useState)(),h=Object(u.a)(p,2),b=h[0],g=h[1],v=Object(n.useState)(),y=Object(u.a)(v,2),C=y[0],E=y[1],k=Object(n.useState)(!0),j=Object(u.a)(k,2),x=j[0],P=j[1],w=Object(n.useState)(!1),A=Object(u.a)(w,2),I=A[0],S=A[1];function T(){E(null),S(!1)}Object(n.useEffect)((function(){tt.fetchPaymentCards().then((function(e){var t=e.data;tt.fetchDefaultPaymentCard().then((function(e){e.id&&g(e.id),m(t),P(!1)})).catch((function(){m(t),P(!1)}))})).catch((function(){P(!1)}))}),[]);var B=Object(n.useCallback)((function(e,t){var a=t.id;tt.updateDefaultPaymentCard(a).then((function(){g(a)})).catch((function(){i(c("Error"),{variant:"error"})}))}),[i,c]);return x?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.header},r.a.createElement(N.a,{variant:"h5"},c("Credit card")),r.a.createElement(D.a,{className:o.headerAction,onClick:t},c("Add a credit card"))),r.a.createElement(on,{cards:d,defaultCardId:b,onDelete:function(e,t){E(t),S(!0)},onDefault:B,onEdit:a}),r.a.createElement(lt,{onConfirm:function(){var e=C.id;tt.deletePaymentCard(e).then((function(){return function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))}(e)})).catch((function(){i(c("Error"),{variant:"error"})})).finally(T)},onClose:T,title:c("Confirm deletion"),open:I},r.a.createElement("p",null,C&&"\u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  \u2022\u2022\u2022\u2022  ".concat(C.last4))))};var un=function(e){var t=e.match,a=e.history,n=t.path,c=t.url,o=n+"/new",i=n+"/:cardId",l=n,u=r.a.useCallback((function(e,t){(t?a.replace:a.push)(e)}),[a]),d=r.a.useCallback((function(){u("".concat(c,"/new"))}),[c,u]),m=r.a.useCallback((function(e,t){u("".concat(c,"/").concat(t.id))}),[c,u]),p=r.a.useCallback((function(){u(c,!0)}),[c,u]),f=r.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return r.a.createElement(e,Object.assign({},a,t))}}),[]);return r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:o,render:f(Ga,{redirectToCardList:p})}),r.a.createElement(s.d,{exact:!0,path:i,render:f(Ga,{redirectToCardList:p})}),r.a.createElement(s.d,{exact:!0,path:l,render:f(sn,{onNew:d,onEdit:m})}))},dn=a(278),mn=a(279),pn=a(283),fn=a(277),hn=a(273),bn=a(262),gn=a(211),vn=a(276),yn=a(274),Cn=a(275),En=a(144),kn=a.n(En),On=a(145),jn=a.n(On),xn=a(146),Pn=a.n(xn),wn=a(147),Nn=a.n(wn),An=a(148),In=a.n(An),Sn=a(143),Tn=a.n(Sn),Dn=Object(p.a)((function(e){return{root:{color:e.palette.secondary.main}}}));function Bn(e){var t=e.onClick,a=e.size,n=e.className,c=Dn();return r.a.createElement(B.a,{size:a,onClick:t,className:Object(x.a)(c.root,n)},r.a.createElement(Tn.a,null))}Bn.defaultProps={onClick:function(){},size:"medium"};var qn=Bn,Rn=Object(p.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start"}});function Fn(e){var t=e.onBack,a=Rn();return r.a.createElement("div",{className:a.root},r.a.createElement(qn,{onClick:t}))}Fn.defaultProps={onBack:function(){}};var Ln=Object(p.a)((function(e){return{badge:{color:"#FFFFFF",backgroundColor:e.palette.secondary.main}}}));function Mn(e){var t=e.onClick,a=(e.content,Ln()),n=y().cart,c=Object.values(n||{}).reduce((function(e,t){return Number(e)+Number(t)}),0);return r.a.createElement(B.a,{size:"small",onClick:t},r.a.createElement(hn.a,{badgeContent:c,classes:{badge:a.badge}},r.a.createElement(kn.a,null)))}var zn=Object(p.a)((function(e){return{root:{width:"100%",display:"flex",alignItems:"center"},grow:{flexGrow:1},eshopName:{color:e.palette.secondary.main,fontWeight:"bold"},sidebarPaper:{paddingTop:e.spacing(5)},listItem:{"&:hover":{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light,"& .list-icon":{color:e.palette.secondary.main}}}}}));function Wn(e){var t=e.showMenuButton,a=e.showBackButton,c=e.onBack,o=e.onCheckout,i=e.onLinkClick,l=ot().t,s=zn(),d=Object(n.useState)(!1),m=Object(u.a)(d,2),p=m[0],f=m[1],h=Object(n.useCallback)((function(e){f(!1),setTimeout((function(){i(e)}),200)}),[i]),b=[{label:l("Eshop"),Icon:jn.a,onClick:function(){return h("eshop")}},{label:l("Addresses"),Icon:Pn.a,onClick:function(){return h("address")}},{label:l("Payment Cards"),Icon:Nn.a,onClick:function(){return h("payment-card")}}];return r.a.createElement("div",{className:s.root},t&&r.a.createElement(B.a,{onClick:function(){f((function(e){return!e}))}},r.a.createElement(In.a,null)),a&&r.a.createElement(qn,{onClick:c}),"\xa0",r.a.createElement("div",{className:s.grow}),r.a.createElement(Mn,{onClick:o}),r.a.createElement(yn.a,{anchor:"left",open:p,onClose:function(){return f(!1)},ModalProps:{disablePortal:!0},PaperProps:{className:s.sidebarPaper}},r.a.createElement("div",null,r.a.createElement(w,null)),r.a.createElement(bn.a,null,b.map((function(e){var t=e.label,a=e.Icon,n=e.onClick;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(gn.a,{button:!0,key:t,className:s.listItem,onClick:n},r.a.createElement(Cn.a,{className:"list-icon"},r.a.createElement(a,null)),r.a.createElement(vn.a,{primary:t})))})))))}Wn.defaultProps={showBackButton:!0,showMenuButton:!0,onBack:function(){},onCheckout:function(){},onLinkClick:function(){}};var _n=Object(p.a)((function(e){return{container:{display:"flex",alignItems:"center"},tabsIndicator:{backgroundColor:e.palette.secondary.main},tabRoot:{"&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main}},tabSelected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.main},rippleChild:{backgroundColor:e.palette.secondary.main}}}));function Qn(e){var t=e.activeLink,a=e.onClick,n=e.onCheckout,c=ot().t,o=_n();return r.a.createElement("div",{className:o.container},r.a.createElement(pn.a,{value:t,classes:{indicator:o.tabsIndicator}},[{route:"eshop",label:c("Eshop")},{route:"address",label:c("Addresses")},{route:"payment-card",label:c("Payment Cards")}].map((function(e){return r.a.createElement(fn.a,{classes:{root:o.tabRoot,selected:o.tabSelected},key:e.route,label:e.label,value:e.route,onClick:function(){a&&a(e.route)},TouchRippleProps:{classes:{child:o.rippleChild}}})}))),"\xa0",r.a.createElement(Mn,{onClick:n}))}Vn.defaultProps={activeLink:"shop",onClick:function(){}};var Un=Object(p.a)((function(e){return{appbar:{zIndex:1e3,backgroundColor:"#FFFFFF"},toolbar:{width:"100%",height:"100%",margin:"auto",justifyContent:"flex-end",maxWidth:1400+e.spacing(2)}}}));function Vn(e){var t=e.location,a=e.history,c=e.match,o=c.url,i=c.path,l=t.pathname,u=Un(),d=Object(n.useCallback)((function(){return l.includes("eshop/address")?"address":l.includes("eshop/payment-card")?"payment-card":"eshop"}),[l]),m=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eshop";"address"===e?a.push("".concat(i,"/address")):"payment-card"===e?a.push("".concat(i,"/payment-card")):a.push(i)}),[a,i]),p=Object(n.useCallback)((function(){a.push("".concat(o,"/checkout"))}),[a,o]),f=Object(n.useCallback)((function(){a.replace("".concat(o,"/address"))}),[a,o]),h=Object(n.useCallback)((function(){a.replace("".concat(o,"/payment-card"))}),[a,o]),b=Object(n.useCallback)((function(){a.replace({pathname:o,state:t.state,search:t.search})}),[a,o,t]),g=Object(n.useCallback)((function(){var e=t&&t.state&&t.state.fromUrl;e?a.replace(e):f()}),[a,t,f]),v=d();return r.a.createElement(dn.a,{className:u.appbar,position:"relative",color:"default"},r.a.createElement(mn.a,{className:u.toolbar,variant:"dense"},r.a.createElement(s.g,null,r.a.createElement(s.d,{exact:!0,path:i,render:function(e){return r.a.createElement(Qn,Object.assign({},e,{activeLink:v,onClick:m,onCheckout:p}))}}),r.a.createElement(s.d,{exact:!0,path:"".concat(i,"/address"),render:function(e){return r.a.createElement(Qn,Object.assign({},e,{activeLink:v,onClick:m,onCheckout:p}))}}),r.a.createElement(s.d,{path:"".concat(i,"/address/:addressId"),render:function(e){return r.a.createElement(Fn,Object.assign({},e,{onBack:g}))}}),r.a.createElement(s.d,{exact:!0,path:"".concat(i,"/payment-card"),render:function(e){return r.a.createElement(Qn,Object.assign({},e,{activeLink:v,onClick:m,onCheckout:p}))}}),r.a.createElement(s.d,{path:"".concat(i,"/payment-card/:paymentCardId"),render:function(e){return r.a.createElement(Fn,Object.assign({},e,{onBack:h}))}}),r.a.createElement(s.d,{path:"".concat(i,"/checkout/:message"),render:function(e){return null}}),r.a.createElement(s.d,{path:"".concat(i,"/checkout"),render:function(e){return r.a.createElement(Wn,Object.assign({},e,{onBack:b,onCheckout:p,onLinkClick:m,showMenuButton:!1}))}}),r.a.createElement(s.d,{path:"".concat(i,"/product/:productId"),render:function(e){return r.a.createElement(Wn,Object.assign({},e,{onBack:b,onCheckout:p,onLinkClick:m,showMenuButton:!1}))}}))))}Vn.defaultProps={activeLink:"shop",onClick:function(){},onCheckout:function(){}};var Hn=Object(s.o)(Vn),Yn=Object(p.a)((function(e){return{container:Object(d.a)({overflow:"auto",height:function(e){return"calc(100% - ".concat(6*e.theme.spacingUnit,"px)")},padding:function(e){return 3*e.theme.spacingUnit},maxWidth:1400,marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{padding:function(e){return 2*e.theme.spacingUnit}})}}));var Xn=function(e){var t=r.a.useState(!0),a=Object(u.a)(t,2),n=a[0],c=a[1],o=r.a.useState({app:null,user:null}),i=Object(u.a)(o,2),l=i[0],d=i[1],p=l&&l.user&&l.user.language,f=e.match.path,h=Object(m.useTheme)(),b=Yn({theme:h}),g=ot().i18n,v=f+"/address",y=f+"/payment-card",C=f;return r.a.useEffect((function(){tt.fetchInfo().then((function(e){return d(e)})).finally((function(){c(!1)}))}),[]),r.a.useEffect((function(){p&&(c(!0),g.changeLanguage(p).finally((function(){c(!1)})))}),[p,g]),n?r.a.createElement(O,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Hn,null),r.a.createElement("div",{className:b.container},r.a.createElement(s.g,null,r.a.createElement(s.d,{path:v,component:_a}),r.a.createElement(s.d,{path:y,component:un}),r.a.createElement(s.d,{path:C,component:Pa}),r.a.createElement(s.c,{to:{pathname:f}}))))},Gn=a(149),Jn=a(280),Zn={darkBlue:"#293847",grey:"#9E9E9E",green:"#3ECF8E",lightGreen:"rgba(62, 207, 142, 0.1)"},$n=Object(Gn.a)({palette:{primary:{main:Zn.darkBlue},secondary:{light:Zn.lightGreen,main:Zn.green,contrastText:"#FFFFFF"}},overrides:{MuiTypography:{colorTextPrimary:{color:Zn.darkBlue}},MuiButton:{root:{borderRadius:20}}},props:{MuiInput:{disableUnderline:!0},MuiTextField:{variant:"outlined",margin:"dense",fullWidth:!0},MuiButton:{variant:"contained",color:"secondary"}},custom:{COLORS:Zn}});p.a;var Kn=function(e){var t=e.children;return r.a.createElement(Jn.a,{theme:$n},r.a.createElement(i.a,null),t)};var er=function(e){var t=e.children,a=r.a.useMemo((function(){return{vertical:"bottom",horizontal:"left"}}),[]);return r.a.createElement(f.a,{autoHideDuration:3e3,maxSnack:3,anchorOrigin:a},t)};var tr=function(){return r.a.createElement(r.a.Suspense,{fallback:""},r.a.createElement(l.HashRouter,null,r.a.createElement(i.a,null),r.a.createElement(Kn,null,r.a.createElement(ct,null,r.a.createElement(C,null,r.a.createElement(er,null,r.a.createElement(s.g,null,r.a.createElement(s.d,{path:"/eshop",component:Xn}),r.a.createElement(s.c,{to:"/eshop"}))))))))};a(206),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(tr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.a2433c88.chunk.js.map