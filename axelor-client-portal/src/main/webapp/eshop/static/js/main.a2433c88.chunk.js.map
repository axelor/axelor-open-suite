{"version":3,"sources":["Eshop/providers/EshopProvider.js","Eshop/components/Loader.js","Eshop/components/Divider.js","Eshop/components/PriceSummary.js","Eshop/components/Paper.js","Eshop/components/Input.js","Eshop/components/Select.js","Eshop/components/QuantityInput.js","services/RestService.js","Eshop/EshopAPI.js","Eshop/providers/TranslationProvider.js","Eshop/components/ConfirmationDialog.js","Eshop/components/ConfirmationDialogButton.js","Eshop/components/Checkout.js","Eshop/containers/CheckoutMessage.js","Eshop/containers/Checkout.js","Eshop/components/Carousel.js","Eshop/containers/ProductView.js","Eshop/components/Pagination.js","Eshop/components/Chip.js","Eshop/components/CategoryList.js","Eshop/components/SearchInput.js","Eshop/components/ProductSearch.js","Eshop/components/List.js","Eshop/components/ProductCard.js","Eshop/components/CatalogProductCard.js","Eshop/components/ProductList.js","Eshop/hooks/usePagination.js","Eshop/containers/ProductList.js","Eshop/containers/EshopView.js","Eshop/pages/Eshop.js","Eshop/components/AddressCard.js","Eshop/components/AddressList.js","Eshop/containers/AddressList.js","Eshop/components/AddressForm.js","Eshop/containers/AddressForm.js","Eshop/pages/Address.js","Eshop/components/PaymentCardForm.js","Eshop/containers/PaymentCardForm.js","Eshop/components/PaymentCard.js","Eshop/components/PaymentCardList.js","Eshop/containers/PaymentCardList.js","Eshop/pages/PaymentCard.js","Eshop/components/BackButton.js","Eshop/containers/Topbar.js","Eshop/EshopApp.js","Eshop/providers/ThemeProvider.js","Eshop/providers/SnackbarProvider.js","Eshop/index.js","serviceWorker.js","index.js"],"names":["getLocalStorageItem","key","defaultValue","JSON","parse","localStorage","getItem","err","setLocalStorageItem","value","setItem","stringify","EshopContext","React","createContext","useEshop","useContext","EshopProvider","props","children","useState","cart","config","checkoutAddresses","setStore","setCart","useCallback","store","setCheckoutAddresses","setConfig","clearCart","productId","qty","setInvoicingAddress","addressId","setDeliveryAddress","clearItem","useEffect","Object","keys","length","setLocalStorageCart","state","useMemo","Provider","useStyles","makeStyles","theme","root","height","width","position","display","justifyContent","alignItems","top","color","bottom","palette","secondary","main","animationDuration","Loader","classes","className","CircularProgress","variant","size","thickness","disableShrink","divider","borderColor","Divider","rest","clsx","row","marginBottom","spacing","PriceSummary","total","totalLabel","totalWithoutTax","totalDiscount","totalWithoutTaxLabel","totalTax","totalTaxLabel","totalDiscountLabel","Typography","defaultProps","withStyles","overflow","backgroundColor","borderRadius","elevation1","boxShadow","Paper","useInputStyles","border","transition","transitions","create","fade","disabled","focused","useInputLabelStyles","whiteSpace","textOverflow","maxWidth","error","asterisk","filled","Input","forwardRef","ref","readOnly","InputProps","inputClasses","inputLabelClasses","TextField","margin","fullWidth","InputLabelProps","shrink","disableUnderline","Boolean","helperText","useSelectStyles","useMenuStyles","paper","maxHeight","useMenuItemStyles","light","selected","usePopoverClasses","Select","options","useTheme","fullScreen","useMediaQuery","breakpoints","down","selectClasses","menuClasses","menuItemClasses","popoverClasses","select","SelectProps","MenuProps","anchorReference","PopoverClasses","BackdropProps","invisible","map","option","MenuItem","label","input","MozAppearance","WebkitAppearance","QuantityInput","maxItems","moreLabel","name","onChange","moreThanMax","setMoreThanMax","inputRef","useRef","current","focus","handleMoreThanMax","handleChange","e","target","document","activeElement","blur","inputProps","type","min","Array","i","lastCookieString","lastCookies","readCookie","cookieString","cookie","split","reduce","obj","parts","AxelorRest","http","entity","this","data","put","post","id","delete","records","version","get","fieldName","baseURL","interceptor","instance","axios","console","log","callback","includes","url","overrideHeaders","headers","$headers","token","withCredentials","assign","accept","method","_config","doRequest","request","timeoutRequest","delay","Promise","resolve","reject","setTimeout","Error","race","then","res","status","catchError","logout","catch","bind","intercept","username","password","isAuth","undefined","appUser","app","description","user","code","language","email","info","xhr","XMLHttpRequest","doClean","open","forEach","k","setRequestHeader","overrideMimeType","onload","abort","onreadystatechange","readyState","callbackInterceptor","result","responseText","upload","onprogress","fileSize","parseFloat","loaded","done","Math","round","progress","transfer","format","toFixed","formatSize","lengthComputable","send","getMetafileURL","metafileId","RestService","defaults","handleResponse","message","handleProductInformation","product","hasPictures","_pictures","images","handleImageURL","symbol","_currency","_previousPrice","_displayPrice","_displayDiscountPrice","_price","handleDisplayPrice","_discount","_displayDiscountPercentage","handleDiscount","productTypeSelect","Number","_realQty","unavailable","handleUnavailablity","handlePaginationTypeDataResponse","handleEmptyObjectDataReponse","handleEmptyArrayDataResponse","handleUndefinedDataResponse","getDisplayAddress","addressEntity","address","addressComplement","zipCode","countryName","cityName","point","addSuffix","str","suffix","withSpace","getPurchaseCurrencySymbol","currency","handleCheckoutInformation","checkout","currencySymbol","addCurrencySymbol","mapCurrencySymbol","invoicingAddress","getInverseMappedAddress","mainInvoicingAddress","deliveryAddress","displayAddress","date","checkoutDate","inTaxTotal","taxTotal","exTaxTotal","_discountTotal","lines","line","productName","unitPrice","price","vat","taxLine","discount","getLines","saleOrderLineList","itemsChanged","original","paymentModes","mapCheckout","handleCheckoutItemChange","filter","handleReturnDataFromResponse","handleTransformDataResponse","transform","handleAddDisplayAddress","handleTransformProductsInformation","products","handleTransformCardsInformation","cards","handleCardInformation","handleTransformInverseMapAddress","addresses","handleTransformDisplayAddress","manageQueryString","query","qs","getQueryString","getMappedAddress","addressL4","addressL2","zip","cityId","city","addressL7CountryId","country","addressL7Country","createCheckoutOrderData","deliveryAddressId","mainInvoicingAddressId","_cart","push","quantity","card","expiry","brand","expiryMonth","slice","expiryYear","expiryDisplay","cardNumber","last4","String","fetchProducts","URL","fetchProduct","fetchCategories","fetchCategoryProducts","categoryId","fetchAddresses","fetchAddress","addAddress","deleteAddress","updateAddress","fetchCities","checkCart","payload","checkoutPaypal","paypalPaymentData","orderData","paypalOrderId","_orderData","checkoutPaybox","redirectURL","window","location","href","successURL","failureURL","checkoutPaymentCard","cardId","checkoutQuotation","fetchPaymentCards","fetchPaymentCard","addPaymentCard","updatePaymentCard","deletePaymentCard","fetchDefaultPaymentCard","updateDefaultPaymentCard","fetchPaypalMerchantId","fetchTranslations","isArray","acc","fetchConfiguration","isQuotationRequestActive","fetchInfo","checkInfo","translations","en","fr","i18n","i18next","createInstance","lng","navigator","use","initReactI18next","Backend","LanguageDetector","init","fallbackLng","interpolation","escapeValue","backend","lang","exec","groups","getLanguageFromURL","defaultTranslations","EshopAPI","removeEmptyTranslation","keySeparator","TranslationProvider","I18nextProvider","useTranslation","i18nextUseTranslation","ConfirmationDialog","t","onClose","onConfirm","onCancel","title","Dialog","DialogTitle","DialogContent","DialogActions","Button","onClick","ConfirmationDialogButton","ButtonProps","DialogProps","dialogOpen","setDialogOpen","handleOpenDialog","handleCloseDialog","handleConfirm","RequestQuotationButton","ConfirmOrderButton","usePayboxButtonStyles","button","PayboxButton","PaymentCardButton","showButton","useCheckoutPriceSummaryStyles","padding","actionWrapper","flexDirection","marginTop","actionTitle","action","CheckoutSummary","PaypalButtonProps","PayboxButtonProps","RequestQuotationButtonProps","PaymentCardButtonProps","ConfirmOrderButtonProps","style","shape","useCheckoutAddressStyles","container","header","headerAction","fontSize","CheckoutAddress","deliveryAddresses","invoicingAddresses","onNewAddress","onDeliveryAddressChange","onInvoicingAddressChange","Grid","item","xs","md","required","CheckoutProductQuantityInput","setQty","overrideInput","qtyNumber","handleQtyChange","handleQtyBlur","onBlur","useCheckoutProductLinesStyles","CheckoutProductLines","onNewProduct","onProductQuantityChange","onProductDelete","index","zeroMinWidth","noWrap","align","IconButton","backdrop","zIndex","appBar","Checkout","productLines","checkingOut","summaryMessage","deleteDialogStore","setDeleteDialogStore","handleDeleteDialogClose","handleDeleteDialogOpen","handleProductDelete","Backdrop","MESSAGE_TYPE","useCheckoutMessageContainerStyles","minHeight","success","failure","CheckoutMessageContainer","match","onSuccessRedirect","onFailureRedirect","onSuccessMount","params","messageType","successMessage","successButtonLabel","failureMessage","failureButtonLabel","content","CheckoutContainer","history","onRedirectToOrder","onRedirectToQuotation","onRedirectToCheckoutMessage","enqueueSnackbar","useSnackbar","setStorageInvoicingAddress","setStorageDeliveryAddress","loading","setLoading","setCheckingOut","setCheckout","setDeliveryAddresses","setInvoicingAddresses","paypalMerchantId","setPaypalMerchantId","canRequestQuotation","setCanRequestQuotation","confirmOrder","setConfirmOrder","getAddressById","find","toString","manageAddress","setAddress","merchantId","fetchCheckoutData","hasZeroQuantity","l","updatedCart","cartQty","handleAddressChange","cb","handleDeliveryAddressChange","handleInvoicingAddressChange","handleEshopRedirection","replace","handleNewProduct","handleNewAddress","pathname","fromUrl","handleProductQuantityChange","handleCheckoutAction","order","isQuotation","handlePaypalCheckout","handlePaymentCardCheckout","CheckoutMessageType","handlePayboxCheckout","link","createElement","click","handleCheckoutQuotation","quotation","disableCheckoutAction","hidePaypalButton","hidePayboxButton","hideCreateOrderButton","originalTotal","currencyCode","paypalClientId","process","handleConfirmOrder","amount","onSuccess","clientId","disableFunding","checkoutEnabled","carousel","indicator","background","cursor","image","backgroundPosition","backgroundRepeat","backgroundSize","Carousel","renderIndicator","onClickHandler","isSelected","aria-label","onKeyDown","role","tabIndex","showStatus","showArrows","showThumbs","swipeable","emulateTouch","backgroundImage","useProductInformationStyles","tag","tagLabel","fontWeight","productTitle","productCategoryChip","productOriginalPrice","textDecoration","productPrice","ProductInformation","onQuantityChange","onAddProduct","isUnavailable","discountPercentage","discountedPrice","categories","_categories","category","startIcon","ProductView","setQuantity","setProduct","handleAddProduct","handleQuantityChange","Pagination","onNext","onPrevious","disableNext","disablePrevious","chip","icon","iconSelected","chipSelected","chipClickable","Chip","Icon","clickable","chipContainer","flexWrap","selectedCategoryId","onCategoryClick","borderBottomColor","SearchInput","endAdornment","valueProp","setValue","debounceChange","duration","timer","clearTimer","clearTimeout","setTimer","args","useDebounce","onSubmit","preventDefault","placeholder","List","values","ValueUniqueKey","ItemContainerProps","noRecordLabel","renderItem","sm","getItemContainerProps","useProductTagStyles","right","ProductTag","useProductInformation","hasImage","boxSizing","productDescription","productDiscountedDisplayPrice","gutterBottom","useProductImageStyles","productImage","flexShrink","left","ProductImage","src","alt","ProductCard","handleClick","useBadgeStyles","badge","minWidth","paddingLeft","paddingRight","Badge","count","ProductList","CatalogProductCard","noRecordValue","usePagination","page","limit","changePage","nextPage","previousPage","paginationHandler","filters","ALL_CATEGORY","ProductListContainer","paginationStore","totalProducts","loadingProducts","setProductsStore","previouslySetCategoryId","search","URLSearchParams","loadingCategories","setCategoriesStore","searchInput","setSearchInput","handleChangePage","a","concat","handleResult","offset","handleCategoryClick","chipId","handleProductClick","CategoryList","ProductSearch","isAti","EshopViewContainer","path","handleRedirectToCheckout","handleRedirectToEshop","handleRedirectToCheckoutMessage","finally","render","CheckoutMessage","component","ProductViewContainer","to","Eshop","AddressCard","onDelete","onEdit","justify","AddressList","AddressListContainer","onNew","handleCloseDeleteDialog","handleRemoveAddressFromList","AddressForm","errors","cities","noValidate","AddressFormContainer","redirectToAddressList","saving","setSaving","setCities","validateOnChange","setValidateOnChange","personName","handleRedirectAfterSave","handleSubmitAddress","useFormik","initialValues","validate","enableReinitialize","handleChangeFormik","handleSubmitFormik","handleSubmit","setValues","Address","newAddressPath","editAddressPath","addressListPath","handleRedirect","redirectToNewAddress","redirectToEditAddress","withRouterProps","Component","routerProps","MaskInput","other","getInputRef","onValueChange","isNumericString","cardExpiry","val","month","max","substring","year","PaymentCardForm","inputComponent","cvc","raised","PaymentCardFormContainer","redirectToCardList","setCard","handleSubmitPaymentCard","backgrounds","cardBrandBackground","visa","mastercard","default","toLowerCase","text","number","letterSpacing","PaymentCard","isDefault","onDefault","handleDelete","handleEdit","handleDefault","PaymentCardList","defaultCardId","usePaymentCardListStyles","PaymentCardListContainer","setCards","defaultPaymentCardId","setDefaultPaymentCardId","deleteDialogOpen","setDeleteDialogOpen","handleUpdateDefaultCard","handleRemoveCardFromList","newPaymentCardPath","editPaymentCardPath","paymentCardListPath","redirectToNewCard","redirectToEditCard","exact","useBackButtonStyles","BackButton","useClientToolbarStyles","ClientToolbar","onBack","useShoppingCartStyles","ShoppingCart","cartLength","b","badgeContent","useEshopToolbarStyles","grow","flexGrow","eshopName","sidebarPaper","paddingTop","listItem","EshopToolbar","showMenuButton","showBackButton","onCheckout","onLinkClick","sideBarOpen","setSideBarOpen","handleLinkClick","links","ShoppingBasketIcon","AddressIcon","PaymentCardIcon","Drawer","anchor","ModalProps","disablePortal","PaperProps","Fragment","ListItem","ListItemIcon","ListItemText","primary","useGeneralToolbarStyles","tabsIndicator","tabRoot","tabSelected","rippleChild","GeneralToolbar","activeLink","Tabs","route","Tab","TouchRippleProps","child","Topbar","appbar","toolbar","getActiveLink","handleCheckout","handleRedirectToAddressList","handleRedirectToPaymentCardList","handleAddressFormOnBack","AppBar","Toolbar","withRouter","spacingUnit","marginRight","marginLeft","EshopContainer","setData","userLanguage","addressPath","paymentCardPath","eshopPath","changeLanguage","COLORS","darkBlue","grey","green","lightGreen","createMuiTheme","contrastText","overrides","MuiTypography","colorTextPrimary","MuiButton","MuiInput","MuiTextField","custom","muiMakeStyles","ThemeProvider","CssBaseline","SnackbarProvider","anchorOrigin","vertical","horizontal","autoHideDuration","maxSnack","Suspense","fallback","EshopApp","hostname","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a2433c88.chunk.js","sourcesContent":["import React, {\n  useCallback,\n  useState,\n  useMemo,\n  useEffect,\n  useContext,\n} from 'react';\n\nexport const LOCAL_STORAGE_CART = 'cart';\nexport const LOCAL_STORAGE_ADDRESS = 'address';\nexport const LOCAL_STORAGE_INVOICING_ADDRESS = 'invoicing';\nexport const LOCAL_STORAGE_DELIVERY_ADDRESS = 'delivery';\n\nfunction getLocalStorageItem(key, defaultValue = {}) {\n  try {\n    return JSON.parse(localStorage.getItem(key)) || defaultValue;\n  } catch (err) {\n    return defaultValue;\n  }\n}\n\nfunction setLocalStorageItem(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getLocalStorageCart() {\n  return getLocalStorageItem(LOCAL_STORAGE_CART);\n}\n\nfunction setLocalStorageCart(cart) {\n  setLocalStorageItem(LOCAL_STORAGE_CART, cart);\n}\n\nfunction getLocalStorageAddress() {\n  return getLocalStorageItem(LOCAL_STORAGE_ADDRESS);\n}\n\nfunction setLocalStorageAddress(address) {\n  setLocalStorageItem(LOCAL_STORAGE_ADDRESS, address);\n}\n\nconst EshopContext = React.createContext();\n\nfunction EshopProvider(props) {\n  const { children } = props;\n\n  const [{ cart, config, checkoutAddresses }, setStore] = useState({\n    cart: {},\n    config: {},\n    checkoutAddresses: {},\n  });\n\n  const setCart = useCallback((cart) => {\n    setStore((store) => ({ ...store, cart }));\n  }, []);\n\n  const setCheckoutAddresses = useCallback((checkoutAddresses) => {\n    setStore((store) => ({ ...store, checkoutAddresses }));\n  }, []);\n\n  const setConfig = useCallback(\n    (config) => setStore((store) => ({ ...store, config })),\n    []\n  );\n\n  const clearCart = useCallback(() => {\n    setCart({});\n  }, [setCart]);\n\n  const setItem = useCallback((productId, qty) => {\n    setStore((store) => {\n      return { ...store, cart: { ...store.cart, [productId]: qty } };\n    });\n  }, []);\n\n  const setInvoicingAddress = useCallback((addressId) => {\n    setStore((store) => {\n      return {\n        ...store,\n        checkoutAddresses: {\n          ...store.checkoutAddresses,\n          [LOCAL_STORAGE_INVOICING_ADDRESS]: addressId,\n        },\n      };\n    });\n  }, []);\n\n  const setDeliveryAddress = useCallback((addressId) => {\n    setStore((store) => {\n      return {\n        ...store,\n        checkoutAddresses: {\n          ...store.checkoutAddresses,\n          [LOCAL_STORAGE_DELIVERY_ADDRESS]: addressId,\n        },\n      };\n    });\n  }, []);\n\n  const clearItem = useCallback((productId) => {\n    setStore((store) => {\n      const cart = { ...store.cart };\n      delete cart[productId];\n      return { ...store, cart };\n    });\n  }, []);\n\n  useEffect(() => {\n    const cart = getLocalStorageCart();\n    const checkoutAddresses = getLocalStorageAddress();\n\n    if (cart && Object.keys(cart).length > 0) {\n      setCart(cart); // Validate for quantity if required\n    } else {\n      setCart({});\n    }\n\n    if (checkoutAddresses && Object.keys(checkoutAddresses).length > 0) {\n      setCheckoutAddresses(checkoutAddresses);\n    } else {\n      setCheckoutAddresses({});\n    }\n  }, [setCart, setCheckoutAddresses]);\n\n  useEffect(() => {\n    if (cart) {\n      setLocalStorageCart(cart);\n    }\n  }, [cart]);\n\n  useEffect(() => {\n    if (checkoutAddresses && Object.keys(checkoutAddresses).length) {\n      setLocalStorageAddress(checkoutAddresses);\n    }\n  }, [checkoutAddresses]);\n\n  const state = useMemo(\n    () => ({\n      cart,\n      checkoutAddresses,\n      config,\n      setCart,\n      clearCart,\n      setConfig,\n      setItem,\n      clearItem,\n      setInvoicingAddress,\n      setDeliveryAddress,\n    }),\n    [\n      cart,\n      checkoutAddresses,\n      config,\n      setCart,\n      clearCart,\n      setConfig,\n      setItem,\n      clearItem,\n      setInvoicingAddress,\n      setDeliveryAddress,\n    ]\n  );\n\n  return (\n    <EshopContext.Provider value={state}>{children}</EshopContext.Provider>\n  );\n}\n\nexport function useEshop() {\n  return useContext(EshopContext);\n}\n\nexport default EshopProvider;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: 'inherit',\n    width: 'inherit',\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  top: {\n    color: '#eef3fd',\n  },\n  bottom: {\n    color: theme.palette.secondary.main,\n    animationDuration: '250ms',\n    position: 'absolute',\n  },\n}));\n\nfunction Loader(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress\n        variant=\"determinate\"\n        value={100}\n        className={classes.top}\n        size={24}\n        thickness={4}\n        {...props}\n      />\n      <CircularProgress\n        variant=\"indeterminate\"\n        disableShrink\n        className={classes.bottom}\n        size={24}\n        thickness={4}\n        {...props}\n      />\n    </div>\n  );\n}\n\nexport default Loader;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  divider: {\n    borderColor: theme.palette.secondary.main,\n  },\n}));\n\nfunction Divider(props) {\n  const { className, ...rest } = props;\n\n  const classes = useStyles();\n\n  return <hr className={clsx(classes.divider, className)} {...rest} />;\n}\n\nexport default Divider;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Divider from './Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    display: 'flex',\n    marginBottom: theme.spacing(0.5),\n    justifyContent: 'space-between',\n  },\n}));\n\nfunction PriceSummary(props) {\n  const {\n    total,\n    totalLabel,\n    totalWithoutTax,\n    totalDiscount,\n    totalWithoutTaxLabel,\n    totalTax,\n    totalTaxLabel,\n    totalDiscountLabel,\n    divider,\n    className,\n  } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={className}>\n      {divider && <Divider />}\n      <div className={classes.row}>\n        <Typography>{totalWithoutTaxLabel}</Typography>\n        <Typography>{totalWithoutTax}</Typography>\n      </div>\n      <div className={classes.row}>\n        <Typography>{totalDiscountLabel}</Typography>\n        <Typography>{totalDiscount}</Typography>\n      </div>\n      <div className={classes.row}>\n        <Typography>{totalTaxLabel}</Typography>\n        <Typography>{totalTax}</Typography>\n      </div>\n      {divider && <Divider />}\n      <div className={classes.row}>\n        <Typography>\n          <b>{totalLabel}</b>\n        </Typography>\n        <Typography>\n          <b>{total}</b>\n        </Typography>\n      </div>\n    </div>\n  );\n}\n\nPriceSummary.defaultProps = {\n  divider: true,\n  total: '0.00',\n  totalTax: '0.00',\n  totalWithoutTax: '0.00',\n  totalDiscount: '0.00',\n  totalLabel: 'Total',\n  totalTaxLabel: 'Total Tax',\n  totalWithoutTaxLabel: 'Total Without Tax',\n  totalDiscountLabel: 'Total Discount',\n};\n\nexport default PriceSummary;\n","import Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\n\nexport default withStyles(() => ({\n  root: {\n    position: 'relative',\n    width: '100%',\n    overflow: 'hidden',\n    backgroundColor: '#ffffff',\n    borderRadius: 4,\n  },\n  elevation1: {\n    boxShadow: `0px 0px 30px rgba(0,0,0,0.15)`,\n  },\n}))(Paper);\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles, fade } from '@material-ui/core/styles';\n\nconst useInputStyles = makeStyles((theme) => ({\n  root: {\n    border: '1px solid #E2E2E1',\n    overflow: 'hidden',\n    borderRadius: 4,\n    backgroundColor: 'white',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    '&$disabled': {\n      backgroundColor: '#FCFCFB',\n    },\n    '&:hover': {\n      backgroundColor: '#FFFFFF',\n    },\n    '&$focused': {\n      backgroundColor: '#FFFFFF',\n      boxShadow: `${fade(theme.palette.secondary.main, 0.25)} 0 0 0 1px`,\n      borderColor: theme.palette.secondary.main,\n    },\n  },\n  disabled: {},\n  focused: {},\n}));\n\nconst useInputLabelStyles = makeStyles((theme) => ({\n  root: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    maxWidth: '100%',\n    '&$filled': {\n      transition: theme.transitions.create(['color']),\n      '&$focused': {\n        color: theme.palette.secondary.main,\n      },\n    },\n  },\n  error: {},\n  asterisk: {},\n  focused: {},\n  filled: {},\n}));\n\nconst Input = React.forwardRef((props, ref) => {\n  const { error, readOnly, InputProps, ...rest } = props;\n  const inputClasses = useInputStyles();\n  const inputLabelClasses = useInputLabelStyles();\n  return (\n    <TextField\n      margin=\"dense\"\n      ref={ref}\n      variant=\"filled\"\n      fullWidth\n      {...rest}\n      InputLabelProps={{ shrink: true, classes: inputLabelClasses }}\n      InputProps={{\n        readOnly,\n        disableUnderline: true,\n        classes: inputClasses,\n        ...(InputProps || {}),\n      }}\n      error={Boolean(error)}\n      helperText={error}\n    />\n  );\n});\n\nexport default Input;\n","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Input from './Input';\n\nconst useSelectStyles = makeStyles(() => ({\n  root: {\n    '&:focus': {\n      backgroundColor: 'white',\n    },\n  },\n}));\n\nconst useMenuStyles = makeStyles(() => ({\n  paper: {\n    maxHeight: 400,\n  },\n}));\n\nconst useMenuItemStyles = makeStyles((theme) => ({\n  root: {\n    '&$selected': {\n      color: theme.palette.secondary.main,\n      backgroundColor: theme.palette.secondary.light,\n    },\n    '&:hover': {\n      color: theme.palette.secondary.main,\n      backgroundColor: theme.palette.secondary.light,\n    },\n  },\n  selected: {},\n}));\n\nconst usePopoverClasses = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  paper: {\n    width: '90%',\n    maxWidth: 400,\n  },\n}));\n\nfunction Select(props) {\n  const { options, ...rest } = props;\n\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const selectClasses = useSelectStyles();\n  const menuClasses = useMenuStyles();\n  const menuItemClasses = useMenuItemStyles();\n  const popoverClasses = usePopoverClasses();\n\n  return (\n    <Input\n      select\n      SelectProps={{\n        classes: selectClasses,\n        MenuProps: {\n          classes: menuClasses,\n          ...(fullScreen\n            ? {\n                anchorReference: 'none',\n                PopoverClasses: popoverClasses,\n                BackdropProps: { invisible: false },\n              }\n            : {}),\n        },\n      }}\n      {...rest}\n    >\n      {options.map((option) => (\n        <MenuItem\n          key={option.value}\n          value={option.value}\n          classes={menuItemClasses}\n        >\n          {option.label}\n        </MenuItem>\n      ))}\n    </Input>\n  );\n}\n\nSelect.defaultProps = {\n  options: [],\n};\n\nexport default Select;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Input from './Input';\nimport Select from './Select';\n\nconst useStyles = makeStyles(() => ({\n  input: {\n    '&[type=number]': {\n      MozAppearance: 'textfield',\n      '&::-webkit-outer-spin-button, &::-webkit-inner-spin-button': {\n        WebkitAppearance: 'none',\n        margin: 0,\n      },\n    },\n  },\n}));\n\nconst QuantityInput = ({\n  maxItems,\n  moreLabel,\n  name,\n  onChange,\n  value,\n  ...props\n}) => {\n  const [moreThanMax, setMoreThanMax] = React.useState(value > maxItems);\n  const inputRef = React.useRef();\n  const classes = useStyles();\n\n  React.useEffect(() => {\n    if (moreThanMax) {\n      inputRef.current.focus();\n    }\n  }, [moreThanMax]);\n\n  const handleMoreThanMax = React.useCallback(() => {\n    setMoreThanMax(true);\n  }, []);\n\n  const handleChange = React.useCallback(\n    (e) => {\n      if (e.target.value === 'more') {\n        handleMoreThanMax();\n        onChange({ target: { value: maxItems, name } });\n      } else {\n        onChange(e);\n        if (!moreThanMax) {\n          // remove focus to delay selection lag\n          document.activeElement &&\n            document.activeElement.blur &&\n            document.activeElement.blur();\n        }\n      }\n    },\n    [handleMoreThanMax, moreThanMax, onChange, maxItems, name]\n  );\n\n  if (moreThanMax) {\n    return (\n      <Input\n        ref={inputRef}\n        // InputProps={{\n        inputProps={{\n          className: classes.input,\n        }}\n        // }}\n        onChange={handleChange}\n        name={name}\n        value={value}\n        {...props}\n        type=\"number\"\n        min={1}\n      />\n    );\n  } else {\n    return (\n      <Select\n        name={name}\n        options={[\n          ...[...Array(maxItems).keys()].map((i) => ({\n            value: i + 1,\n            label: i + 1,\n          })),\n          { value: 'more', label: moreLabel },\n        ]}\n        onChange={handleChange}\n        value={value}\n        {...props}\n      />\n    );\n  }\n};\n\nQuantityInput.defaultProps = {\n  maxItems: 10,\n  moreLabel: 'More',\n};\n\nexport default QuantityInput;\n","import axios from 'axios';\n\nlet lastCookieString;\nlet lastCookies = {};\n\nexport function readCookie(name) {\n  let cookieString = document.cookie || '';\n  if (cookieString !== lastCookieString) {\n    lastCookieString = cookieString;\n    lastCookies = cookieString.split('; ').reduce((obj, value) => {\n      let parts = value.split('=');\n      obj[parts[0]] = parts[1];\n      return obj;\n    }, {});\n  }\n  return lastCookies[name];\n}\n\nexport class AxelorRest {\n  constructor(http, entity) {\n    this.http = http;\n    this.entity = entity;\n  }\n\n  insert(data) {\n    return this.http.put('/ws/rest/' + this.entity, data);\n  }\n\n  update(data) {\n    return this.http.post('/ws/rest/' + this.entity, data);\n  }\n\n  delete(id) {\n    return this.http.delete('/ws/rest/' + this.entity + '/' + id);\n  }\n\n  deleteAll(records) {\n    return this.http.post(`/ws/rest/${this.entity}/removeAll`, {\n      records: records.map(({ id, version }) => ({ id, version })),\n    });\n  }\n\n  fetch(id, options) {\n    return this.http.post(\n      '/ws/rest/' + this.entity + '/' + id + '/fetch',\n      options\n    );\n  }\n\n  copy(id, options) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/copy',\n      options\n    );\n  }\n\n  details(id, fieldName) {\n    return this.http.get(\n      '/ws/rest/' + this.entity + '/' + id + '/details?name=' + fieldName\n    );\n  }\n\n  search(options = {}) {\n    return this.http.post(\n      '/ws' + (this.entity ? `/rest/${this.entity}` : '') + '/search',\n      options\n    );\n  }\n}\n\nexport class Http {\n  constructor({ baseURL = '/' } = {}, interceptor = null) {\n    this.instance = axios.create({\n      baseURL,\n    });\n    this.interceptor = interceptor;\n  }\n\n  catchError(e) {\n    console.log('catch error', e);\n    if (this.callback) {\n      this.callback(e);\n    } else if (`${e}`.includes('401')) {\n      // window.location.reload();\n    }\n  }\n\n  request(url, data = {}, config = {}, overrideHeaders) {\n    const {\n      headers: $headers = {},\n      token = true,\n      withCredentials = true,\n    } = config;\n    const headers = {\n      ...(token ? { 'X-CSRF-Token': readCookie('CSRF-TOKEN') } : {}),\n      ...(overrideHeaders ||\n        Object.assign(\n          {},\n          {\n            accept: 'application/json',\n            'x-requested-with': 'XMLHttpRequest',\n          },\n          $headers,\n          Object.keys(data).length ? { 'content-type': 'application/json' } : {}\n        )),\n    };\n\n    const options = Object.assign(\n      {\n        url,\n        method: 'POST',\n        headers,\n        data:\n          headers['content-type'] === 'application/json'\n            ? JSON.stringify(data)\n            : data,\n        // timeout: 60000,\n      },\n      config,\n      { withCredentials }\n    );\n\n    if (\n      (options.method === 'GET' || options.method === 'HEAD') &&\n      options.data\n    ) {\n      delete options.data;\n    }\n\n    return this.instance(options);\n  }\n\n  intercept(url, method = 'GET', data = {}, headers, config = {}) {\n    const _config = Object.assign(\n      {\n        method,\n        withCredentials: true,\n      },\n      config\n    );\n\n    const doRequest = () => this.request(url, data, _config, headers);\n    const timeoutRequest = (delay = 100000) =>\n      new Promise((resolve, reject) => {\n        setTimeout(() => {\n          reject(new Error('Request failed Timeout'));\n        }, delay);\n      });\n\n    return Promise.race([\n      timeoutRequest(),\n      doRequest().then((res) => {\n        if (res.status === 401) {\n          return this.catchError({ logout: true });\n        }\n        return res.data;\n      }),\n    ]).catch(this.catchError.bind(this));\n  }\n\n  get(url, headers, config) {\n    return this.intercept(url, 'GET', {}, headers, config);\n  }\n\n  post(url, data, headers) {\n    return this.intercept(url, 'POST', data, headers);\n  }\n\n  patch(url, data, headers) {\n    return this.intercept(url, 'PATCH', data, headers);\n  }\n\n  put(url, data, headers) {\n    return this.intercept(url, 'PUT', data, headers);\n  }\n\n  delete(url, headers) {\n    return this.intercept(url, 'DELETE', {}, headers);\n  }\n\n  head(url, headers) {\n    return this.intercept(url, 'HEAD', {}, headers);\n  }\n\n  action(url, data) {\n    return this.intercept('/ws/action' + url, 'POST', data);\n  }\n\n  rest(entity) {\n    return new AxelorRest(this, entity);\n  }\n\n  login(data = {}) {\n    var config = Object.assign({}, this.config || {}, data);\n    return this.request(\n      '/callback',\n      {\n        username: config.username,\n        password: config.password,\n      },\n      { token: false }\n    )\n      .then((res) => {\n        var isAuth = null;\n        if (res === undefined) {\n          throw new Error('Failed To Connect !!');\n        }\n        if (res && res.status === 401) {\n          isAuth = false;\n        } else if (res && res.status === 200) {\n          isAuth = true;\n          this.config = config;\n          /*\n           Custom Cookie\n           res.headers['csrf-token'] &&\n             (document.cookie = `CSRF-TOKEN=${res.headers['csrf-token']}`);\n          */\n        }\n        return isAuth;\n      })\n      .catch(this.catchError.bind(this));\n  }\n\n  logout() {\n    return this.get('/logout');\n  }\n\n  info() {\n    return this.get('/ws/app/info');\n  }\n\n  checkInfo() {\n    return this.request('/ws/app/info', {}, { method: 'GET' })\n      .then((res) => res.data)\n      .then((res) => ({\n        appUser: res,\n        app: {\n          name: res['application.name'],\n          version: res['application.version'],\n          description: res['application.description'],\n        },\n        user: {\n          id: res['user.id'],\n          code: res['user.login'],\n          name: res['user.name'],\n          language: res['user.lang'] || 'en',\n          email: res['user.login'],\n          theme: res['user.theme'] || '',\n        },\n      }));\n  }\n\n  upload(data = null, headers = {}, callback = () => true, info = {}) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest(),\n        method = 'POST',\n        url = '/ws/files/upload';\n\n      const doClean = () =>\n        headers['X-File-Id']\n          ? this.intercept(() => this.delete(`${url}/${headers['X-File-Id']}`))\n          : Promise.resolve(true);\n\n      const formatSize = (done, total) => {\n        const format = (size) => {\n          if (size > 1000000000)\n            return parseFloat(size / 1000000000).toFixed(2) + ' GB';\n          if (size > 1000000)\n            return parseFloat(size / 1000000).toFixed(2) + ' MB';\n          if (size >= 1000) return parseFloat(size / 1000).toFixed(2) + ' KB';\n          return size + ' B';\n        };\n        return format(done || 0) + '/' + format(total);\n      };\n\n      xhr.open(method, url, true);\n\n      Object.keys(headers).forEach((k) => {\n        xhr.setRequestHeader(k, headers[k]);\n      });\n\n      xhr.withCredentials = true;\n      xhr.overrideMimeType('application/octet-stream');\n      xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      xhr.setRequestHeader('X-CSRF-Token', readCookie('CSRF-TOKEN'));\n\n      xhr.onload = () => {\n        callback(100);\n      };\n\n      info.abort = () => {\n        xhr.abort();\n        return doClean();\n      };\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          switch (xhr.status) {\n            case 401:\n              this.callbackInterceptor();\n              throw new Error('Unauthorized !!');\n            case 200:\n              try {\n                const result = JSON.parse(xhr.responseText);\n                resolve(result);\n              } catch (e) {\n                resolve(xhr.responseText);\n              }\n              break;\n            default:\n              doClean();\n              reject({ status: xhr.status });\n              break;\n          }\n        }\n      };\n\n      xhr.upload.onprogress = (e) => {\n        const fileSize = headers['X-File-Size'];\n        const total = parseFloat(headers['X-File-Offset']) + e.loaded;\n        const done = Math.round((total / fileSize) * 100);\n\n        info.progress = done > 95 ? '95%' : done + '%';\n        info.transfer = formatSize(total, fileSize);\n        info.loaded = total === fileSize;\n\n        if (e.lengthComputable) {\n          callback((e.loaded / e.total) * 100, info);\n        }\n      };\n\n      xhr.send(data);\n    });\n  }\n}\n\nexport default new Http({\n  baseURL: process.env.NODE_ENV === 'production' ? '../' : '/axelor-erp', // '/' for portal\n});\n","import qs from 'qs';\n\nimport RestService from '../services/RestService';\n\nexport const PRODUCT_TYPESELECT_SERVICE = 'service';\n\nfunction getMetafileURL(metafileId) {\n  return `./${RestService.instance.defaults.baseURL}ws/portal/metafile/${metafileId}`; //`/ws/portal/metafile/${metafileId}` for portal\n}\n\nfunction getQueryString(query) {\n  return qs.stringify(query);\n}\n\nfunction handleResponse(res) {\n  if (res && res.status === 0) {\n    return res;\n  } else {\n    throw new Error(res && res.message);\n  }\n}\n\nfunction handleImageURL(product) {\n  const hasPictures = product._pictures && product._pictures.length;\n  product.images = hasPictures ? product._pictures.map(getMetafileURL) : [];\n  return product;\n}\n\nfunction handleDisplayPrice(product) {\n  const symbol = product && product._currency && product._currency.symbol;\n  if (symbol) {\n    if (product._previousPrice) {\n      product._displayPrice = symbol + product._previousPrice;\n      product._displayDiscountPrice = symbol + product._price;\n    } else {\n      product._displayPrice = symbol + product._price;\n    }\n  }\n  return product;\n}\n\nfunction handleDiscount(product) {\n  if (product._discount && product._discount.includes('%')) {\n    product._displayDiscountPercentage = product._discount;\n  }\n  return product;\n}\n\nfunction handleUnavailablity(product) {\n  if (product.productTypeSelect === PRODUCT_TYPESELECT_SERVICE) {\n    return product;\n  }\n\n  if (!Number(product._realQty)) {\n    product.unavailable = true;\n  }\n  return product;\n}\n\nfunction handleProductInformation(product) {\n  handleImageURL(product);\n  handleDisplayPrice(product);\n  handleDiscount(product);\n  handleUnavailablity(product);\n  return product;\n}\n\nfunction handlePaginationTypeDataResponse() {\n  return {\n    data: [],\n    total: 0,\n  };\n}\n\nfunction handleEmptyObjectDataReponse() {\n  return {};\n}\n\nfunction handleEmptyArrayDataResponse() {\n  return [];\n}\n\nfunction handleUndefinedDataResponse(res, defaultValue = []) {\n  res.data = res.data || defaultValue;\n  return res;\n}\n\nfunction getDisplayAddress(addressEntity) {\n  const {\n    address,\n    addressComplement,\n    zipCode,\n    countryName,\n    cityName,\n  } = addressEntity;\n\n  return `${address || ''} ${addressComplement || ''} ${cityName || ''} ${\n    zipCode || ''\n  } ${countryName || ''}`;\n}\n\nfunction mapCheckout(checkout) {\n  const currencySymbol = getPurchaseCurrencySymbol(checkout);\n\n  const invoicingAddress = getInverseMappedAddress(\n    checkout.mainInvoicingAddress\n  );\n  const deliveryAddress = getInverseMappedAddress(checkout.deliveryAddress);\n\n  invoicingAddress.displayAddress = getDisplayAddress(invoicingAddress);\n  deliveryAddress.displayAddress = getDisplayAddress(deliveryAddress);\n\n  return {\n    id: checkout.id,\n    date: checkout.checkoutDate,\n    total: checkout.inTaxTotal || '0.00',\n    totalTax: checkout.taxTotal || '0.00',\n    totalWithoutTax: checkout.exTaxTotal || '0.00',\n    totalDiscount: checkout._discountTotal || '0.00',\n    currency: checkout.currency,\n    invoicingAddress,\n    deliveryAddress,\n    lines: getLines(checkout.saleOrderLineList),\n    itemsChanged: checkout.itemsChanged,\n    original: { total: checkout.inTaxTotal },\n    paymentModes: checkout.paymentModes || [],\n  };\n\n  function getLines(lines = []) {\n    return lines.map((line) => {\n      return {\n        id: line.id,\n        name: line.productName,\n        qty: toFixed(line.qty),\n        unitPrice: currencySymbol\n          ? addSuffix(toFixed(line.price), currencySymbol)\n          : toFixed(line.price),\n        vat:\n          line.taxLine && line.taxLine.value\n            ? addSuffix(toFixed(line.taxLine.value * 100), '%')\n            : '',\n        discount: currencySymbol\n          ? addSuffix(toFixed(line._discountTotal || '0.00'), currencySymbol)\n          : '0.00',\n\n        total: currencySymbol\n          ? addSuffix(toFixed(line.inTaxTotal), currencySymbol)\n          : toFixed(line.inTaxTotal),\n        productId: line.product && line.product.id,\n        productTypeSelect: line.product && line.product.productTypeSelect,\n      };\n    });\n  }\n}\n\nfunction toFixed(value, point = 2) {\n  return Number.parseFloat(value).toFixed(point);\n}\n\nfunction addSuffix(str, suffix, withSpace = true) {\n  return withSpace ? str + ' ' + suffix : str + suffix;\n}\n\nfunction getPurchaseCurrencySymbol(entity) {\n  return entity && entity.currency && entity.currency.symbol;\n}\n\nfunction mapCurrencySymbol(entity) {\n  const currencySymbol = getPurchaseCurrencySymbol(entity);\n\n  if (!currencySymbol) {\n    return entity;\n  }\n\n  const addCurrencySymbol = (str) => addSuffix(str, currencySymbol);\n\n  return Object.assign(entity, {\n    total: addCurrencySymbol(entity.total),\n    totalTax: addCurrencySymbol(entity.totalTax),\n    totalWithoutTax: addCurrencySymbol(entity.totalWithoutTax),\n    totalDiscount: addCurrencySymbol(entity.totalDiscount),\n  });\n}\n\nfunction handleCheckoutInformation(checkout) {\n  return mapCurrencySymbol(mapCheckout(checkout));\n}\n\nfunction handleCheckoutItemChange(checkout) {\n  const { itemsChanged } = checkout;\n\n  if (itemsChanged) {\n    checkout.lines = checkout.lines.filter(\n      (line) =>\n        line.productTypeSelect !== PRODUCT_TYPESELECT_SERVICE &&\n        line.qty !== '0.00'\n    );\n  }\n\n  return checkout;\n}\n\nfunction handleReturnDataFromResponse(res) {\n  return res && res.data;\n}\n\nfunction handleTransformDataResponse(res, transform) {\n  if (res.data) {\n    res.data = transform(res.data);\n  }\n  return res;\n}\n\nfunction handleAddDisplayAddress(address) {\n  return Object.assign({}, address, {\n    displayAddress: getDisplayAddress(address),\n  });\n}\n\nfunction handleTransformProductsInformation(res) {\n  const transform = (products) => products.map(handleProductInformation);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction handleTransformCardsInformation(res) {\n  const transform = (cards) => cards.map(handleCardInformation);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction handleTransformInverseMapAddress(res) {\n  const transform = (addresses) => addresses.map(getInverseMappedAddress);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction handleTransformDisplayAddress(res) {\n  const transform = (addresses) => addresses.map(handleAddDisplayAddress);\n  return handleTransformDataResponse(res, transform);\n}\n\nfunction manageQueryString(url, query) {\n  if (query) {\n    return url + '?' + getQueryString(query);\n  } else {\n    return url;\n  }\n}\n\nfunction fetchProducts(query) {\n  const URL = manageQueryString(`/ws/portal/products`, query);\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleTransformProductsInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchProduct(productId) {\n  const URL = `/ws/portal/products/${productId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then((result) => handleUndefinedDataResponse(result, {}))\n    .then(handleReturnDataFromResponse)\n    .then(handleProductInformation)\n    .catch(handleEmptyObjectDataReponse);\n}\n\nfunction fetchCategories() {\n  const URL = `/ws/portal/categories`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleReturnDataFromResponse)\n    .catch(handleEmptyArrayDataResponse);\n}\n\nfunction fetchCategoryProducts(categoryId, query) {\n  const URL = manageQueryString(\n    `/ws/portal/categories/${categoryId}/products`,\n    query\n  );\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleTransformProductsInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchAddresses() {\n  const URL = `/ws/portal/addresses`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleTransformInverseMapAddress)\n    .then(handleTransformDisplayAddress)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchAddress(addressId) {\n  const URL = `/ws/portal/addresses/${addressId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(getInverseMappedAddress);\n}\n\nfunction getMappedAddress(address) {\n  return {\n    addressL4: address.address,\n    addressL2: address.addressComplement,\n    zip: address.zipCode,\n    cityId: address.city,\n    id: address.id,\n    addressL7CountryId: address.country,\n  };\n}\n\nfunction getInverseMappedAddress(address) {\n  const { city, addressL7Country } = address;\n  return {\n    address: address.addressL4,\n    addressComplement: address.addressL2,\n    zipCode: address.zip,\n    city: address.cityId || (city && city.id),\n    id: address.id,\n    country:\n      address.addressL7CountryId || (addressL7Country && addressL7Country.id),\n    cityName: (city && city.name) || '',\n    countryName: (addressL7Country && addressL7Country.name) || '',\n  };\n}\n\nfunction addAddress(address) {\n  const URL = '/ws/portal/addresses';\n  return RestService.post(URL, getMappedAddress(address))\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction updateAddress(addressId, address) {\n  const URL = `/ws/portal/addresses/${addressId}`;\n  return RestService.post(URL, getMappedAddress(address))\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction deleteAddress(addressId) {\n  const URL = `/ws/portal/addresses/${addressId}`;\n  return RestService.delete(URL);\n}\n\nfunction fetchCities() {\n  const URL = '/ws/portal/cities';\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleReturnDataFromResponse)\n    .catch(handleEmptyArrayDataResponse);\n}\n\nfunction checkCart(cart) {\n  const payload = {\n    cart: Object.keys(cart).map((productId) => ({\n      productId: Number(productId),\n      quantity: cart[productId],\n    })),\n  };\n\n  const URL = '/ws/portal/cart/check-cart';\n\n  return RestService.post(URL, payload)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(handleCheckoutInformation)\n    .then(handleCheckoutItemChange)\n    .catch(handleEmptyObjectDataReponse);\n}\n\nfunction createCheckoutOrderData(data) {\n  const { deliveryAddress, invoicingAddress, cart } = data;\n\n  const orderData = {\n    deliveryAddressId: deliveryAddress.id,\n    mainInvoicingAddressId: invoicingAddress.id,\n    cart: Object.keys(cart).reduce((_cart, productId) => {\n      _cart.push({ productId: Number(productId), quantity: cart[productId] });\n      return _cart;\n    }, []),\n  };\n\n  return orderData;\n}\n\nfunction checkoutPaypal(data) {\n  const { paypalPaymentData, orderData } = data;\n\n  const paypalOrderId = paypalPaymentData.id;\n\n  const URL = '/ws/portal/cart/checkout/paypal';\n\n  const _orderData = createCheckoutOrderData(orderData);\n\n  return RestService.post(URL, {\n    paypalOrderId,\n    orderData: _orderData,\n  })\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction checkoutPaymentCard(data) {\n  const { cardId, orderData } = data;\n\n  const URL = '/ws/portal/cart/checkout/stripe';\n\n  const _orderData = createCheckoutOrderData(orderData);\n\n  const payload = {\n    orderData: _orderData,\n  };\n\n  if (cardId) {\n    payload.cardId = cardId;\n  }\n\n  return RestService.post(URL, payload)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction handleCardInformation(card) {\n  const { expiry = '', brand } = card;\n  const expiryMonth = expiry.slice(0, expiry.length - 2);\n  const expiryYear = expiry.slice(expiry.length - 2);\n  const expiryDisplay = `${expiryMonth}/${expiryYear}`;\n\n  let { cardNumber = '' } = card;\n  cardNumber = String(cardNumber);\n  const last4 = cardNumber && cardNumber.slice(cardNumber.length - 4);\n\n  return {\n    ...card,\n    expiryDisplay,\n    last4,\n    brand: brand || '',\n  };\n}\n\nfunction fetchPaymentCards() {\n  const URL = '/ws/portal/payment-cards';\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleUndefinedDataResponse)\n    .then(handleTransformCardsInformation)\n    .catch(handlePaginationTypeDataResponse);\n}\n\nfunction fetchPaymentCard(cardId) {\n  const URL = `/ws/portal/payment-cards/${cardId}`;\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then(handleCardInformation);\n}\n\nfunction addPaymentCard(card) {\n  const URL = '/ws/portal/payment-cards';\n  return RestService.post(URL, card).then(handleResponse);\n}\n\nfunction updatePaymentCard(cardId, card) {\n  const URL = `/ws/portal/payment-cards/${cardId}`;\n  return RestService.post(URL, card).then(handleResponse);\n}\n\nfunction deletePaymentCard(cardId) {\n  const URL = `/ws/portal/payment-cards/${cardId}`;\n  return RestService.delete(URL).then((res) => {\n    if (res.status === -1) {\n      throw new Error(res && res.message);\n    }\n  });\n}\n\nfunction fetchDefaultPaymentCard() {\n  const URL = '/ws/portal/payment-cards/default';\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction updateDefaultPaymentCard(cardId) {\n  const URL = `/ws/portal/payment-cards/default/${cardId}`;\n  return RestService.post(URL).then(handleResponse);\n}\n\nfunction fetchPaypalMerchantId() {\n  const URL = '/ws/portal/config/merchant-id';\n  return RestService.get(URL)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .catch(handleEmptyObjectDataReponse);\n}\n\nfunction fetchTranslations(data) {\n  const URL = '/ws/portal/translate';\n  return RestService.post(URL, data)\n    .then((result) => {\n      if (!(result && result.status === 0)) {\n        result.data = [];\n      }\n\n      const transform = (arr) =>\n        arr.reduce((acc, value) => {\n          acc[value.key] = value.message;\n          return acc;\n        }, {});\n\n      const { data } = result;\n      return Array.isArray(data) ? transform(data) : {};\n    })\n    .catch(() => {\n      return {};\n    });\n}\n\nfunction checkoutPaybox(data, redirectURL = window.location.href) {\n  const { orderData } = data;\n  const URL = '/ws/portal/cart/checkout/paybox';\n  const _orderData = createCheckoutOrderData(orderData);\n\n  const payload = {\n    orderData: _orderData,\n    successURL: redirectURL + '/success',\n    failureURL: redirectURL + '/failure',\n  };\n\n  return RestService.post(URL, payload)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction fetchConfiguration() {\n  return RestService.get(`/ws/portal/config`)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse)\n    .then((config) => {\n      return {\n        isQuotationRequestActive: config.isQuotationRequestActive,\n      };\n    })\n    .catch(() => ({ isQuotationRequestActive: false }));\n}\n\nfunction checkoutQuotation(data) {\n  const { orderData } = data;\n\n  const URL = '/ws/portal/cart/checkout/quotation';\n\n  const _orderData = createCheckoutOrderData(orderData);\n\n  const payload = {\n    orderData: _orderData,\n  };\n\n  return RestService.post(URL, payload)\n    .then(handleResponse)\n    .then(handleReturnDataFromResponse);\n}\n\nfunction fetchInfo() {\n  return RestService.checkInfo();\n}\n\nexport default {\n  fetchProducts,\n  fetchProduct,\n  fetchCategories,\n  fetchCategoryProducts,\n  fetchAddresses,\n  fetchAddress,\n  addAddress,\n  deleteAddress,\n  updateAddress,\n  fetchCities,\n  checkCart,\n  checkoutPaypal,\n  checkoutPaybox,\n  checkoutPaymentCard,\n  checkoutQuotation,\n  fetchPaymentCards,\n  fetchPaymentCard,\n  addPaymentCard,\n  updatePaymentCard,\n  deletePaymentCard,\n  fetchDefaultPaymentCard,\n  updateDefaultPaymentCard,\n  fetchPaypalMerchantId,\n  fetchTranslations,\n  fetchConfiguration,\n  fetchInfo,\n};\n","import React from 'react';\nimport i18next from 'i18next';\nimport {\n  initReactI18next,\n  I18nextProvider,\n  useTranslation as i18nextUseTranslation,\n} from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\n\nimport en from '../assets/locales/en/translations.json';\nimport fr from '../assets/locales/fr/translations.json';\nimport EshopAPI from '../EshopAPI';\n\nconst translations = {\n  en,\n  fr,\n};\n\nconst i18n = i18next.createInstance();\nconst lng = navigator.language.includes('fr') ? 'fr' : 'en';\n\ni18n\n  .use(initReactI18next)\n  .use(Backend)\n  .use(LanguageDetector)\n  .init({\n    lng,\n    fallbackLng: 'en',\n    interpolation: {\n      escapeValue: false,\n    },\n    backend: {\n      request: (options, url, payload, callback) => {\n        const getLanguageFromURL = (url) => {\n          const regexURL = /\\/locales\\/(?<lang>\\w+)\\/translation.json/gm;\n          return regexURL.exec(url).groups.lang || 'en';\n        };\n\n        const lang = getLanguageFromURL(url);\n        const defaultTranslations = translations[lang] || translations.en;\n\n        EshopAPI.fetchTranslations({\n          keys: Object.keys(defaultTranslations),\n          lang,\n        }).then((result) => {\n\n          const removeEmptyTranslation = (obj = {}) =>\n            Object.keys(obj).reduce((acc, key) => {\n              const value = obj[key];\n              if (value) {\n                acc[key] = value;\n              }\n              return acc;\n            }, {});\n\n          const data = JSON.stringify(\n            Object.assign(\n              {},\n              defaultTranslations,\n              removeEmptyTranslation(result)\n            )\n          );\n\n          callback(null, {\n            status: true,\n            data,\n          });\n        });\n      },\n    },\n    keySeparator: false,\n  });\n\nfunction TranslationProvider({ children }) {\n  return <I18nextProvider i18n={i18n}>{children}</I18nextProvider>;\n}\n\nexport default TranslationProvider;\n\nexport const useTranslation = i18nextUseTranslation;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction ConfirmationDialog(props) {\n  const { t } = useTranslation();\n\n  const { open, onClose, onConfirm, onCancel, children, title } = props;\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>{children}</DialogContent>\n      <DialogActions>\n        <Button variant=\"outlined\" onClick={onCancel || onClose}>\n          {t('Cancel')}\n        </Button>\n        <Button onClick={onConfirm}>{t('Confirm')}</Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nConfirmationDialog.defaultProps = {\n  title: 'Confirmation Dialog',\n  open: false,\n  onClose: () => {},\n  onConfirm: () => {},\n};\n\nexport default ConfirmationDialog;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport ConfirmationDialog from './ConfirmationDialog';\n\nfunction ConfirmationDialogButton(props) {\n  const { ButtonProps, DialogProps, onConfirm } = props;\n\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  const handleOpenDialog = React.useCallback(() => {\n    setDialogOpen(true);\n  }, []);\n\n  const handleCloseDialog = React.useCallback(() => {\n    setDialogOpen(false);\n  }, []);\n\n  const handleConfirm = React.useCallback(() => {\n    handleCloseDialog();\n    onConfirm && onConfirm();\n  }, [onConfirm, handleCloseDialog]);\n\n  return (\n    <>\n      <Button\n        className={ButtonProps.className}\n        variant={ButtonProps.variant}\n        onClick={handleOpenDialog}\n        disabled={ButtonProps.disabled}\n      >\n        {ButtonProps.label}\n      </Button>\n      <ConfirmationDialog\n        open={dialogOpen}\n        onClose={handleCloseDialog}\n        onConfirm={handleConfirm}\n        title={DialogProps.title}\n        children={DialogProps.children}\n      ></ConfirmationDialog>\n    </>\n  );\n}\n\nConfirmationDialogButton.defaultProps = {\n  ButtonProps: {},\n  DialogProps: {},\n};\n\nexport default ConfirmationDialogButton;\n","import React from 'react';\nimport Divider from './Divider';\nimport PriceSummary from './PriceSummary';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { PayPalButton } from 'react-paypal-button-v2';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Paper from './Paper';\nimport QuantityInput from './QuantityInput';\nimport Loader from './Loader';\nimport Select from './Select';\nimport ConfirmationDialog from './ConfirmationDialog';\nimport ConfirmationDialogButton from './ConfirmationDialogButton';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction RequestQuotationButton(props) {\n  const { disabled, onClick } = props;\n\n  const { t } = useTranslation();\n  return (\n    <ConfirmationDialogButton\n      ButtonProps={{\n        disabled,\n        label: t('Request quotation'),\n      }}\n      DialogProps={{\n        title: t('Request quotation'),\n        children: t('Confirm quotation request'),\n      }}\n      onConfirm={onClick}\n    />\n  );\n}\n\nRequestQuotationButton.defaultProps = {\n  disabled: false,\n  onClick: () => {},\n};\n\nfunction ConfirmOrderButton(props) {\n  const { disabled, onClick } = props;\n\n  const { t } = useTranslation();\n  return (\n    <ConfirmationDialogButton\n      ButtonProps={{\n        disabled,\n        label: t('Confirm order'),\n      }}\n      DialogProps={{\n        title: t('Confirm order'),\n        children: t('Confirm order content'),\n      }}\n      onConfirm={onClick}\n    />\n  );\n}\n\nConfirmOrderButton.defaultProps = {\n  disabled: false,\n  onClick: () => {},\n};\n\nconst usePayboxButtonStyles = makeStyles({\n  button: {\n    width: 150,\n  },\n});\n\nfunction PayboxButton(props) {\n  const { disabled, onClick } = props;\n\n  const { t } = useTranslation();\n  const classes = usePayboxButtonStyles();\n\n  return (\n    <Button\n      className={classes.button}\n      disabled={disabled}\n      onClick={onClick}\n      variant=\"outlined\"\n    >\n      {t('Paybox')}\n    </Button>\n  );\n}\n\nPayboxButton.defaultProps = {\n  disabled: false,\n  onClick: () => {},\n};\n\nfunction PaymentCardButton(props) {\n  const { disabled, onClick } = props;\n  const { t } = useTranslation();\n\n  return (\n    <ConfirmationDialogButton\n      ButtonProps={{\n        disabled,\n        label: t('Pay using card'),\n      }}\n      DialogProps={{\n        title: t('Pay using card'),\n        children: t('Confirm order content'),\n      }}\n      onConfirm={onClick}\n    />\n  );\n}\n\nPaymentCardButton.defaultProps = {\n  showButton: false,\n  disabled: false,\n  onClick: () => {},\n};\n\nconst useCheckoutPriceSummaryStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(2),\n  },\n  actionWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    marginTop: theme.spacing(2),\n  },\n  actionTitle: {\n    marginBottom: theme.spacing(),\n  },\n  action: {\n    marginBottom: theme.spacing(),\n  },\n}));\n\nfunction CheckoutSummary(props) {\n  const {\n    total,\n    totalTax,\n    totalDiscount,\n    totalWithoutTax,\n    message,\n    PaypalButtonProps,\n    PayboxButtonProps,\n    RequestQuotationButtonProps,\n    PaymentCardButtonProps,\n    ConfirmOrderButtonProps,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useCheckoutPriceSummaryStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Typography variant=\"h5\">{t('Order summary')}</Typography>\n      <PriceSummary\n        total={total}\n        totalTax={totalTax}\n        totalDiscount={totalDiscount}\n        totalWithoutTax={totalWithoutTax}\n        totalLabel={t('Total')}\n        totalTaxLabel={t('Total tax')}\n        totalWithoutTaxLabel={t('Total without tax')}\n        totalDiscountLabel={t('Total discount')}\n      />\n      <div className={classes.actionWrapper}>\n        {RequestQuotationButtonProps.showButton && (\n          <div className={classes.action}>\n            <RequestQuotationButton {...RequestQuotationButtonProps} />\n          </div>\n        )}\n        {ConfirmOrderButtonProps.showButton && (\n          <div className={classes.action}>\n            <ConfirmOrderButton {...ConfirmOrderButtonProps} />\n          </div>\n        )}\n        {PaymentCardButtonProps.showButton && (\n          <div className={classes.action}>\n            <PaymentCardButton {...PaymentCardButtonProps} />\n          </div>\n        )}\n        {PayboxButtonProps.showButton && (\n          <div className={classes.action}>\n            <PayboxButton {...PayboxButtonProps} />\n          </div>\n        )}\n        {PaypalButtonProps.showButton && (\n          <div className={classes.action}>\n            <PayPalButton\n              style={{\n                color: 'blue',\n                shape: 'pill',\n                height: 36,\n              }}\n              {...PaypalButtonProps}\n            />\n          </div>\n        )}\n        {message && (\n          <div className={classes.action}>\n            <Typography>{message}</Typography>\n          </div>\n        )}\n      </div>\n    </Paper>\n  );\n}\n\nCheckoutSummary.defaultProps = {\n  message: '',\n  PaypalButtonProps: {},\n  PayboxButtonProps: {},\n  RequestQuotationButtonProps: {},\n  PaymentCardButtonProps: {},\n  ConfirmOrderButtonProps: {},\n};\n\nconst useCheckoutAddressStyles = makeStyles((theme) => ({\n  container: {\n    marginBottom: theme.spacing(4),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(),\n  },\n  headerAction: {\n    fontSize: '0.7rem',\n  },\n  select: {\n    marginBottom: theme.spacing(),\n  },\n}));\n\nfunction CheckoutAddress(props) {\n  const {\n    deliveryAddresses,\n    invoicingAddresses,\n    invoicingAddress,\n    deliveryAddress,\n    onNewAddress,\n    onDeliveryAddressChange,\n    onInvoicingAddressChange,\n  } = props;\n\n  const { t } = useTranslation();\n\n  const classes = useCheckoutAddressStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.header}>\n        <Typography variant=\"h5\">{t('Addresses')}</Typography>\n        <Button className={classes.headerAction} onClick={onNewAddress}>\n          {t('New address')}\n        </Button>\n      </div>\n      <Divider />\n      <Grid container spacing={4}>\n        <Grid item xs={12} md={6}>\n          <Select\n            label={t('Invoicing address')}\n            name=\"invoicingAddress\"\n            value={invoicingAddress.id || ''}\n            options={invoicingAddresses}\n            className={classes.select}\n            onChange={onInvoicingAddressChange}\n            required\n          />\n          <Typography variant=\"body2\">\n            {invoicingAddress.displayAddress}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Select\n            label={t('Delivery address')}\n            name=\"deliveryAddress\"\n            value={deliveryAddress.id || ''}\n            options={deliveryAddresses}\n            className={classes.select}\n            onChange={onDeliveryAddressChange}\n            required\n          />\n          <Typography variant=\"body2\">\n            {deliveryAddress.displayAddress}\n          </Typography>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nCheckoutAddress.defaultProps = {\n  deliveryAddress: {},\n  deliveryAddresses: [],\n  invoicingAddress: {},\n  invoicingAddresses: [],\n  onNewAddress: () => {},\n  onDeliveryAddressChange: () => {},\n  onInvoicingAddressChange: () => {},\n};\n\nfunction CheckoutProductQuantityInput(props) {\n  const { value, onChange, line, ...rest } = props;\n\n  const [qty, setQty] = React.useState(Number(value));\n\n  React.useEffect(() => {\n    if (line.overrideInput) {\n      // Override when available quantity is less than input\n      setQty(Number(value));\n    } else if (qty) {\n      const qtyNumber = Number(qty);\n      if (qtyNumber > 0 && qtyNumber !== Number(value)) {\n        onChange(line.productId, Number(qty));\n      }\n    }\n  }, [qty, value, line, onChange]);\n\n  const handleQtyChange = React.useCallback(({ target: { value } }) => {\n    setQty(value);\n  }, []);\n\n  const handleQtyBlur = React.useCallback(\n    ({ target: { value } }) => {\n      onChange(line.productId, Number(value));\n    },\n    [line, onChange]\n  );\n\n  return (\n    <QuantityInput\n      {...rest}\n      value={qty}\n      onBlur={handleQtyBlur}\n      onChange={handleQtyChange}\n    />\n  );\n}\n\nconst useCheckoutProductLinesStyles = makeStyles((theme) => ({\n  container: {\n    marginBottom: theme.spacing(3),\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(),\n  },\n  headerAction: {\n    fontSize: '0.7rem',\n  },\n  price: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nfunction CheckoutProductLines(props) {\n  const {\n    lines,\n    onNewProduct,\n    onProductQuantityChange,\n    onProductDelete,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useCheckoutProductLinesStyles();\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.header}>\n        <Typography variant=\"h5\">\n          {`${t('Products')} (${lines ? lines.length : 0})`}\n        </Typography>\n        <Button className={classes.headerAction} onClick={onNewProduct}>\n          {t('Add a product')}\n        </Button>\n      </div>\n      <Divider />\n      <Grid container spacing={2}>\n        {lines.map((line, index) => (\n          <Grid item xs={12} key={index}>\n            <Grid container alignItems=\"center\" spacing={2}>\n              <Grid item xs={3}>\n                <CheckoutProductQuantityInput\n                  label={t('Quantity')}\n                  moreLabel={t('More')}\n                  name=\"qty\"\n                  min={1}\n                  value={Number(line.qty)}\n                  line={line}\n                  onChange={onProductQuantityChange}\n                />\n              </Grid>\n              <Grid item xs={5} zeroMinWidth>\n                <Typography noWrap>{line.name}</Typography>\n              </Grid>\n              <Grid item xs={2} zeroMinWidth align=\"right\">\n                <Typography className={classes.price} noWrap>\n                  {line.total}\n                </Typography>\n              </Grid>\n              <Grid item xs={2} align=\"right\">\n                <IconButton onClick={(e) => onProductDelete(e, line)}>\n                  <DeleteIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n        ))}\n        <Grid item xs={12} md={6}></Grid>\n      </Grid>\n    </div>\n  );\n}\n\nCheckoutProductLines.defaultProps = {\n  lines: [],\n  onNewProduct: () => {},\n  onProductDelete: () => {},\n  onProductQuantityChange: () => {},\n};\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(4),\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(),\n    },\n  },\n  backdrop: {\n    zIndex: theme.zIndex.appBar + 1,\n  },\n}));\n\nfunction Checkout(props) {\n  const {\n    total,\n    totalTax,\n    totalDiscount,\n    totalWithoutTax,\n    productLines,\n    deliveryAddress,\n    deliveryAddresses,\n    invoicingAddress,\n    invoicingAddresses,\n    checkingOut,\n    summaryMessage,\n    PaypalButtonProps,\n    PayboxButtonProps,\n    RequestQuotationButtonProps,\n    PaymentCardButtonProps,\n    ConfirmOrderButtonProps,\n    onNewAddress,\n    onNewProduct,\n    onProductDelete,\n    onProductQuantityChange,\n    onDeliveryAddressChange,\n    onInvoicingAddressChange,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useStyles();\n\n  const [deleteDialogStore, setDeleteDialogStore] = React.useState({\n    open: false,\n    line: null,\n  });\n\n  const { open, line } = deleteDialogStore;\n\n  const handleDeleteDialogClose = React.useCallback(() => {\n    setDeleteDialogStore({\n      open: false,\n      line: null,\n    });\n  }, []);\n\n  const handleDeleteDialogOpen = React.useCallback((e, line) => {\n    setDeleteDialogStore({\n      open: true,\n      line,\n    });\n  }, []);\n\n  const handleProductDelete = React.useCallback(\n    (e) => {\n      onProductDelete(line.productId);\n      handleDeleteDialogClose();\n    },\n    [onProductDelete, handleDeleteDialogClose, line]\n  );\n\n  return (\n    <div className={classes.container}>\n      <Grid container spacing={4}>\n        <Grid item xs={12} md={6}>\n          <CheckoutAddress\n            deliveryAddress={deliveryAddress}\n            deliveryAddresses={deliveryAddresses}\n            invoicingAddress={invoicingAddress}\n            invoicingAddresses={invoicingAddresses}\n            onNewAddress={onNewAddress}\n            onDeliveryAddressChange={onDeliveryAddressChange}\n            onInvoicingAddressChange={onInvoicingAddressChange}\n          />\n          <CheckoutProductLines\n            lines={productLines}\n            onNewProduct={onNewProduct}\n            onProductQuantityChange={onProductQuantityChange}\n            onProductDelete={handleDeleteDialogOpen}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <CheckoutSummary\n            total={total}\n            totalTax={totalTax}\n            totalDiscount={totalDiscount}\n            totalWithoutTax={totalWithoutTax}\n            message={summaryMessage}\n            PaypalButtonProps={PaypalButtonProps}\n            PayboxButtonProps={PayboxButtonProps}\n            RequestQuotationButtonProps={RequestQuotationButtonProps}\n            PaymentCardButtonProps={PaymentCardButtonProps}\n            ConfirmOrderButtonProps={ConfirmOrderButtonProps}\n          />\n        </Grid>\n        <ConfirmationDialog\n          open={open}\n          title={t('Confirm deletion')}\n          onClose={handleDeleteDialogClose}\n          onConfirm={handleProductDelete}\n        >\n          <Typography>{line && line.name}</Typography>\n        </ConfirmationDialog>\n      </Grid>\n      <Backdrop className={classes.backdrop} open={checkingOut}>\n        <Loader />\n      </Backdrop>\n    </div>\n  );\n}\n\nCheckout.defaultProps = {\n  productLines: [],\n  deliveryAddress: {},\n  deliveryAddresses: [],\n  invoicingAddress: {},\n  invoicingAddresses: [],\n  summaryMessage: '',\n  PaypalButtonProps: {},\n  PayboxButtonProps: {},\n  RequestQuotationButtonProps: {},\n  PaymentCardButtonProps: {},\n  ConfirmOrderButtonProps: {},\n  onNewAddress: () => {},\n  onNewProduct: () => {},\n  onProductDelete: () => {},\n  onProductQuantityChange: () => {},\n  onDeliveryAddressChange: () => {},\n  onInvoicingAddressChange: () => {},\n};\n\nexport default Checkout;\n","import React, { useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '../components/Paper';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nexport const MESSAGE_TYPE = {\n  SUCCESS: 'success',\n  FAILURE: 'failure',\n};\n\nconst useCheckoutMessageContainerStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(),\n    minHeight: theme.spacing(30),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n  button: {\n    marginTop: theme.spacing(2),\n  },\n  success: {\n    color: theme.palette.success.main,\n  },\n  failure: {\n    color: theme.palette.error.main,\n  },\n}));\n\nfunction CheckoutMessageContainer(props) {\n  const { match, onSuccessRedirect, onFailureRedirect, onSuccessMount } = props;\n\n  const { params } = match;\n  const { messageType = MESSAGE_TYPE.SUCCESS } = params;\n\n  const { t } = useTranslation();\n  const classes = useCheckoutMessageContainerStyles();\n\n  let {\n    successMessage = t('Your payment has been successfully completed'),\n    successButtonLabel = t('Continue shopping'),\n    failureMessage = t('Your payment could not be completed'),\n    failureButtonLabel = t('Continue checkout'),\n  } = props;\n\n  let content = null;\n\n  switch (messageType) {\n    case MESSAGE_TYPE.SUCCESS:\n      content = (\n        <>\n          <Typography variant=\"h5\" className={classes.success}>\n            {successMessage}\n          </Typography>\n          <Button onClick={onSuccessRedirect} className={classes.button}>\n            {successButtonLabel}\n          </Button>\n        </>\n      );\n      break;\n    case MESSAGE_TYPE.FAILURE:\n      content = (\n        <>\n          <Typography variant=\"h5\" className={classes.failure}>\n            {failureMessage}\n          </Typography>\n          <Button onClick={onFailureRedirect} className={classes.button}>\n            {failureButtonLabel}\n          </Button>\n        </>\n      );\n      break;\n    default:\n      content = null;\n  }\n\n  useEffect(() => {\n    if (messageType === MESSAGE_TYPE.SUCCESS && onSuccessMount) {\n      onSuccessMount();\n    }\n  }, [messageType, onSuccessMount]);\n\n  return <Paper className={classes.paper}>{content}</Paper>;\n}\n\nCheckoutMessageContainer.defaultProps = {\n  onFailureRedirect: () => {},\n  onSuccessRedirect: () => {},\n};\n\nexport default CheckoutMessageContainer;\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { useSnackbar } from 'notistack';\n\nimport {\n  useEshop,\n  LOCAL_STORAGE_DELIVERY_ADDRESS,\n  LOCAL_STORAGE_INVOICING_ADDRESS,\n} from '../providers/EshopProvider';\nimport Loader from '../components/Loader';\nimport Checkout from '../components/Checkout';\nimport EshopAPI, { PRODUCT_TYPESELECT_SERVICE } from '../EshopAPI';\nimport { useTranslation } from '../providers/TranslationProvider';\nimport { MESSAGE_TYPE as CheckoutMessageType } from './CheckoutMessage';\n\nfunction CheckoutContainer(props) {\n  const {\n    match,\n    history,\n    onRedirectToOrder,\n    onRedirectToQuotation,\n    onRedirectToCheckoutMessage,\n  } = props;\n  const { url } = match;\n\n  const { t } = useTranslation();\n  const { enqueueSnackbar } = useSnackbar();\n  const {\n    cart,\n    setItem,\n    clearItem,\n    clearCart,\n    setCart,\n    checkoutAddresses,\n    setInvoicingAddress: setStorageInvoicingAddress,\n    setDeliveryAddress: setStorageDeliveryAddress,\n  } = useEshop();\n\n  const [loading, setLoading] = useState(true);\n  const [checkingOut, setCheckingOut] = useState(false);\n  const [checkout, setCheckout] = useState({});\n  const [deliveryAddresses, setDeliveryAddresses] = useState([]);\n  const [invoicingAddresses, setInvoicingAddresses] = useState([]);\n  const [deliveryAddress, setDeliveryAddress] = useState({});\n  const [invoicingAddress, setInvoicingAddress] = useState({});\n  const [paypalMerchantId, setPaypalMerchantId] = useState();\n  const [canRequestQuotation, setCanRequestQuotation] = useState(false);\n  const [confirmOrder, setConfirmOrder] = useState(false);\n\n  useEffect(() => {\n    EshopAPI.fetchAddresses().then((result) => {\n      if (!(result.data && result.data.length)) {\n        return;\n      }\n\n      const addresses = result.data.map((address) => {\n        return Object.assign(address, {\n          value: address.id,\n          label: `${address.address || ''} ${address.addressComplement || ''}`,\n        });\n      });\n      setDeliveryAddresses(addresses);\n      setInvoicingAddresses(addresses);\n    });\n  }, []);\n\n  const getAddressById = useCallback((addressId, addresses = []) => {\n    return addresses.find(\n      (address) => address.id.toString() === addressId.toString()\n    );\n  }, []);\n\n  useEffect(() => {\n    const manageAddress = (addresses, addressId, setAddress) => {\n      if (addresses.length) {\n        if (addressId) {\n          const address = getAddressById(addressId, addresses);\n          setAddress(address || addresses[0]);\n        } else {\n          setAddress(addresses[0]);\n        }\n      }\n    };\n    manageAddress(\n      deliveryAddresses,\n      checkoutAddresses[LOCAL_STORAGE_DELIVERY_ADDRESS],\n      setDeliveryAddress\n    );\n\n    manageAddress(\n      invoicingAddresses,\n      checkoutAddresses[LOCAL_STORAGE_INVOICING_ADDRESS],\n      setInvoicingAddress\n    );\n  }, [\n    deliveryAddresses,\n    invoicingAddresses,\n    checkoutAddresses,\n    setStorageDeliveryAddress,\n    setStorageInvoicingAddress,\n    getAddressById,\n  ]);\n\n  useEffect(() => {\n    EshopAPI.fetchPaypalMerchantId().then((result) => {\n      setPaypalMerchantId(result.merchantId);\n    });\n  }, []);\n\n  useEffect(() => {\n    EshopAPI.fetchConfiguration().then((result) => {\n      if (result.isQuotationRequestActive) {\n        setCanRequestQuotation(true);\n      }\n    });\n  }, []);\n\n  const fetchCheckoutData = useCallback(() => {\n    EshopAPI.checkCart(cart).then((checkout) => {\n      const { itemsChanged, lines = [] } = checkout;\n      const hasZeroQuantity = lines.find(\n        (l) =>\n          l.productTypeSelect !== PRODUCT_TYPESELECT_SERVICE &&\n          Number(l.qty) === 0\n      );\n      if (itemsChanged || hasZeroQuantity) {\n        const updatedCart = checkout.lines.reduce((_cart, line) => {\n          if (Number(line.qty)) {\n            _cart[line.productId] = Number(line.qty);\n          }\n          return _cart;\n        }, {});\n        setCart(updatedCart);\n        /** Update checkout lines to override input value in checkout component */\n        checkout.lines = checkout.lines.map((line) => {\n          const { productId, qty } = line;\n          const cartQty = cart[productId];\n\n          if (Number(qty) < Number(cartQty)) {\n            line.overrideInput = true;\n          }\n          return line;\n        });\n        enqueueSnackbar(t('One or multiple items have changed in your cart'), {\n          variant: 'error',\n        });\n      }\n      setCheckout(checkout);\n    });\n    setLoading(false);\n  }, [cart, setCart, t, enqueueSnackbar]);\n\n  useEffect(() => {\n    fetchCheckoutData();\n  }, [fetchCheckoutData]);\n\n  const handleAddressChange = useCallback(\n    (addressId, addresses = [], cb = () => {}) => {\n      const address = addresses.find((address) => address.id === addressId);\n      if (!address) {\n        return;\n      } else {\n        cb(address);\n      }\n    },\n    []\n  );\n\n  const handleDeliveryAddressChange = useCallback(\n    (e) => {\n      const { value: addressId } = e.target;\n\n      const setAddress = (address) => {\n        setDeliveryAddress(address);\n        setStorageDeliveryAddress(addressId);\n      };\n\n      handleAddressChange(addressId, deliveryAddresses, setAddress);\n    },\n    [deliveryAddresses, handleAddressChange, setStorageDeliveryAddress]\n  );\n\n  const handleInvoicingAddressChange = useCallback(\n    (e) => {\n      const { value: addressId } = e.target;\n\n      const setAddress = (address) => {\n        setInvoicingAddress(address);\n        setStorageInvoicingAddress(addressId);\n      };\n\n      handleAddressChange(addressId, invoicingAddresses, setAddress);\n    },\n    [invoicingAddresses, handleAddressChange, setStorageInvoicingAddress]\n  );\n\n  const handleEshopRedirection = useCallback(() => {\n    history.replace(`/eshop`);\n  }, [history]);\n\n  const handleNewProduct = useCallback(() => {\n    handleEshopRedirection();\n  }, [handleEshopRedirection]);\n\n  const handleNewAddress = useCallback(() => {\n    history.push({\n      pathname: `/eshop/address/new`,\n      state: {\n        fromUrl: url,\n      },\n    });\n  }, [history, url]);\n\n  const handleProductQuantityChange = useCallback(\n    (productId, qty) => {\n      setItem(productId, qty);\n    },\n    [setItem]\n  );\n\n  const handleProductDelete = useCallback(\n    (productId) => {\n      clearItem(productId);\n    },\n    [clearItem]\n  );\n\n  const handleCheckoutAction = useCallback(\n    (order, isQuotation) => {\n      clearCart();\n      enqueueSnackbar(t('Thank you for shopping'), { variant: 'success' });\n      if (isQuotation && onRedirectToOrder && order && order.id) {\n        onRedirectToQuotation(order);\n      } else if (onRedirectToOrder && order && order.id) {\n        onRedirectToOrder(order);\n      } else {\n        handleEshopRedirection();\n      }\n    },\n    [\n      clearCart,\n      onRedirectToOrder,\n      onRedirectToQuotation,\n      handleEshopRedirection,\n      t,\n      enqueueSnackbar,\n    ]\n  );\n\n  const handlePaypalCheckout = useCallback(\n    (paypalPaymentData) => {\n      setCheckingOut(true);\n      EshopAPI.checkoutPaypal({\n        paypalPaymentData,\n        orderData: {\n          deliveryAddress,\n          invoicingAddress,\n          cart,\n        },\n      })\n        .then((order) => {\n          setCheckingOut(false);\n          handleCheckoutAction(order);\n        })\n        .catch(() => {\n          setCheckingOut(false);\n          enqueueSnackbar(t('Error'), { variant: 'error' });\n        });\n    },\n    [\n      deliveryAddress,\n      invoicingAddress,\n      cart,\n      handleCheckoutAction,\n      t,\n      enqueueSnackbar,\n    ]\n  );\n\n  const handlePaymentCardCheckout = useCallback(() => {\n    setCheckingOut(true);\n    EshopAPI.checkoutPaymentCard({\n      cardId: '',\n      orderData: {\n        deliveryAddress,\n        invoicingAddress,\n        cart,\n      },\n    })\n      .then((order) => {\n        setCheckingOut(false);\n        onRedirectToCheckoutMessage(CheckoutMessageType.SUCCESS);\n      })\n      .catch(({ message = t('Your payment could not be completed') }) => {\n        setCheckingOut(false);\n        enqueueSnackbar(message, { variant: 'error' });\n      });\n  }, [\n    t,\n    deliveryAddress,\n    invoicingAddress,\n    cart,\n    enqueueSnackbar,\n    onRedirectToCheckoutMessage,\n  ]);\n\n  const handlePayboxCheckout = useCallback(() => {\n    setCheckingOut(true);\n    EshopAPI.checkoutPaybox({\n      orderData: {\n        deliveryAddress,\n        invoicingAddress,\n        cart,\n      },\n    })\n      .then((result) => {\n        if (result && result.url) {\n          const link = document.createElement('a');\n          link.href = result.url;\n          link.click();\n        } else {\n          throw new Error('Checkout Error.');\n        }\n      })\n      .catch(({ message = t('Your payment could not be completed') }) => {\n        setCheckingOut(false);\n        enqueueSnackbar(message, { variant: 'error' });\n      });\n  }, [t, deliveryAddress, invoicingAddress, cart, enqueueSnackbar]);\n\n  const handleCheckoutQuotation = useCallback(() => {\n    setCheckingOut(true);\n    EshopAPI.checkoutQuotation({\n      orderData: {\n        deliveryAddress,\n        invoicingAddress,\n        cart,\n      },\n    })\n      .then((quotation) => {\n        setCheckingOut(false);\n        handleCheckoutAction(quotation, true);\n      })\n      .catch(\n        ({ message = t('Error requesting quotation. Please try again') }) => {\n          setCheckingOut(false);\n          enqueueSnackbar(message, { variant: 'error' });\n        }\n      );\n  }, [\n    t,\n    deliveryAddress,\n    invoicingAddress,\n    cart,\n    enqueueSnackbar,\n    handleCheckoutAction,\n  ]);\n\n  const disableCheckoutAction = !(\n    checkout &&\n    checkout.lines &&\n    checkout.lines.length\n  );\n\n  const { paymentModes = [] } = checkout;\n\n  const hidePaypalButton = !paymentModes.includes('paypal');\n  const hidePayboxButton = !paymentModes.includes('paybox');\n  const hideCreateOrderButton = !paymentModes.includes('stripe');\n\n  const {\n    original: { total: originalTotal = '0.00' } = {},\n    currency: { code: currencyCode = 'EUR' } = {},\n  } = checkout;\n  const paypalClientId = process.env.REACT_APP_PAYPAL_CLIENT_ID;\n\n  const handleConfirmOrder = useCallback(() => {\n    setConfirmOrder(true);\n  }, []);\n\n  const PaypalButtonProps = useMemo(\n    () => ({\n      showButton:\n        paypalClientId &&\n        paypalMerchantId &&\n        !disableCheckoutAction &&\n        !hidePaypalButton &&\n        confirmOrder,\n      amount: originalTotal,\n      onSuccess: handlePaypalCheckout,\n      options: {\n        clientId: paypalClientId,\n        merchantId: paypalMerchantId,\n        currency: currencyCode,\n        disableFunding: 'card',\n      },\n    }),\n    [\n      handlePaypalCheckout,\n      originalTotal,\n      paypalClientId,\n      paypalMerchantId,\n      disableCheckoutAction,\n      currencyCode,\n      hidePaypalButton,\n      confirmOrder,\n    ]\n  );\n\n  const checkoutEnabled = Boolean(paymentModes && paymentModes.length);\n  const summaryMessage = checkoutEnabled\n    ? ''\n    : t('Eshop not processing checkout');\n\n  const ConfirmOrderButtonProps = useMemo(\n    () => ({\n      showButton: !confirmOrder,\n      disabled: disableCheckoutAction || !checkoutEnabled,\n      onClick: handleConfirmOrder,\n    }),\n    [confirmOrder, handleConfirmOrder, disableCheckoutAction, checkoutEnabled]\n  );\n\n  const PaymentCardButtonProps = useMemo(\n    () => ({\n      showButton: !hideCreateOrderButton && confirmOrder,\n      disabled: disableCheckoutAction,\n      onClick: handlePaymentCardCheckout,\n    }),\n    [\n      disableCheckoutAction,\n      handlePaymentCardCheckout,\n      hideCreateOrderButton,\n      confirmOrder,\n    ]\n  );\n\n  const PayboxButtonProps = useMemo(\n    () => ({\n      showButton: !hidePayboxButton && confirmOrder,\n      disabled: disableCheckoutAction,\n      onClick: handlePayboxCheckout,\n    }),\n    [\n      disableCheckoutAction,\n      handlePayboxCheckout,\n      hidePayboxButton,\n      confirmOrder,\n    ]\n  );\n\n  const RequestQuotationButtonProps = useMemo(\n    () => ({\n      showButton: canRequestQuotation && !confirmOrder,\n      disabled: disableCheckoutAction,\n      onClick: handleCheckoutQuotation,\n    }),\n    [\n      canRequestQuotation,\n      disableCheckoutAction,\n      handleCheckoutQuotation,\n      confirmOrder,\n    ]\n  );\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <Checkout\n      total={checkout.total}\n      totalTax={checkout.totalTax}\n      totalDiscount={checkout.totalDiscount}\n      totalWithoutTax={checkout.totalWithoutTax}\n      productLines={checkout.lines}\n      deliveryAddress={deliveryAddress}\n      deliveryAddresses={deliveryAddresses}\n      invoicingAddress={invoicingAddress}\n      invoicingAddresses={invoicingAddresses}\n      checkingOut={checkingOut}\n      summaryMessage={summaryMessage}\n      PaypalButtonProps={PaypalButtonProps}\n      PayboxButtonProps={PayboxButtonProps}\n      PaymentCardButtonProps={PaymentCardButtonProps}\n      ConfirmOrderButtonProps={ConfirmOrderButtonProps}\n      RequestQuotationButtonProps={RequestQuotationButtonProps}\n      onNewAddress={handleNewAddress}\n      onNewProduct={handleNewProduct}\n      onProductDelete={handleProductDelete}\n      onProductQuantityChange={handleProductQuantityChange}\n      onDeliveryAddressChange={handleDeliveryAddressChange}\n      onInvoicingAddressChange={handleInvoicingAddressChange}\n    />\n  );\n}\n\nexport default CheckoutContainer;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { Carousel as RCarousel } from 'react-responsive-carousel';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\n\nconst useStyles = makeStyles((theme) => ({\n  carousel: {\n    '& li.slide': {\n      backgroundColor: 'transparent',\n    },\n  },\n  indicator: {\n    background: 'transparent',\n    width: 10,\n    height: 10,\n    borderRadius: '50%',\n    display: 'inline-block',\n    border: '1px solid',\n    borderColor: theme.palette.secondary.main,\n    margin: '0 8px',\n    cursor: 'pointer',\n  },\n  selected: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n  image: {\n    height: 350,\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'contain',\n  },\n}));\n\nfunction Carousel(props) {\n  const { images } = props;\n\n  const classes = useStyles();\n\n  const renderIndicator = React.useCallback(\n    (onClickHandler, isSelected, index, label) => {\n      if (isSelected) {\n        return (\n          <li\n            className={clsx(classes.indicator, classes.selected)}\n            aria-label={`Selected: ${label} ${index + 1}`}\n            title={`Selected: ${label} ${index + 1}`}\n          />\n        );\n      }\n      return (\n        <li\n          className={classes.indicator}\n          onClick={onClickHandler}\n          onKeyDown={onClickHandler}\n          value={index}\n          key={index}\n          role=\"button\"\n          tabIndex={0}\n          title={`${label} ${index + 1}`}\n          aria-label={`${label} ${index + 1}`}\n        />\n      );\n    },\n    [classes]\n  );\n\n  if (!(images && images.length)) {\n    return null;\n  }\n\n  return (\n    <RCarousel\n      showStatus={false}\n      showArrows={false}\n      showThumbs={false}\n      swipeable={true}\n      emulateTouch={true}\n      renderIndicator={renderIndicator}\n      className={classes.carousel}\n    >\n      {images.map((image, i) => (\n        <div\n          key={i}\n          style={{ backgroundImage: `url(${image})` }}\n          className={classes.image}\n        />\n      ))}\n    </RCarousel>\n  );\n}\n\nexport default Carousel;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport clsx from 'clsx';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\n\nimport EshopAPI from '../EshopAPI';\nimport Paper from '../components/Paper';\nimport Carousel from '../components/Carousel';\nimport QuantityInput from '../components/QuantityInput';\nimport { useEshop } from '../providers/EshopProvider';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useProductInformationStyles = makeStyles((theme) => ({\n  tag: {\n    height: 60,\n    borderRadius: 4,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(2),\n    backgroundColor: theme.palette.secondary.main,\n    marginBottom: theme.spacing(2),\n  },\n  tagLabel: {\n    color: '#FFFFFF',\n    fontWeight: 'bold',\n  },\n  paper: {\n    padding: theme.spacing(2),\n  },\n  productTitle: {\n    fontWeight: 'bold',\n  },\n  productCategoryChip: {\n    backgroundColor: theme.palette.secondary.light,\n    borderRadius: 4,\n    color: theme.palette.secondary.main,\n    padding: theme.spacing(),\n  },\n  productOriginalPrice: {\n    textDecoration: 'line-through',\n    color: '#000000',\n  },\n  productPrice: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nfunction ProductInformation(props) {\n  const { product, quantity, onQuantityChange, onAddProduct } = props;\n\n  const { t } = useTranslation();\n  const classes = useProductInformationStyles();\n\n  const isUnavailable = product.unavailable;\n  const discountPercentage = product._displayDiscountPercentage;\n  const discountedPrice = product._displayDiscountPrice;\n\n  const tag = isUnavailable\n    ? t('Unavailable')\n    : discountPercentage\n    ? `${discountPercentage} ${t('Discount')}`\n    : '';\n\n  const categories =\n    product._categories && product._categories.length\n      ? product._categories.map((category) => (\n          <span className={classes.productCategoryChip} key={category.id}>\n            {category.name}\n          </span>\n        ))\n      : null;\n\n  const price = (\n    <Typography variant=\"h6\" className={classes.productPrice}>\n      <span\n        className={clsx({ [classes.productOriginalPrice]: discountedPrice })}\n      >\n        {product._displayPrice}\n      </span>\n      &nbsp;\n      {discountedPrice}\n    </Typography>\n  );\n\n  return (\n    <>\n      {tag && (\n        <div className={classes.tag}>\n          <Typography className={classes.tagLabel} variant=\"h5\">\n            {tag}\n          </Typography>\n        </div>\n      )}\n      <Paper className={classes.paper}>\n        <Grid container spacing={3}>\n          <Grid item xs={12}>\n            <Typography className={classes.productTitle} variant=\"h4\" noWrap>\n              {product.name}\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Typography>{product.description}</Typography>\n          </Grid>\n          <Grid item xs={12}>\n            {categories}\n          </Grid>\n          <Grid item xs={12}>\n            {price}\n          </Grid>\n          <Grid item xs={12}>\n            <Grid container spacing={1} alignItems=\"center\">\n              <Grid item xs={12} md={6}>\n                <QuantityInput\n                  name=\"quantity\"\n                  label={t('Quantity')}\n                  value={quantity}\n                  disabled={isUnavailable}\n                  moreLabel={t('More')}\n                  onChange={onQuantityChange}\n                />\n              </Grid>\n              <Grid item xs={12} md={6} align=\"center\">\n                <Button\n                  disabled={isUnavailable}\n                  onClick={onAddProduct}\n                  startIcon={<AddShoppingCartIcon />}\n                >\n                  {t('Add to cart')}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n    </>\n  );\n}\n\nProductInformation.defaultProps = {\n  product: {},\n  quantity: 1,\n  onQuantityChange: () => {},\n  onAddProduct: () => {},\n};\n\nfunction ProductView(props) {\n  const { match = {}, history } = props;\n  const { params = {} } = match;\n  const { productId } = params;\n\n  const { cart, setItem } = useEshop();\n\n  const [quantity, setQuantity] = useState(1);\n  const [product, setProduct] = useState(null);\n\n  const handleAddProduct = useCallback(() => {\n    const qty = cart[product.id] || 0;\n    setItem(product.id, qty + Number(quantity));\n  }, [quantity, product, cart, setItem]);\n\n  const handleQuantityChange = useCallback(\n    (e) => setQuantity(Number(e.target.value)),\n    []\n  );\n\n  useEffect(() => {\n    EshopAPI.fetchProduct(productId).then((product) => {\n      if (product && product.id) {\n        setProduct(product);\n      } else {\n        history.replace('/eshop');\n      }\n    });\n  }, [history, productId]);\n\n  if (!product) {\n    return null;\n  }\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12} md={3}>\n        <Carousel images={product.images} />\n      </Grid>\n      <Grid item xs={12} md={9}>\n        <ProductInformation\n          product={product}\n          quantity={quantity}\n          onAddProduct={handleAddProduct}\n          onQuantityChange={handleQuantityChange}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default ProductView;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NextIcon from '@material-ui/icons/ChevronRight';\nimport PreviousIcon from '@material-ui/icons/ChevronLeft';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(0.5),\n    display: 'flex',\n    width: 'fit-content',\n    alignItems: 'center',\n  },\n}));\n\nfunction Pagination(props) {\n  const { onNext, onPrevious, label, disableNext, disablePrevious } = props;\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.paper}>\n      <Typography>{label}</Typography>\n      &nbsp;&nbsp;\n      <IconButton size=\"small\" onClick={onPrevious} disabled={disablePrevious}>\n        <PreviousIcon />\n      </IconButton>\n      &nbsp;&nbsp;\n      <IconButton size=\"small\" onClick={onNext} disabled={disableNext}>\n        <NextIcon />\n      </IconButton>\n      &nbsp;&nbsp;\n    </div>\n  );\n}\n\nexport default Pagination;\n","import React from 'react';\nimport clsx from 'clsx';\nimport MuiChip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  chip: {\n    color: '#616161',\n  },\n  icon: {\n    backgroundColor: `${theme.palette.secondary.main}09`,\n  },\n  iconSelected: {\n    color: theme.palette.secondary.main,\n  },\n  chipSelected: {\n    color: theme.palette.secondary.main,\n    backgroundColor: theme.palette.secondary.light,\n  },\n  chipClickable: {\n    '&:focus, &:hover': {\n      backgroundColor: theme.palette.secondary.light,\n    },\n  },\n}));\n\nfunction Chip(props) {\n  const { icon: Icon, label, isSelected, onClick, className } = props;\n\n  const classes = useStyles();\n\n  return (\n    <MuiChip\n      label={label}\n      icon={\n        Icon && (\n          <Icon\n            fontSize=\"small\"\n            classes={{\n              root: clsx(classes.icon, {\n                [classes.iconSelected]: isSelected,\n              }),\n            }}\n          />\n        )\n      }\n      classes={{\n        root: clsx(\n          classes.chip,\n          {\n            [classes.chipSelected]: isSelected,\n          },\n          className\n        ),\n        clickable: classes.chipClickable,\n      }}\n      onClick={onClick}\n    />\n  );\n}\n\nChip.defaultProps = {\n  Icon: () => null,\n  onClick: () => {},\n};\n\nexport default Chip;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Chip from './Chip';\n\nconst useStyles = makeStyles((theme) => ({\n  chipContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    marginBottom: theme.spacing(2),\n  },\n  chip: {\n    margin: theme.spacing(0.3),\n  },\n}));\n\nexport default ({ categories, selectedCategoryId, onCategoryClick }) => {\n  const classes = useStyles();\n\n  const handleChipInteraction = (categoryId) => {\n    onCategoryClick && onCategoryClick(categoryId);\n  };\n\n  return (\n    <div className={classes.chipContainer}>\n      {categories.map((category) => (\n        <Chip\n          className={classes.chip}\n          key={category.id}\n          label={category.name}\n          isSelected={selectedCategoryId === category.id}\n          onClick={() => handleChipInteraction(category.id)}\n        />\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    '& svg': {\n      color: '#616161',\n    },\n    '& label.Mui-focused': {\n      color: '#616161',\n    },\n    '& .MuiInput-underline:after, & .MuiInput-underline:before,& .MuiInput-underline:hover:not(.Mui-disabled):before': {\n      borderBottomColor: '#616161',\n    },\n  },\n}));\n\nfunction SearchInput(props) {\n  const classes = useStyles();\n\n  return (\n    <TextField\n      {...props}\n      color=\"default\"\n      classes={classes}\n      variant=\"standard\"\n      InputProps={{\n        disableUnderline: false,\n        endAdornment: <SearchIcon />,\n      }}\n    />\n  );\n}\n\nexport default SearchInput;\n","import React from 'react';\n\nimport SearchInput from './SearchInput';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction useDebounce(cb, duration) {\n  const timer = React.useRef(null);\n\n  const clearTimer = () => timer.current && clearTimeout(timer.current);\n  const setTimer = (cb) => (timer.current = setTimeout(cb, duration));\n\n  React.useEffect(() => {\n    return () => clearTimer();\n  }, []);\n\n  return (...args) => {\n    clearTimer();\n    setTimer(() => cb(...args));\n  };\n}\n\nexport default ({ value: valueProp, onChange }) => {\n  const { t } = useTranslation();\n  const [value, setValue] = React.useState(valueProp);\n\n  const debounceChange = useDebounce(onChange, 300);\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setValue(value);\n    debounceChange(value);\n  };\n\n  const handleSubmit = (e) => e.preventDefault();\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <SearchInput\n        name=\"search\"\n        placeholder={t('Search')}\n        onChange={handleChange}\n        value={value}\n      />\n    </form>\n  );\n};\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nfunction List(props) {\n  const {\n    values,\n    ValueUniqueKey = 'id',\n    ItemContainerProps = {},\n    noRecordLabel = 'No record found',\n    renderItem = () => null,\n  } = props;\n\n  const getItemContainerProps = (value, index) => ({\n    item: true,\n    xs: 12,\n    sm: 4,\n    md: 3,\n    key: value[ValueUniqueKey] || index,\n    ...ItemContainerProps,\n  });\n\n  return (\n    <Grid container spacing={3}>\n      {values && values.length ? (\n        values.map((value, index) => (\n          <Grid {...getItemContainerProps(value, index)}>\n            {renderItem(value)}\n          </Grid>\n        ))\n      ) : (\n        <Grid item xs={12}>\n          <Typography>{noRecordLabel}</Typography>\n        </Grid>\n      )}\n    </Grid>\n  );\n}\n\nexport default List;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from './Paper';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst IMAGE_WIDTH = 138;\n\nconst useProductTagStyles = makeStyles((theme) => ({\n  tag: {\n    position: 'absolute',\n    padding: theme.spacing(0.5),\n    backgroundColor: theme.palette.secondary.main,\n    color: '#FFFFFF',\n    right: 0,\n    bottom: (props) => theme.spacing(2),\n  },\n}));\n\nfunction ProductTag(props) {\n  const { product } = props;\n\n  const classes = useProductTagStyles();\n  const { t } = useTranslation();\n\n  if (product.unavailable) {\n    return <div className={classes.tag}>{t('Unavailable')}</div>;\n  }\n\n  if (product._displayDiscountPercentage) {\n    return (\n      <div className={classes.tag}>{product._displayDiscountPercentage}</div>\n    );\n  }\n\n  return null;\n}\n\nconst useProductInformation = makeStyles((theme) => ({\n  container: {\n    width: (props) =>\n      props.hasImage ? `calc(100% - ${IMAGE_WIDTH}px)` : '100%',\n    padding: theme.spacing(2),\n    overflow: 'hidden',\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  productName: {\n    fontWeight: 'bold',\n  },\n  productDescription: {\n    display: '-webkit-box',\n    '-webkit-box-orient': 'vertical',\n    '-webkit-line-clamp': 2,\n    overflow: 'hidden',\n  },\n  productPrice: {\n    color: theme.palette.secondary.main,\n    marginTop: theme.spacing(),\n  },\n  productDiscountedDisplayPrice: {\n    textDecoration: 'line-through',\n    color: 'black',\n  },\n}));\n\nfunction ProductInformation(props) {\n  const { product = {} } = props;\n\n  const hasImage = product && product.images && product.images[0];\n\n  const classes = useProductInformation({ hasImage });\n\n  const productPrice = product._displayDiscountPrice ? (\n    <>\n      <span className={classes.productDiscountedDisplayPrice}>\n        {product._displayPrice}\n      </span>\n      &nbsp;&nbsp;\n      {product._displayDiscountPrice}\n    </>\n  ) : (\n    product._displayPrice\n  );\n\n  return (\n    <div className={classes.container}>\n      <Typography\n        variant=\"h5\"\n        className={classes.productName}\n        gutterBottom\n        noWrap\n      >\n        {product.name}\n      </Typography>\n      <Typography\n        variant=\"body2\"\n        className={classes.productDescription}\n        gutterBottom\n      >\n        {product.description}\n      </Typography>\n\n      <Typography variant=\"body2\" className={classes.productPrice}>\n        {productPrice}\n      </Typography>\n    </div>\n  );\n}\n\nconst useProductImageStyles = makeStyles(() => ({\n  productImage: {\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    width: IMAGE_WIDTH,\n    overflow: 'hidden',\n    flexShrink: 0,\n    '& img': {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      height: '100%',\n    },\n  },\n}));\n\nfunction ProductImage(props) {\n  const { product } = props;\n  const classes = useProductImageStyles();\n\n  const image = product && product.images && product.images[0];\n  return image ? (\n    <div className={classes.productImage}>\n      <img src={image} alt={product.name} />\n    </div>\n  ) : null;\n}\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    height: 138,\n    width: '100%',\n    display: 'flex',\n    cursor: 'pointer',\n    boxSizing: 'border-box',\n  },\n}));\n\nfunction ProductCard(props) {\n  const { product = {}, onClick } = props;\n\n  const classes = useStyles();\n\n  const handleClick = React.useCallback(\n    (e) => {\n      onClick && onClick(e, product.id);\n    },\n    [onClick, product]\n  );\n\n  return (\n    <Paper className={classes.paper} onClick={handleClick}>\n      <ProductInformation product={product} />\n      <ProductImage product={product} />\n      <ProductTag product={product} />\n    </Paper>\n  );\n}\n\nexport default ProductCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductCard from './ProductCard';\n\nconst useBadgeStyles = makeStyles((theme) => ({\n  badge: {\n    color: 'white',\n    width: 'fit-content',\n    minWidth: 18,\n    height: 18,\n    fontSize: '0.675rem',\n    borderRadius: 20,\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 2,\n    paddingRight: 2,\n    boxSizing: 'border-box',\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nfunction Badge(props) {\n  const { value, className } = props;\n\n  const classes = useBadgeStyles();\n\n  return <div className={clsx(classes.badge, className)}>{value}</div>;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: 'relative',\n    width: '100%',\n  },\n  badge: {\n    position: 'absolute',\n    top: theme.spacing(),\n    right: theme.spacing(),\n    zIndex: 1,\n  },\n}));\n\nexport default ({ count = 0, ...props }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      {count ? <Badge value={count} className={classes.badge} /> : null}\n      <ProductCard {...props} />\n    </div>\n  );\n};\n","import React from 'react';\n\nimport List from './List';\nimport Loader from './Loader';\nimport CatalogProductCard from './CatalogProductCard';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction ProductList(props) {\n  const { loading, products, onClick } = props;\n\n  const { t } = useTranslation();\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <List\n      values={products}\n      ItemContainerProps={{ md: 4 }}\n      renderItem={(product) => (\n        <CatalogProductCard\n          product={product}\n          count={product.count}\n          onClick={onClick}\n        />\n      )}\n      noRecordValue={t('No product record found')}\n    />\n  );\n}\n\nProductList.defaultProps = {\n  products: [],\n  loading: false,\n  onClick: () => {},\n};\n\nexport default ProductList;\n","import React from 'react';\n\nfunction usePagination(\n  state = {\n    page: 0,\n    limit: 25,\n  }\n) {\n  const [store, setStore] = React.useState(state);\n\n  const changePage = React.useCallback(\n    (page) => setStore((store) => ({ ...store, page })),\n    []\n  );\n\n  const nextPage = React.useCallback(\n    () => setStore((store) => ({ ...store, page: store.page + 1 })),\n    []\n  );\n\n  const previousPage = React.useCallback(\n    () => setStore((store) => ({ ...store, page: store.page - 1 })),\n    []\n  );\n\n  const paginationHandler = React.useMemo(\n    () => ({ changePage, nextPage, previousPage }),\n    [nextPage, previousPage, changePage]\n  );\n\n  return [store, paginationHandler];\n}\n\nexport default usePagination;\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Pagination from '../components/Pagination';\nimport CategoryList from '../components/CategoryList';\nimport ProductSearch from '../components/ProductSearch';\nimport Loader from '../components/Loader';\nimport ProductList from '../components/ProductList';\nimport EshopAPI from '../EshopAPI';\nimport usePagination from '../hooks/usePagination';\nimport { useEshop } from '../providers/EshopProvider';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useStyles = makeStyles({\n  header: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  filters: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n});\n\nconst ALL_CATEGORY = {\n  id: -1,\n  name: 'All',\n};\n\nfunction ProductListContainer(props) {\n  const { match, history, location } = props;\n  const { url } = match;\n\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const [paginationStore, paginationHandler] = usePagination({\n    limit: 25,\n    page: (location.state || {}).page || 0,\n  });\n\n  const { limit, page } = paginationStore;\n\n  const { cart = {}, config = {} } = useEshop();\n\n  const [\n    { loadingProducts, products, totalProducts },\n    setProductsStore,\n  ] = useState({\n    products: [],\n    totalProducts: 0,\n    loadingProducts: true,\n  });\n\n  const previouslySetCategoryId = Number(\n    location &&\n      location.search &&\n      new URLSearchParams(location.search).get('categoryid')\n  );\n\n  const [\n    { loadingCategories, categories, selectedCategoryId },\n    setCategoriesStore,\n  ] = useState({\n    categories: [ALL_CATEGORY],\n    selectedCategoryId: previouslySetCategoryId || -1,\n    loadingCategories: true,\n  });\n\n  const [searchInput, setSearchInput] = useState(undefined);\n\n  const handleChangePage = useCallback(\n    (page) => {\n      paginationHandler.changePage(page);\n      history.replace({\n        pathname: url,\n        state: { page },\n        search: location.search,\n      });\n    },\n    [url, history, location, paginationHandler]\n  );\n\n  useEffect(() => {\n    async function fetchCategories() {\n      setCategoriesStore((store) => ({ ...store, loadingCategories: true }));\n      EshopAPI.fetchCategories()\n        .then((categories) => {\n          setCategoriesStore((store) => ({\n            ...store,\n            categories: [ALL_CATEGORY].concat(categories),\n            loadingCategories: false,\n          }));\n        })\n        .catch(() => {\n          setCategoriesStore((store) => ({\n            ...store,\n            loadingCategories: false,\n          }));\n        });\n    }\n\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    async function fetchProducts() {\n      setProductsStore((store) => ({ ...store, loadingProducts: true }));\n\n      const query = {\n        limit,\n        page: page + 1,\n        searchInput,\n      };\n\n      const handleResult = ({ data, total, offset }) => {\n        if (total < offset) {\n          handleChangePage(0);\n        } else {\n          setProductsStore({\n            products: data.map((product) => ({\n              ...product,\n              count: cart[product.id],\n            })),\n            totalProducts: total,\n            loadingProducts: false,\n          });\n        }\n      };\n\n      const promise =\n        selectedCategoryId === -1\n          ? EshopAPI.fetchProducts(query)\n          : EshopAPI.fetchCategoryProducts(selectedCategoryId, query);\n\n      promise.then(handleResult).catch(() => {\n        setProductsStore((store) => ({ ...store, loadingProducts: false }));\n      });\n    }\n\n    fetchProducts();\n  }, [selectedCategoryId, limit, page, searchInput, cart, handleChangePage]);\n\n  const handleCategoryClick = useCallback(\n    (chipId = -1) => {\n      history.replace({\n        pathname: url,\n        search: `?categoryid=${Number(chipId)}`,\n      });\n      paginationHandler.changePage(0);\n      setCategoriesStore((store) => ({\n        ...store,\n        selectedCategoryId: Number(chipId),\n      }));\n    },\n    [history, url, paginationHandler]\n  );\n\n  const handleProductClick = useCallback(\n    (e, productId) => {\n      history.push({\n        pathname: `${url}/product/${productId}`,\n        state: { page },\n        search: location.search,\n      });\n    },\n    [history, url, page, location]\n  );\n\n  return (\n    <>\n      <div className={classes.header}>\n        <div className={classes.filters}>\n          {loadingCategories ? (\n            <Loader />\n          ) : (\n            <CategoryList\n              categories={categories}\n              selectedCategoryId={selectedCategoryId}\n              onCategoryClick={handleCategoryClick}\n            />\n          )}\n\n          <ProductSearch value={searchInput} onChange={setSearchInput} />\n        </div>\n\n        <Pagination\n          label={`${t('Products')} : ${\n            totalProducts ? page * limit + 1 : 0\n          } to ${\n            Math.min(page * limit + limit, totalProducts) || 0\n          } of ${totalProducts}`}\n          onNext={paginationHandler.nextPage}\n          onPrevious={paginationHandler.previousPage}\n          disablePrevious={page === 0}\n          disableNext={(page + 1) * limit >= totalProducts}\n        />\n      </div>\n      <div>\n        <Typography gutterBottom>\n          <i>{`${\n            config.isAti\n              ? t('All prices include taxes')\n              : t('All prices are tax free')\n          }`}</i>\n        </Typography>\n      </div>\n      <ProductList\n        loading={loadingProducts}\n        onClick={handleProductClick}\n        products={products}\n      />\n    </>\n  );\n}\n\nexport default ProductListContainer;\n","import React, { useEffect, useCallback, useState } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport CheckoutContainer from './Checkout';\nimport CheckoutMessageContainer from './CheckoutMessage';\nimport ProductViewContainer from './ProductView';\nimport ProductListContainer from './ProductList';\nimport { useEshop } from '../providers/EshopProvider';\nimport EshopAPI from '../EshopAPI';\nimport Loader from '../components/Loader';\n\nfunction EshopViewContainer(props) {\n  const { match, history } = props;\n  const { path, url } = match;\n\n  const [loading, setLoading] = useState(true);\n  const { clearCart, setConfig } = useEshop();\n\n  const handleRedirectToCheckout = useCallback(() => {\n    history.replace(`${url}/checkout`);\n  }, [history, url]);\n\n  const handleRedirectToEshop = useCallback(() => {\n    history.replace(url);\n  }, [history, url]);\n\n  const handleRedirectToCheckoutMessage = useCallback(\n    (messageType) => {\n      history.replace(`${url}/checkout/${messageType}`);\n    },\n    [history, url]\n  );\n\n  const fetchConfiguration = useCallback(() => {\n    EshopAPI.fetchConfiguration()\n      .then(setConfig)\n      .finally(() => setLoading(false));\n  }, [setConfig]);\n\n  useEffect(() => {\n    fetchConfiguration();\n  }, [fetchConfiguration]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <Switch>\n      <Route\n        path={`${path}/checkout/:messageType`}\n        render={(props) => (\n          <CheckoutMessageContainer\n            {...props}\n            onSuccessMount={clearCart}\n            onSuccessRedirect={handleRedirectToEshop}\n            onFailureRedirect={handleRedirectToCheckout}\n          />\n        )}\n      />\n      <Route\n        path={`${path}/checkout`}\n        render={(props) => (\n          <CheckoutContainer\n            {...props}\n            onRedirectToCheckoutMessage={handleRedirectToCheckoutMessage}\n          />\n        )}\n      />\n      <Route\n        path={`${path}/product/:productId`}\n        component={ProductViewContainer}\n      />\n      <Route path={path} component={ProductListContainer} />\n      <Redirect to={path} />\n    </Switch>\n  );\n}\n\nexport default EshopViewContainer;\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport EshopViewContainer from '../containers/EshopView';\n\nfunction Eshop(props) {\n  const { match } = props;\n  const { path } = match;\n\n  return (\n    <Switch>\n      <Route path={path} component={EshopViewContainer} />\n      <Redirect to={path} />\n    </Switch>\n  );\n}\n\nexport default Eshop;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport Paper from './Paper';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: 138,\n    padding: theme.spacing(),\n  },\n  action: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n}));\n\nfunction AddressCard({ address, onDelete, onEdit }) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container justify=\"center\" spacing={2}>\n        <Grid item xs={12}>\n          <div className={classes.action}>\n            <IconButton size=\"small\" onClick={(e) => onEdit(e, address)}>\n              <EditIcon />\n            </IconButton>\n            <IconButton size=\"small\" onClick={(e) => onDelete(e, address)}>\n              <DeleteIcon />\n            </IconButton>\n          </div>\n        </Grid>\n        <Grid item xs={12}>\n          <Typography>{address.displayAddress}</Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n\nAddressCard.defaultProps = {\n  onDelete: () => {},\n  onEdit: () => {},\n};\n\nexport default AddressCard;\n","import React from 'react';\n\nimport AddressCard from './AddressCard';\nimport List from './List';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction AddressList(props) {\n  const { addresses, onDelete, onEdit } = props;\n\n  const { t } = useTranslation();\n\n  return (\n    <List\n      values={addresses}\n      noRecordLabel={t('No record found')}\n      renderItem={(address) => (\n        <AddressCard address={address} onDelete={onDelete} onEdit={onEdit} />\n      )}\n    />\n  );\n}\n\nAddressList.defaultProps = {\n  addresses: [],\n  onDelete: () => {},\n};\n\nexport default AddressList;\n","import React, { useState, useEffect } from 'react';\nimport { useSnackbar } from 'notistack';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ConfirmationDialog from '../components/ConfirmationDialog';\nimport AddressList from '../components/AddressList';\nimport Loader from '../components/Loader';\nimport EshopAPI from '../EshopAPI';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(2),\n  },\n  headerAction: {\n    fontSize: '0.7rem',\n  },\n}));\n\nfunction AddressListContainer(props) {\n  const { onNew, onEdit } = props;\n\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [{ loading, addresses, address, dialogOpen }, setStore] = useState({\n    addresses: [],\n    address: null,\n    loading: true,\n    dialogOpen: false,\n  });\n\n  function fetchAddresses() {\n    EshopAPI.fetchAddresses()\n      .then(({ data }) => {\n        setStore((store) => ({\n          ...store,\n          addresses: data,\n          loading: false,\n        }));\n      })\n      .catch(() => {\n        setStore((store) => ({ ...store, loading: false }));\n      });\n  }\n\n  function handleOpenDeleteDialog(e, address) {\n    setStore((store) => ({\n      ...store,\n      address,\n      dialogOpen: true,\n    }));\n  }\n\n  function handleCloseDeleteDialog() {\n    setStore((store) => ({ ...store, address: null, dialogOpen: false }));\n  }\n\n  function handleRemoveAddressFromList(addressId) {\n    setStore((store) => ({\n      ...store,\n      addresses: addresses.filter((address) => address.id !== addressId),\n    }));\n  }\n\n  function handleDeleteAddress() {\n    const addressId = address.id;\n    EshopAPI.deleteAddress(addressId)\n      .then(() => handleRemoveAddressFromList(addressId))\n      .catch(() => {\n        enqueueSnackbar(t('Error'), { variant: 'error' });\n      })\n      .finally(handleCloseDeleteDialog);\n  }\n\n  useEffect(() => {\n    fetchAddresses();\n  }, []);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <div className={classes.header}>\n        <Typography variant=\"h5\">{t('Addresses')}</Typography>\n        <Button className={classes.headerAction} onClick={onNew}>\n          {t('New address')}\n        </Button>\n      </div>\n      <AddressList\n        addresses={addresses}\n        onDelete={handleOpenDeleteDialog}\n        onEdit={onEdit}\n      />\n      <ConfirmationDialog\n        onConfirm={handleDeleteAddress}\n        onClose={handleCloseDeleteDialog}\n        title={t('Confirm deletion')}\n        open={dialogOpen}\n      >\n        <p>{address && address.address}</p>\n      </ConfirmationDialog>\n    </>\n  );\n}\n\nAddressListContainer.defaultProps = {\n  onNew: () => {},\n  onEdit: () => {},\n};\n\nexport default AddressListContainer;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from './Paper';\nimport Input from './Input';\nimport Select from './Select';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(),\n    overflow: 'visible',\n  },\n}));\n\nfunction AddressForm(props) {\n  const { errors, values, onChange, onSubmit, cities, disabled } = props;\n\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <Paper className={classes.paper}>\n      <form onSubmit={onSubmit} noValidate>\n        <Grid container spacing={2} justify=\"center\">\n          <Grid item xs={12}>\n            <Input\n              name=\"address\"\n              label={t('Address')}\n              value={values.address}\n              error={errors.address}\n              onChange={onChange}\n              disabled={disabled}\n              required\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Input\n              name=\"addressComplement\"\n              label={t('Complement')}\n              value={values.addressComplement}\n              onChange={onChange}\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <Select\n              name=\"city\"\n              label={t('City')}\n              value={values.city}\n              options={cities}\n              error={errors.city}\n              onChange={onChange}\n              disabled={disabled}\n              required\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <Input\n              name=\"zipCode\"\n              label={t('Zip code')}\n              value={values.zipCode}\n              error={errors.zipCode}\n              onChange={onChange}\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={12} align=\"right\">\n            <Button type=\"submit\" disabled={disabled}>\n              {t('Save')}\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n}\n\nAddressForm.defaultProps = {\n  errors: {},\n  values: {},\n  cities: [],\n  onChange: () => {},\n  onSubmit: () => {},\n};\n\nexport default AddressForm;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport { useSnackbar } from 'notistack';\n\nimport EshopAPI from '../EshopAPI';\nimport AddressForm from '../components/AddressForm';\nimport Loader from '../components/Loader';\nimport { useTranslation } from '../providers/TranslationProvider';\nimport { useEshop } from '../providers/EshopProvider';\n\nfunction AddressFormContainer(props) {\n  const { redirectToAddressList, match, history, location } = props;\n  const { setInvoicingAddress, setDeliveryAddress } = useEshop();\n  const { params } = match;\n  const { addressId } = params;\n\n  const { enqueueSnackbar } = useSnackbar();\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [cities, setCities] = useState([]);\n  const [validateOnChange, setValidateOnChange] = useState(false);\n  const [address, setAddress] = useState({\n    name: '',\n    personName: '',\n    addressComplement: '',\n    address: '',\n    city: '',\n    zipCode: '',\n    country: '',\n    id: undefined,\n  });\n\n  const handleRedirectAfterSave = useCallback(() => {\n    const fromUrl = location && location.state && location.state.fromUrl;\n    if (fromUrl) {\n      history.replace(fromUrl);\n    } else {\n      redirectToAddressList();\n    }\n  }, [location, history, redirectToAddressList]);\n\n  async function handleSubmitAddress(address) {\n    setSaving(true);\n    const service = address.id\n      ? EshopAPI.updateAddress(address.id, address)\n      : EshopAPI.addAddress(address);\n\n    service\n      .then((address) => {\n        if (address.id) {\n          setInvoicingAddress(address.id);\n          setDeliveryAddress(address.id);\n        }\n      })\n      .then(() => {\n        setSaving(false);\n        handleRedirectAfterSave();\n      })\n      .catch(() => {\n        enqueueSnackbar(t('Error'), { variant: 'error' });\n        setSaving(false);\n      });\n  }\n\n  useEffect(() => {\n    if (!addressId) {\n      // new address\n      setLoading(false);\n    } else {\n      EshopAPI.fetchAddress(addressId)\n        .then((address) => {\n          setAddress(address);\n          setLoading(false);\n        })\n        .catch(redirectToAddressList);\n    }\n  }, [addressId, redirectToAddressList]);\n\n  useEffect(() => {\n    EshopAPI.fetchCities().then((cities) => {\n      setCities(\n        cities.map((city) => ({\n          label: city.name,\n          value: city.id,\n          zipCode: city.zip,\n          country: city.country && city.country.id,\n        }))\n      );\n    });\n  }, []);\n\n  const {\n    values,\n    errors,\n    handleChange: handleChangeFormik,\n    handleSubmit: handleSubmitFormik,\n    setValues,\n  } = useFormik({\n    validateOnChange,\n    initialValues: {\n      name: address.name,\n      personName: address.personName,\n      addressComplement: address.addressComplement,\n      address: address.address,\n      city: address.city,\n      zipCode: address.zipCode,\n      country: address.country,\n      id: address.id,\n    },\n    validate: (values) => {\n      const errors = {};\n\n      if (!values.address) {\n        errors.address = `${t('Address')} ${t('Required')}`;\n      }\n      if (!values.city) {\n        errors.city = `${t('City')} ${t('Required')}`;\n      }\n\n      return errors;\n    },\n    onSubmit: async (values) => {\n      await handleSubmitAddress(values);\n    },\n    enableReinitialize: true,\n  });\n\n  const { t } = useTranslation();\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      setValidateOnChange(true);\n      handleSubmitFormik();\n    },\n    [handleSubmitFormik]\n  );\n\n  const handleChange = useCallback(\n    (e) => {\n      const { name, value } = e.target;\n      if (name === 'city') {\n        const city = cities.find((city) => city.value === value);\n        if (city && city.zipCode) {\n          setValues({\n            ...values,\n            city: value,\n            zipCode: city.zipCode,\n            country: city.country,\n          });\n        }\n      } else {\n        handleChangeFormik(e);\n      }\n    },\n    [cities, handleChangeFormik, values, setValues]\n  );\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <Grid container>\n      <Grid item xs={12} md={3}></Grid>\n      <Grid item xs={12} md={6}>\n        <AddressForm\n          cities={cities}\n          values={values}\n          errors={errors}\n          disabled={saving}\n          onSubmit={handleSubmit}\n          onChange={handleChange}\n        />\n      </Grid>\n      <Grid item xs={12} md={3}></Grid>\n    </Grid>\n  );\n}\n\nexport default AddressFormContainer;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport AddressListContainer from '../containers/AddressList';\nimport AddressFormContainer from '../containers/AddressForm';\n\nfunction Address(props) {\n  const { match, history } = props;\n  const { path, url } = match;\n\n  const newAddressPath = path + '/new';\n  const editAddressPath = path + '/:addressId';\n  const addressListPath = path;\n\n  const handleRedirect = React.useCallback(\n    (path, replace) => {\n      const cb = replace ? history.replace : history.push;\n      cb(path);\n    },\n    [history]\n  );\n\n  const redirectToNewAddress = React.useCallback(() => {\n    handleRedirect(`${url}/new`);\n  }, [url, handleRedirect]);\n\n  const redirectToEditAddress = React.useCallback(\n    (e, address) => {\n      handleRedirect(`${url}/${address.id}`);\n    },\n    [url, handleRedirect]\n  );\n\n  const redirectToAddressList = React.useCallback(() => {\n    handleRedirect(url, true);\n  }, [url, handleRedirect]);\n\n  const withRouterProps = React.useCallback(\n    (Component, props = {}) => (routerProps) => (\n      <Component {...routerProps} {...props} />\n    ),\n    []\n  );\n\n  return (\n    <Switch>\n      <Route\n        path={newAddressPath}\n        render={withRouterProps(AddressFormContainer, {\n          redirectToAddressList,\n        })}\n      />\n      <Route\n        path={editAddressPath}\n        render={withRouterProps(AddressFormContainer, {\n          redirectToAddressList,\n        })}\n      />\n      <Route\n        path={addressListPath}\n        render={withRouterProps(AddressListContainer, {\n          onNew: redirectToNewAddress,\n          onEdit: redirectToEditAddress,\n        })}\n      />\n\n      <Redirect to={path} />\n    </Switch>\n  );\n}\n\nexport default Address;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NumberFormat from 'react-number-format';\n\nimport Input from './Input';\nimport Paper from './Paper';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(3),\n  },\n  error: {\n    color: theme.palette.error.main,\n  },\n}));\n\nconst MaskInput = (props) => {\n  const { onChange, inputRef, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      isNumericString\n    />\n  );\n};\n\nfunction limit(val, max) {\n  if (val.length === 1 && val[0] > max[0]) {\n    val = '0' + val;\n  }\n\n  if (val.length === 2) {\n    if (Number(val) === 0) {\n      val = '01';\n\n      //this can happen when user paste number\n    } else if (val > max) {\n      val = max;\n    }\n  }\n\n  return val;\n}\n\nfunction cardExpiry(val) {\n  const month = limit(val.substring(0, 2), '12');\n  const year = val.substring(2, 4);\n\n  return month + (year.length ? '/' + year : '');\n}\n\nfunction PaymentCardForm(props) {\n  const { errors, values, disabled, onChange, onSubmit } = props;\n\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return (\n    <Paper className={classes.paper}>\n      <form onSubmit={onSubmit} noValidate>\n        <Grid container spacing={2} justify=\"center\">\n          <Grid item xs={12}>\n            <Input\n              name=\"name\"\n              label={t('Name')}\n              disabled={disabled}\n              value={values.name}\n              error={errors.name}\n              onChange={onChange}\n              required\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Input\n              name=\"cardNumber\"\n              label={t('Card number')}\n              disabled={disabled}\n              value={values.cardNumber}\n              error={errors.cardNumber}\n              onChange={onChange}\n              required\n              InputProps={{\n                inputComponent: MaskInput,\n                inputProps: {\n                  format: '#### #### #### ####',\n                  placeholder: '1234 1234 1234 1234',\n                },\n              }}\n            />\n          </Grid>\n\n          <Grid item xs={6}>\n            <Input\n              name=\"expiry\"\n              label={t('Expiry')}\n              disabled={disabled}\n              value={values.expiry}\n              error={errors.expiry}\n              onChange={onChange}\n              required\n              InputProps={{\n                inputComponent: MaskInput,\n                inputProps: {\n                  format: cardExpiry,\n                  placeholder: 'MM/YY',\n                },\n              }}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <Input\n              name=\"cvc\"\n              label={t('CVC')}\n              disabled={disabled}\n              value={values.cvc}\n              error={errors.cvc}\n              onChange={onChange}\n              required\n              InputProps={{\n                inputComponent: MaskInput,\n                inputProps: {\n                  format: '####',\n                  placeholder: 'CVC',\n                },\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} align=\"right\">\n            <Button raised type=\"submit\" disabled={disabled}>\n              {t('Save')}\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n}\n\nPaymentCardForm.defaultProps = {\n  errors: {},\n  values: {},\n  disabled: false,\n  onChange: () => {},\n  onSubmit: () => {},\n};\n\nexport default PaymentCardForm;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useFormik } from 'formik';\nimport Grid from '@material-ui/core/Grid';\nimport { useSnackbar } from 'notistack';\n\nimport Loader from '../components/Loader';\nimport PaymentCardForm from '../components/PaymentCardForm';\nimport EshopAPI from '../EshopAPI';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction PaymentCardFormContainer(props) {\n  const { redirectToCardList, match } = props;\n  const { params } = match;\n  const { cardId } = params;\n\n  const { t } = useTranslation();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [card, setCard] = useState({\n    name: '',\n    cardNumber: '',\n    expiry: '',\n    cvc: '',\n  });\n  const [validateOnChange, setValidateOnChange] = useState(false);\n\n  async function handleSubmitPaymentCard(values) {\n    setSaving(true);\n    const service = card.id\n      ? EshopAPI.updatePaymentCard(card.id, values)\n      : EshopAPI.addPaymentCard(values);\n\n    service\n      .then(() => {\n        setSaving(false);\n        redirectToCardList();\n      })\n      .catch((error) => {\n        enqueueSnackbar(\n          t('Error') + `${error.message ? ` :  ${error.message}` : ''}`,\n          {\n            variant: 'error',\n          }\n        );\n        setSaving(false);\n      });\n  }\n\n  const {\n    values,\n    errors,\n    handleSubmit: handleSubmitFormik,\n    handleChange,\n  } = useFormik({\n    validateOnChange,\n    initialValues: {\n      name: card.name,\n      cardNumber: card.cardNumber,\n      expiry: card.expiry,\n      cvc: card.cvc,\n    },\n    validate: (values) => {\n      const errors = {};\n\n      if (!values.name) {\n        errors.name = `${t('Name')} ${t('Required')}`;\n      }\n\n      if (!values.cardNumber) {\n        errors.cardNumber = `${t('Card number')} ${t('Required')}`;\n      } else if (values.cardNumber.length < 16) {\n        errors.cardNumber = `${t('Invalid card number')}`;\n      }\n\n      if (!values.expiry) {\n        errors.expiry = `${t('Expiry')} ${t('Required')}`;\n      } else if (values.expiry.length < 4) {\n        errors.expiry = `${t('Invalid expiry')}`;\n      }\n\n      if (!values.cvc) {\n        errors.cvc = `${t('CVC')} ${t('Required')}`;\n      } else if (values.cvc.length < 3) {\n        errors.cvc = `${t('Invalid cvc')}`;\n      }\n\n      return errors;\n    },\n    onSubmit: async (values) => {\n      await handleSubmitPaymentCard(values);\n    },\n    enableReinitialize: true,\n  });\n\n  useEffect(() => {\n    if (!cardId) {\n      // new card\n      setLoading(false);\n    } else {\n      EshopAPI.fetchPaymentCard(cardId)\n        .then((card) => {\n          setCard(card);\n          setLoading(false);\n        })\n        .catch(redirectToCardList);\n    }\n  }, [cardId, redirectToCardList]);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      setValidateOnChange(true);\n      handleSubmitFormik();\n    },\n    [handleSubmitFormik]\n  );\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <Grid container>\n      <Grid item xs={12} md={3}></Grid>\n      <Grid item xs={12} md={6}>\n        <PaymentCardForm\n          values={values}\n          errors={errors}\n          disabled={saving}\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n        />\n      </Grid>\n      <Grid item xs={12} md={3}></Grid>\n    </Grid>\n  );\n}\n\nexport default PaymentCardFormContainer;\n","import React from 'react';\nimport clsx from 'clsx';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport StarIcon from '@material-ui/icons/Star';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport Paper from './Paper';\n\nconst backgrounds = [\n  'linear-gradient(to right top, #e186d8, #e575c7, #e763b4, #e9509f, #e83a89, #e72b78, #e51a67, #e10055, #dd0045, #d80035, #d20024, #ca0810)',\n  'linear-gradient(to right top, #3dda76, #00d3a0, #00c9c0, #00bcd2, #00aed5, #00a4d4, #089ad2, #228fce, #0f87cf, #027fcf, #0877cf, #1a6ecd)',\n  'linear-gradient(to right top, #f2a826, #f09a1d, #ed8b15, #ea7c10, #e76d0e, #e96218, #ea5621, #ea4a29, #ef4038, #f33546, #f52a55, #f62063)',\n  'linear-gradient(to right top, #cd26f2, #b320df, #9a19cc, #8211b9, #6b09a6, #5e069e, #510496, #43028e, #3b048f, #310690, #250991, #140b92)',\n];\n\nconst cardBrandBackground = {\n  visa: backgrounds[0],\n  mastercard: backgrounds[1],\n  'american express': backgrounds[2],\n  default: backgrounds[3],\n};\n\nconst getCardBackground = (brand) => {\n  return (\n    cardBrandBackground[brand.toLowerCase()] || cardBrandBackground['default']\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: 180,\n    display: 'flex',\n    cursor: 'pointer',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: theme.spacing(2),\n    background: (props) => getCardBackground(props.brand),\n    borderRadius: `${theme.spacing(3)}px !important`,\n  },\n  text: {\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  number: {\n    letterSpacing: theme.spacing(0.5),\n  },\n  icon: {\n    color: '#ffc107',\n  },\n}));\n\nfunction PaymentCard(props) {\n  const { card, isDefault, onEdit, onDelete, onDefault } = props;\n  const { brand = '', expiryDisplay = '', last4 = '' } = card;\n\n  const classes = useStyles({ brand });\n\n  const handleDelete = React.useCallback(\n    (e) => {\n      onDelete(e, card);\n    },\n    [onDelete, card]\n  );\n\n  const handleEdit = React.useCallback(\n    (e) => {\n      onEdit(e, card);\n    },\n    [onEdit, card]\n  );\n\n  const handleDefault = React.useCallback(\n    (e) => {\n      onDefault(e, card);\n    },\n    [onDefault, card]\n  );\n\n  return (\n    <Paper className={classes.paper}>\n      <div>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography variant=\"h6\" className={classes.text} align=\"right\">\n              {card.brand}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <IconButton\n              size=\"small\"\n              className={classes.text}\n              onClick={handleDefault}\n            >\n              {isDefault ? (\n                <StarIcon className={classes.icon} />\n              ) : (\n                <StarBorderIcon className={classes.icon} />\n              )}\n            </IconButton>\n            <IconButton\n              size=\"small\"\n              className={classes.text}\n              onClick={handleEdit}\n            >\n              <EditIcon />\n            </IconButton>\n            <IconButton\n              size=\"small\"\n              className={classes.text}\n              onClick={handleDelete}\n            >\n              <DeleteIcon />\n            </IconButton>\n          </Grid>\n        </Grid>\n      </div>\n      <div>\n        <Typography\n          className={clsx(classes.text, classes.number)}\n          align=\"center\"\n        >\n          <b>{`••••  ••••  ••••  ${last4 || '••••'}`}</b>\n        </Typography>\n      </div>\n      <div>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography className={classes.text}>{card.name}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography className={classes.text}>{expiryDisplay}</Typography>\n          </Grid>\n        </Grid>\n      </div>\n    </Paper>\n  );\n}\n\nPaymentCard.defaultProps = {\n  card: {},\n  onEdit: () => {},\n  onDelete: () => {},\n};\n\nexport default PaymentCard;\n","import React from 'react';\n\nimport List from './List';\nimport PaymentCard from './PaymentCard';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nfunction PaymentCardList(props) {\n  const { cards, defaultCardId, onDelete, onEdit, onDefault } = props;\n\n  const { t } = useTranslation();\n\n  return (\n    <List\n      values={cards}\n      renderItem={(card) => (\n        <PaymentCard\n          card={card}\n          onDefault={onDefault}\n          onDelete={onDelete}\n          onEdit={onEdit}\n          isDefault={card.id === defaultCardId}\n        />\n      )}\n      noRecordLabel={t('No record found')}\n    />\n  );\n}\n\nPaymentCardList.defaultProps = {\n  cards: [],\n  onDelete: () => {},\n  onEdit: () => {},\n};\n\nexport default PaymentCardList;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSnackbar } from 'notistack';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Loader from '../components/Loader';\nimport PaymentCardList from '../components/PaymentCardList';\nimport ConfirmationDialog from '../components/ConfirmationDialog';\nimport EshopAPI from '../EshopAPI';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst usePaymentCardListStyles = makeStyles((theme) => ({\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(2),\n  },\n  headerAction: {\n    fontSize: '0.7rem',\n  },\n}));\n\nfunction PaymentCardListContainer(props) {\n  const { onNew, onEdit } = props;\n\n  const { t } = useTranslation();\n  const classes = usePaymentCardListStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [cards, setCards] = useState([]);\n  const [defaultPaymentCardId, setDefaultPaymentCardId] = useState();\n  const [card, setCard] = useState();\n  const [loading, setLoading] = useState(true);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n\n  function fetchPaymentCards() {\n    EshopAPI.fetchPaymentCards()\n      .then((res) => {\n        const cards = res.data;\n        EshopAPI.fetchDefaultPaymentCard()\n          .then((res) => {\n            if (res.id) {\n              setDefaultPaymentCardId(res.id);\n            }\n            setCards(cards);\n            setLoading(false);\n          })\n          .catch(() => {\n            setCards(cards);\n            setLoading(false);\n          });\n      })\n      .catch(() => {\n        setLoading(false);\n      });\n  }\n\n  useEffect(() => {\n    fetchPaymentCards();\n  }, []);\n\n  function handleOpenDeleteDialog(e, card) {\n    setCard(card);\n    setDeleteDialogOpen(true);\n  }\n\n  function handleCloseDeleteDialog() {\n    setCard(null);\n    setDeleteDialogOpen(false);\n  }\n\n  function handleRemoveCardFromList(cardId) {\n    setCards((cards) => cards.filter((card) => card.id !== cardId));\n  }\n\n  function handleDeleteCard() {\n    const cardId = card.id;\n    EshopAPI.deletePaymentCard(cardId)\n      .then(() => handleRemoveCardFromList(cardId))\n      .catch(() => {\n        enqueueSnackbar(t('Error'), { variant: 'error' });\n      })\n      .finally(handleCloseDeleteDialog);\n  }\n\n  const handleUpdateDefaultCard = useCallback(\n    (e, card) => {\n      const cardId = card.id;\n      EshopAPI.updateDefaultPaymentCard(cardId)\n        .then(() => {\n          setDefaultPaymentCardId(cardId);\n        })\n        .catch(() => {\n          enqueueSnackbar(t('Error'), { variant: 'error' });\n        });\n    },\n    [enqueueSnackbar, t]\n  );\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <div className={classes.header}>\n        <Typography variant=\"h5\">{t('Credit card')}</Typography>\n        <Button className={classes.headerAction} onClick={onNew}>\n          {t('Add a credit card')}\n        </Button>\n      </div>\n      <PaymentCardList\n        cards={cards}\n        defaultCardId={defaultPaymentCardId}\n        onDelete={handleOpenDeleteDialog}\n        onDefault={handleUpdateDefaultCard}\n        onEdit={onEdit}\n      />\n      <ConfirmationDialog\n        onConfirm={handleDeleteCard}\n        onClose={handleCloseDeleteDialog}\n        title={t('Confirm deletion')}\n        open={deleteDialogOpen}\n      >\n        <p>{card && `••••  ••••  ••••  ${card.last4}`}</p>\n      </ConfirmationDialog>\n    </>\n  );\n}\n\nexport default PaymentCardListContainer;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport PaymentCardFormContainer from '../containers/PaymentCardForm';\nimport PaymentCardListContainer from '../containers/PaymentCardList';\n\nfunction PaymentCard(props) {\n  const { match, history } = props;\n  const { path, url } = match;\n\n  const newPaymentCardPath = path + '/new';\n  const editPaymentCardPath = path + '/:cardId';\n  const paymentCardListPath = path;\n\n  const handleRedirect = React.useCallback(\n    (path, replace) => {\n      const cb = replace ? history.replace : history.push;\n      cb(path);\n    },\n    [history]\n  );\n\n  const redirectToNewCard = React.useCallback(() => {\n    handleRedirect(`${url}/new`);\n  }, [url, handleRedirect]);\n\n  const redirectToEditCard = React.useCallback(\n    (e, card) => {\n      handleRedirect(`${url}/${card.id}`);\n    },\n    [url, handleRedirect]\n  );\n\n  const redirectToCardList = React.useCallback(() => {\n    handleRedirect(url, true);\n  }, [url, handleRedirect]);\n\n  const withRouterProps = React.useCallback(\n    (Component, props = {}) => (routerProps) => (\n      <Component {...routerProps} {...props} />\n    ),\n    []\n  );\n\n  return (\n    <Switch>\n      <Route\n        exact\n        path={newPaymentCardPath}\n        render={withRouterProps(PaymentCardFormContainer, {\n          redirectToCardList,\n        })}\n      />\n      <Route\n        exact\n        path={editPaymentCardPath}\n        render={withRouterProps(PaymentCardFormContainer, {\n          redirectToCardList,\n        })}\n      />\n      <Route\n        exact\n        path={paymentCardListPath}\n        render={withRouterProps(PaymentCardListContainer, {\n          onNew: redirectToNewCard,\n          onEdit: redirectToEditCard,\n        })}\n      />\n    </Switch>\n  );\n}\n\nexport default PaymentCard;\n","import React from 'react';\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nconst useBackButtonStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nfunction BackButton(props) {\n  const { onClick, size, className } = props;\n\n  const classes = useBackButtonStyles();\n\n  return (\n    <IconButton\n      size={size}\n      onClick={onClick}\n      className={clsx(classes.root, className)}\n    >\n      <BackIcon />\n    </IconButton>\n  );\n}\n\nBackButton.defaultProps = { onClick: () => {}, size: 'medium' };\n\nexport default BackButton;\n","import React, { useState, useCallback } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Drawer from '@material-ui/core/Drawer';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport AddressIcon from '@material-ui/icons/Room';\nimport PaymentCardIcon from '@material-ui/icons/CreditCard';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Divider from '../components/Divider';\nimport BackButton from '../components/BackButton';\nimport { useEshop } from '../providers/EshopProvider';\nimport { useTranslation } from '../providers/TranslationProvider';\n\nconst useClientToolbarStyles = makeStyles({\n  root: {\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n});\n\nfunction ClientToolbar(props) {\n  const { onBack } = props;\n  const classes = useClientToolbarStyles();\n  return (\n    <div className={classes.root}>\n      <BackButton onClick={onBack} />\n    </div>\n  );\n}\n\nClientToolbar.defaultProps = { onBack: () => {} };\n\nconst useShoppingCartStyles = makeStyles((theme) => ({\n  badge: {\n    color: '#FFFFFF',\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nfunction ShoppingCart({ onClick, content }) {\n  const classes = useShoppingCartStyles();\n\n  const { cart } = useEshop();\n\n  const cartLength = Object.values(cart || {}).reduce(\n    (a, b) => Number(a) + Number(b),\n    0\n  );\n\n  return (\n    <IconButton size=\"small\" onClick={onClick}>\n      <Badge badgeContent={cartLength} classes={{ badge: classes.badge }}>\n        <ShoppingCartIcon />\n      </Badge>\n    </IconButton>\n  );\n}\n\nconst useEshopToolbarStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  eshopName: {\n    color: theme.palette.secondary.main,\n    fontWeight: 'bold',\n  },\n  sidebarPaper: {\n    paddingTop: theme.spacing(5),\n  },\n  listItem: {\n    '&:hover': {\n      color: theme.palette.secondary.main,\n      backgroundColor: theme.palette.secondary.light,\n      '& .list-icon': {\n        color: theme.palette.secondary.main,\n      },\n    },\n  },\n}));\nfunction EshopToolbar(props) {\n  const {\n    showMenuButton,\n    showBackButton,\n    onBack,\n    onCheckout,\n    onLinkClick,\n  } = props;\n\n  const { t } = useTranslation();\n  const classes = useEshopToolbarStyles();\n\n  const [sideBarOpen, setSideBarOpen] = useState(false);\n\n  const handleLinkClick = useCallback(\n    (type) => {\n      setSideBarOpen(false);\n      setTimeout(() => {\n        onLinkClick(type); // Redirect after sidebar closes\n      }, 200);\n    },\n    [onLinkClick]\n  );\n\n  const links = [\n    {\n      label: t('Eshop'),\n      Icon: ShoppingBasketIcon,\n      onClick: () => handleLinkClick('eshop'),\n    },\n    {\n      label: t('Addresses'),\n      Icon: AddressIcon,\n      onClick: () => handleLinkClick('address'),\n    },\n    {\n      label: t('Payment Cards'),\n      Icon: PaymentCardIcon,\n      onClick: () => handleLinkClick('payment-card'),\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n      {showMenuButton && (\n        <IconButton\n          onClick={() => {\n            setSideBarOpen((open) => !open);\n          }}\n        >\n          <MenuIcon />\n        </IconButton>\n      )}\n      {showBackButton && <BackButton onClick={onBack} />}\n      &nbsp;\n      <div className={classes.grow}></div>\n      <ShoppingCart onClick={onCheckout} />\n      <Drawer\n        anchor=\"left\"\n        open={sideBarOpen}\n        onClose={() => setSideBarOpen(false)}\n        ModalProps={{ disablePortal: true }}\n        PaperProps={{\n          className: classes.sidebarPaper,\n        }}\n      >\n        <div>\n          <Divider />\n        </div>\n        <List>\n          {links.map(({ label, Icon, onClick }) => (\n            <React.Fragment key={label}>\n              <ListItem\n                button\n                key={label}\n                className={classes.listItem}\n                onClick={onClick}\n              >\n                <ListItemIcon className=\"list-icon\">\n                  <Icon />\n                </ListItemIcon>\n                <ListItemText primary={label} />\n              </ListItem>\n            </React.Fragment>\n          ))}\n        </List>\n      </Drawer>\n    </div>\n  );\n}\n\nEshopToolbar.defaultProps = {\n  showBackButton: true,\n  showMenuButton: true,\n  onBack: () => {},\n  onCheckout: () => {},\n  onLinkClick: () => {},\n};\n\nconst useGeneralToolbarStyles = makeStyles((theme) => ({\n  container: { display: 'flex', alignItems: 'center' },\n  tabsIndicator: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n  tabRoot: {\n    '&:hover': {\n      backgroundColor: theme.palette.secondary.light,\n      color: theme.palette.secondary.main,\n    },\n  },\n  tabSelected: {\n    backgroundColor: theme.palette.secondary.light,\n    color: theme.palette.secondary.main,\n  },\n  rippleChild: {\n    backgroundColor: theme.palette.secondary.main,\n  },\n}));\n\nfunction GeneralToolbar(props) {\n  const { activeLink, onClick, onCheckout } = props;\n\n  const { t } = useTranslation();\n  const classes = useGeneralToolbarStyles();\n\n  return (\n    <div className={classes.container}>\n      <Tabs\n        value={activeLink}\n        classes={{\n          indicator: classes.tabsIndicator,\n        }}\n      >\n        {[\n          { route: 'eshop', label: t('Eshop') },\n          { route: 'address', label: t('Addresses') },\n          { route: 'payment-card', label: t('Payment Cards') },\n        ].map((item) => (\n          <Tab\n            classes={{ root: classes.tabRoot, selected: classes.tabSelected }}\n            key={item.route}\n            label={item.label}\n            value={item.route}\n            onClick={() => {\n              onClick && onClick(item.route);\n            }}\n            TouchRippleProps={{\n              classes: {\n                child: classes.rippleChild,\n              },\n            }}\n          ></Tab>\n        ))}\n      </Tabs>\n      &nbsp;\n      <ShoppingCart onClick={onCheckout} />\n    </div>\n  );\n}\n\nTopbar.defaultProps = { activeLink: 'shop', onClick: () => {} };\n\nconst useStyles = makeStyles((theme) => ({\n  appbar: {\n    zIndex: 1000,\n    backgroundColor: '#FFFFFF',\n  },\n  toolbar: {\n    width: '100%',\n    height: '100%',\n    margin: 'auto',\n    justifyContent: 'flex-end',\n    maxWidth: 1400 + theme.spacing(2),\n  },\n}));\n\nfunction Topbar(props) {\n  const { location, history, match } = props;\n  const { url, path } = match;\n  const { pathname } = location;\n\n  const classes = useStyles();\n\n  const getActiveLink = useCallback(() => {\n    if (pathname.includes('eshop/address')) {\n      return 'address';\n    } else if (pathname.includes('eshop/payment-card')) {\n      return 'payment-card';\n    } else {\n      return 'eshop';\n    }\n  }, [pathname]);\n\n  const handleLinkClick = useCallback(\n    (type = 'eshop') => {\n      if (type === 'address') {\n        history.push(`${path}/address`);\n      } else if (type === 'payment-card') {\n        history.push(`${path}/payment-card`);\n      } else {\n        history.push(path);\n      }\n    },\n    [history, path]\n  );\n\n  const handleCheckout = useCallback(() => {\n    history.push(`${url}/checkout`);\n  }, [history, url]);\n\n  const handleRedirectToAddressList = useCallback(() => {\n    history.replace(`${url}/address`);\n  }, [history, url]);\n\n  const handleRedirectToPaymentCardList = useCallback(() => {\n    history.replace(`${url}/payment-card`);\n  }, [history, url]);\n\n  const handleRedirectToEshop = useCallback(() => {\n    history.replace({\n      pathname: url,\n      state: location.state,\n      search: location.search,\n    });\n  }, [history, url, location]);\n\n  const handleAddressFormOnBack = useCallback(() => {\n    const fromUrl = location && location.state && location.state.fromUrl;\n    if (fromUrl) {\n      history.replace(fromUrl);\n    } else {\n      handleRedirectToAddressList();\n    }\n  }, [history, location, handleRedirectToAddressList]);\n\n  const activeLink = getActiveLink();\n\n  return (\n    <AppBar className={classes.appbar} position=\"relative\" color=\"default\">\n      <Toolbar className={classes.toolbar} variant=\"dense\">\n        <Switch>\n          <Route\n            exact\n            path={path}\n            render={(props) => (\n              <GeneralToolbar\n                {...props}\n                activeLink={activeLink}\n                onClick={handleLinkClick}\n                onCheckout={handleCheckout}\n              />\n            )}\n          />\n          <Route\n            exact\n            path={`${path}/address`}\n            render={(props) => (\n              <GeneralToolbar\n                {...props}\n                activeLink={activeLink}\n                onClick={handleLinkClick}\n                onCheckout={handleCheckout}\n              />\n            )}\n          />\n          <Route\n            path={`${path}/address/:addressId`}\n            render={(props) => (\n              <ClientToolbar {...props} onBack={handleAddressFormOnBack} />\n            )}\n          />\n          <Route\n            exact\n            path={`${path}/payment-card`}\n            render={(props) => (\n              <GeneralToolbar\n                {...props}\n                activeLink={activeLink}\n                onClick={handleLinkClick}\n                onCheckout={handleCheckout}\n              />\n            )}\n          />\n          <Route\n            path={`${path}/payment-card/:paymentCardId`}\n            render={(props) => (\n              <ClientToolbar\n                {...props}\n                onBack={handleRedirectToPaymentCardList}\n              />\n            )}\n          />\n          <Route path={`${path}/checkout/:message`} render={(props) => null} />\n          <Route\n            path={`${path}/checkout`}\n            render={(props) => (\n              <EshopToolbar\n                {...props}\n                onBack={handleRedirectToEshop}\n                onCheckout={handleCheckout}\n                onLinkClick={handleLinkClick}\n                showMenuButton={false}\n              />\n            )}\n          />\n          <Route\n            path={`${path}/product/:productId`}\n            render={(props) => (\n              <EshopToolbar\n                {...props}\n                onBack={handleRedirectToEshop}\n                onCheckout={handleCheckout}\n                onLinkClick={handleLinkClick}\n                showMenuButton={false}\n              />\n            )}\n          />\n        </Switch>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nTopbar.defaultProps = {\n  activeLink: 'shop',\n  onClick: () => {},\n  onCheckout: () => {},\n};\n\nexport default withRouter(Topbar);\n","import React from 'react';\nimport { useTheme } from 'goovee-lib';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Eshop from './pages/Eshop';\nimport Address from './pages/Address';\nimport PaymentCard from './pages/PaymentCard';\nimport TopBar from './containers/Topbar';\nimport Loader from './components/Loader';\nimport EshopAPI from './EshopAPI';\nimport { useTranslation } from './providers/TranslationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    overflow: 'auto',\n    height: (props) => `calc(100% - ${props.theme.spacingUnit * 6}px)`, //Height of topbar\n    padding: (props) => props.theme.spacingUnit * 3,\n    maxWidth: 1400,\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      // Todo consistent breakpoints\n      padding: (props) => props.theme.spacingUnit * 2,\n    },\n  },\n}));\n\nfunction EshopContainer(props) {\n  const [loading, setLoading] = React.useState(true);\n  const [data, setData] = React.useState({ app: null, user: null });\n  const userLanguage = data && data.user && data.user.language;\n\n  const { match } = props;\n  const { path } = match;\n\n  const theme = useTheme();\n  const classes = useStyles({ theme });\n  const { i18n } = useTranslation();\n\n  const addressPath = path + '/address';\n  const paymentCardPath = path + '/payment-card';\n  const eshopPath = path;\n\n  React.useEffect(() => {\n    EshopAPI.fetchInfo()\n      .then((data) => setData(data))\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    if (userLanguage) {\n      setLoading(true);\n      i18n.changeLanguage(userLanguage).finally(() => {\n        setLoading(false);\n      });\n    }\n  }, [userLanguage, i18n]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <TopBar />\n      <div className={classes.container}>\n        <Switch>\n          <Route path={addressPath} component={Address} />\n          <Route path={paymentCardPath} component={PaymentCard} />\n          <Route path={eshopPath} component={Eshop} />\n          <Redirect to={{ pathname: path }} />\n        </Switch>\n      </div>\n    </>\n  );\n}\n\nexport default EshopContainer;\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport {\n  createMuiTheme,\n  ThemeProvider as MuiThemeProvider,\n  makeStyles as muiMakeStyles,\n} from '@material-ui/core/styles';\n\nexport const COLORS = {\n  darkBlue: '#293847',\n  grey: '#9E9E9E',\n  green: '#3ECF8E',\n  lightGreen: 'rgba(62, 207, 142, 0.1)',\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: COLORS.darkBlue,\n    },\n    secondary: {\n      light: COLORS.lightGreen,\n      main: COLORS.green,\n      contrastText: '#FFFFFF',\n    },\n  },\n  overrides: {\n    MuiTypography: {\n      colorTextPrimary: { color: COLORS.darkBlue },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 20,\n      },\n    },\n  },\n  props: {\n    MuiInput: {\n      disableUnderline: true,\n    },\n    MuiTextField: {\n      variant: 'outlined',\n      margin: 'dense',\n      fullWidth: true,\n    },\n    MuiButton: {\n      variant: 'contained',\n      color: 'secondary',\n    },\n  },\n  custom: {\n    COLORS,\n  },\n});\n\nfunction ThemeProvider({ children }) {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </MuiThemeProvider>\n  );\n}\n\nexport const makeStyles = muiMakeStyles;\n\nexport default ThemeProvider;\n","import React from 'react';\nimport { SnackbarProvider as NotistackSnackbarProvider } from 'notistack';\n\nfunction SnackbarProvider(props) {\n  const { children } = props;\n\n  const anchorOrigin = React.useMemo(\n    () => ({ vertical: 'bottom', horizontal: 'left' }),\n    []\n  );\n\n  return (\n    <NotistackSnackbarProvider\n      autoHideDuration={3000}\n      maxSnack={3}\n      anchorOrigin={anchorOrigin}\n    >\n      {children}\n    </NotistackSnackbarProvider>\n  );\n}\n\nexport default SnackbarProvider;\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom';\n\nimport EshopApp from './EshopApp';\nimport TranslationProvider from './providers/TranslationProvider';\nimport ThemeProvider from './providers/ThemeProvider';\nimport SnackbarProvider from './providers/SnackbarProvider';\nimport EshopProvider from './providers/EshopProvider';\n\nfunction Eshop() {\n  return (\n    <React.Suspense fallback=\"\">\n      <HashRouter>\n        <CssBaseline />\n        <ThemeProvider>\n          <TranslationProvider>\n            <EshopProvider>\n              <SnackbarProvider>\n                <Switch>\n                  <Route path=\"/eshop\" component={EshopApp} />\n                  <Redirect to=\"/eshop\" />\n                </Switch>\n              </SnackbarProvider>\n            </EshopProvider>\n          </TranslationProvider>\n        </ThemeProvider>\n      </HashRouter>\n    </React.Suspense>\n  );\n}\n\nexport default Eshop;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Eshop from './Eshop';\nimport './index.css';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Eshop />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}