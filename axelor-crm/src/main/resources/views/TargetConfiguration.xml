<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">
    
    <grid name="target-configuration-grid" title="Target configurations" model="com.axelor.apps.crm.db.TargetConfiguration">
        <field name="name"/>
        <field name="code" x-bind="{{code|unaccent|uppercase}}"/>
        <field name="user" form-view="user-form" grid-view="user-grid" />
       	<field name="team" form-view="team-form" grid-view="team-grid"/>
    </grid>
    
<!--     <form name="target-configuration-form" title="Target configuration" model="com.axelor.apps.crm.db.TargetConfiguration"  > -->
<!-- 	    <group  > -->
<!-- 	        <field name="name"/> -->
<!-- 	        <field name="code" x-bind="{{code|unaccent|uppercase}}"/>     -->
<!-- 	    </group> -->
<!-- 	    <group title="Concerns"  > -->
<!-- 	        <field name="user" canNew="false" canEdit="false" canView="false" showIf="team == null"/> -->
<!-- 	        <field name="team" showIf="user == null"/>     -->
<!-- 	    </group> -->
<!-- 	    <group title="Period"  > -->
<!-- 	        <field name="periodTypeSelect"/> -->
<!-- 	        <break/> -->
<!-- 	        <field name="fromDate"/> -->
<!-- 	        <field name="toDate"/> -->
<!-- 	    </group> -->
<!-- 	    <group title="Targets"     > -->
<!-- 	        <group  > -->
<!-- 	            <separator title="Opportunities"  /> -->
<!-- 	            <break/> -->
<!-- 	            <field name="opportunityAmountWon"/> -->
<!-- 	            <break/> -->
<!-- 	            <field name="opportunityCreatedNumber"/> -->
<!-- 	            <break/> -->
<!-- 	            <field name="opportunityCreatedWon"/> -->
<!-- 	        </group> -->
<!-- 	        <group  > -->
<!-- 	            <separator title="Calls"  /> -->
<!-- 	            <break/> -->
<!-- 	            <field name="callEmittedNumber"/> -->
<!-- 	        </group> -->
<!-- 	        <group  > -->
<!-- 	            <separator title="Meetings"  /> -->
<!-- 	            <break/> -->
<!-- 	            <field name="meetingNumber"/> -->
<!-- 	        </group> -->
	        <!--         <group title="Sales order"  > -->
<!--         	<field name="saleOrderAmountWon"/> -->
<!--         	<field name="saleOrderCreatedNumber"/> -->
<!--         	<field name="saleOrderCreatedWon"/> -->
<!--         </group> -->
<!-- 	    </group> -->
<!-- 	</form> -->
    <form name="target-configuration-form" title="Target configuration" model="com.axelor.apps.crm.db.TargetConfiguration" width="large">
      <toolbar>
      	<button name="generateTarget" onClick="action-crm-target-configuration-method-generate-target" title="Generate target"/>
      </toolbar>
	  <panel name="main" >
	    <field name="name"/>
	    <field name="code" x-bind="{{code|unaccent|uppercase}}"/>
	  </panel>
	  <panel name="concerns" title="Concerns">
	    <field name="user" canNew="false" canEdit="false" canView="false" showIf="team == null" form-view="user-form" grid-view="user-grid" />
	    <field name="team" canEdit="false" showIf="user == null" form-view="team-form" grid-view="team-grid" if="__config__.app.getApp('base').getTeamManagement()"/>
	  </panel>
	  <panel name="period" title="Period">
	    <field name="periodTypeSelect"/>
	    <field name="fromDate"/>
	    <field name="toDate"/>
	  </panel>
	  <panel name="targets" title="Targets">
	      <panel title="Opportunities" colSpan="4">
	        <field name="opportunityAmountWon" colSpan="12"/>
	        <field name="opportunityCreatedNumber" colSpan="12"/>
	        <field name="opportunityCreatedWon" colSpan="12"/>
	      </panel>
	      <panel name="calls" title="Calls" colSpan="4">
	        <field name="callEmittedNumber"/>
	     </panel>
	     <panel name="meetings" title="Meetings" colSpan="4">
	      <field name="meetingNumber"/>
	    </panel>
	  </panel>
	</form>
	
	<action-method name="action-crm-target-configuration-method-generate-target">
		<call class="com.axelor.apps.crm.web.TargetConfigurationController" method="generateTarget"/>
	</action-method>
</object-views>