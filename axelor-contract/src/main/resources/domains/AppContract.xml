<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models http://axelor.com/xml/ns/domain-models/domain-models_7.4.xsd">

  <module name="studio" package="com.axelor.studio.db"/>

  <entity name="AppContract" cacheable="true">

    <one-to-one ref="com.axelor.studio.db.App" name="app" unique="true"/>

    <boolean name="isUnchangableContract" title="Unchangable contract"
      help="If this configuration is enabled, you can no longer modify the invoicing content and the contract configurations once it is active without having to create a new version."/>
    <boolean name="isAmendmentManagement" title="Amendment management"
      help="If this configuration is enabled, it is possible to create new contract versions, called amendments. If the Unchangable contract configuration is enabled, you must create a new version of a contract when you want to modify it."/>
    <boolean name="isRenewalManagement" title="Renewal management"
      help="If this configuration is enabled, it is possible to manage contract renewals. Without this, a contract ends at its end date."/>

    <boolean name="isInvoicingManagement" title="Invoicing management"
      help="This configuration enables contract invoicing, allowing you to generate invoices from contracts, either manually or automatically."/>
    <boolean name="isConsumptionManagement" title="Consumption management"
      help="This configuration enables consumption management on contracts, meaning you can add products or services during the contract that are used in addition to the standard invoicing content, and that you want to invoice at the next invoicing date."/>
    <boolean name="isAdditionalBenefitManagement" title="Additional Benefit Management"
      help="This configuration enables additional benefit management on contracts. These are benefits that can be added to the contract and will be invoiced on a one-time basis and not on a recurring basis."/>

    <boolean name="isConfigContract" title="Configurable contract"
      help="This configuration is essential, it allows configuring contracts."/>

    <track>
      <field name="isUnchangableContract" on="UPDATE"/>
      <field name="isAmendmentManagement" on="UPDATE"/>
      <field name="isRenewalManagement" on="UPDATE"/>
      <field name="isInvoicingManagement" on="UPDATE"/>
      <field name="isConsumptionManagement" on="UPDATE"/>
      <field name="isAdditionalBenefitManagement" on="UPDATE"/>
      <field name="isConfigContract" on="UPDATE"/>
    </track>
  </entity>

</domain-models>
