<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_7.4.xsd">


  <form id="business-production-employee-form" name="employee-form" title="Employee"
    model="com.axelor.apps.hr.db.Employee" extension="true">

    <extend target="//panel[@name='timesheetsSBSPanel']/field[@name='timesheetReminder']">
      <insert position="after">
        <field name="timesheetImputationSelect" colSpan="3"
          if="__config__.app.getApp('production')?.getEnableTimesheetOnManufOrder()"
          if-module="axelor-business-production"
          onChange="action-employee-attrs-timesheet-imputation-select-selection-in"/>
      </insert>
    </extend>

    <extend
      target="//panel[@name='timesheetsSBSPanel']/field[@name='timeLoggingPreferenceSelect']">
      <attribute name="validIf"
        value="(timesheetImputationSelect == 2 &amp;&amp; timeLoggingPreferenceSelect != 'days') || timesheetImputationSelect != 2"/>
    </extend>

    <extend target="//panel[@name='timesheetsPanel']/field[@name='timesheetReminder']">
      <insert position="after">
        <field name="timesheetImputationSelect" colSpan="3"
          if="__config__.app.getApp('production')?.getEnableTimesheetOnManufOrder()"
          if-module="axelor-business-production"
          onChange="action-employee-attrs-timesheet-imputation-select-selection-in"/>
      </insert>
    </extend>


    <extend
      target="//panel[@name='timesheetsPanel']/field[@name='timeLoggingPreferenceSelect']">
      <attribute name="validIf"
        value="(timesheetImputationSelect == 2 &amp;&amp; timeLoggingPreferenceSelect != 'days') || timesheetImputationSelect != 2"/>
    </extend>

  </form>

  <search-filters id="business-production-employee-filters" name="employee-filters"
    model="com.axelor.apps.hr.db.Employee" title="Employee filters">
    <field name="bankDetails" hidden="true"
      if="!__config__.app.getApp('base')?.getManageMultiBanks()"/>
    <field name="timesheetImputationSelect" hidden="true"
      if="!(__config__.app.isApp('production') &amp;&amp; __config__.app.getApp('production')?.getEnableTimesheetOnManufOrder())"/>
    <field name="lunchVoucherFormatSelect" hidden="true"
      if="!(__config__.app.isApp('employee') &amp;&amp; __config__.app.getApp('employee')?.getLunchVoucher())"/>
    <field name="lunchVoucherAdvanceList" hidden="true"
      if="!(__config__.app.isApp('employee') &amp;&amp; __config__.app.getApp('employee')?.getLunchVoucher())"/>
    <field name="employeeAdvanceList" hidden="true"
      if="!(__config__.app.isApp('employee') &amp;&amp; __config__.app.getApp('employee')?.getAdvanceManagement())"/>
    <field name="leaveLineList" hidden="true" if="!__config__.app.isApp('leave')"/>
    <field name="negativeValueLeave" hidden="true" if="!__config__.app.isApp('leave')"/>
    <field name="timeLoggingPreferenceSelect" hidden="true"
      if="!__config__.app.isApp('timesheet')"/>
    <field name="product" hidden="true" if="!__config__.app.isApp('timesheet')"/>
    <field name="timesheetReminder" hidden="true" if="!__config__.app.isApp('timesheet')"/>
    <field name="kilometricLogList" hidden="true" if="!__config__.app.isApp('timesheet')"/>
    <field name="employeeVehicleList" hidden="true" if="!__config__.app.isApp('expense')"/>
    <field name="mainEmploymentContract.payCompany"
      title="Pay company main employment contract"/>
    <field name="mainEmploymentContract.executiveStatusSelect"
      title="Main employment contract status"/>
    <field name="socialSecurityNumber" title="Social security number" hidden="true"/>
    <field name="contactPartner.firstName" title="First name"/>
    <filter name="employee-filters-new-employees" title="New employees">
      <domain>self.leavingDate IS NULL AND self.hireDate &gt; CURRENT_DATE - 30</domain>
    </filter>
    <filter name="employee-filters-active-employees" title="Active employees">
      <domain>(self.hireDate IS NULL AND self.leavingDate &gt;= CURRENT_DATE)
        OR (self.leavingDate IS
        NULL AND (self.hireDate + 30) &lt;= CURRENT_DATE)
        OR (self.hireDate IS NOT NULL AND
        self.leavingDate IS NOT NULL
        AND (self.hireDate + 30) &lt;= CURRENT_DATE AND self.leavingDate
        &gt;= CURRENT_DATE)</domain>
    </filter>
    <filter name="employee-filters-former-employees" title="Former employees">
      <domain>self.leavingDate &lt; CURRENT_DATE</domain>
    </filter>
  </search-filters>
</object-views>
